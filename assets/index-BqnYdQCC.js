import{_ as b}from"./proxylicense-JGl9XwsV.js";import{g as C}from"./projectService-CjDEJYEp.js";import{_ as P,Y as c,o as l,N as e,e as s,f as a,c as p,j as w,S as k,L as u,O as L,X as o,F as _,U as y,Q as v,R as N,$ as g,W as h,n as B,bR as S,aU as j,a9 as f,aW as x,T as D,aa as F,M as I}from"./index--x0Kpdb3.js";import"https://static.geetest.com/v4/gt4.js";const R={setup(){I({title:"Proxy"})},data(){return{orderitems:[{name:"热门的",type:"trending"},{name:"最受欢迎的",type:"popular"},{name:"新建的",type:"recent"}],tagitems:[{name:"全部",type:"*"},{name:"动画",type:"animations"},{name:"艺术",type:"art"},{name:"游戏",type:"games"},{name:"音乐",type:"music"},{name:"故事",type:"stories"},{name:"教程",type:"tutorials"}],search:{order:"trending",tag:"*",limit:18},usetime:0,ProjectsLoading:!1,projects:{},projectscount:0,curPage:1,scratch_proxy:"",translate:{community_newest_projects:"最新创建",community_most_remixed_projects:"大家在分叉的作品",scratch_design_studio:"Scratch设计室",curator_top_projects:"被特殊用户挑选的作品",community_featured_studios:"特色工作室",community_most_loved_projects:"大家在点赞的作品",community_featured_projects:"社区特殊作品"}}},async mounted(){this.scratch_proxy=await F("scratchproxy.url"),await this.getprojects()},methods:{async getprojects(){this.onPageChange(1)},async onPageChange(){this.usetime=Date.now(),this.ProjectsLoading=!0;try{const i=await C();this.projects=i.data}catch(i){console.log(i)}finally{this.ProjectsLoading=!1,this.usetime=Date.now()-this.usetime}}}},T={class:"mb-2"};function M(i,t,U,W,n,$){const V=b;return l(),c(D,null,{default:e(()=>[s(V,{url:"https://scratch.mit.edu/explore/projects/all"}),t[5]||(t[5]=a("br",null,null,-1)),s(w,{active:n.ProjectsLoading,height:"4",indeterminate:""},null,8,["active"]),a("div",T,[s(k,null,{default:e(()=>[s(L,{icon:"mdi-clock",start:""}),u(" 本页加载用时"+o(Math.abs(n.usetime/1e3))+"秒 ",1)]),_:1})]),(l(!0),p(_,null,y(n.projects,(m,d)=>(l(),p("div",{key:m},[a("h1",null,o(n.translate[d]||d),1),t[0]||(t[0]=a("br",null,null,-1)),s(v,null,{default:e(()=>[(l(!0),p(_,null,y(m,r=>(l(),c(N,{key:r,cols:"4",md:"2"},{default:e(()=>[r.type=="project"?(l(),c(h,{key:0,to:"/app/proxy/"+r.id},{default:e(()=>[s(B,{src:`${n.scratch_proxy}/thumbnails/${r.id}`,cover:"","lazy-src":S},null,8,["src"]),s(j,null,{default:e(()=>[s(f,null,{default:e(()=>[u(o(r.title),1)]),_:2},1024),s(x,null,{default:e(()=>[u(o(r.creator),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])):g("",!0),r.type=="gallery"?(l(),c(h,{key:1,to:"/app/proxy/studios/"+r.id},{default:e(()=>[s(j,null,{default:e(()=>[s(f,null,{default:e(()=>[u(o(r.title),1)]),_:2},1024),s(x,null,{default:e(()=>[u(o(r.id),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])):g("",!0)]),_:2},1024))),128))]),_:2},1024),t[1]||(t[1]=a("br",null,null,-1)),t[2]||(t[2]=a("br",null,null,-1)),t[3]||(t[3]=a("br",null,null,-1)),t[4]||(t[4]=a("br",null,null,-1))]))),128))]),_:1,__:[5]})}const Q=P(R,[["render",M]]);export{Q as default};
