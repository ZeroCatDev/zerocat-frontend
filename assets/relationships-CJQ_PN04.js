import{_ as c}from"./UserBlocked-Bs0tAnd7.js";import{a as g,_ as w}from"./UserFollowers-BbZRdmaK.js";import{_ as x,X as r,o as a,M as o,e as s,Y as _,al as I,am as i,L as d,a8 as h,V as U,q as p,f as u,U as v,af as b,a6 as B}from"./index-CoinsG4v.js";import{g as T}from"./accountService-D92qm0jc.js";import{V as f}from"./VSkeletonLoader-ByzPsZhT.js";import"https://static.geetest.com/v4/gt4.js";const q={components:{UserFollowing:w,UserFollowers:g,UserBlocked:c},data(){return{tab:"following",localuser:b,userInfo:{},loading:!1}},setup(){B({title:"用户关系"})},watch:{"$route.query.tab":{immediate:!0,handler(t){t&&["following","followers","blocked"].includes(t)&&(this.tab=t)}},tab(t){this.$route.query.tab!==t&&this.$router.replace({query:{...this.$route.query,tab:t}})}},async created(){await this.getUserById()},methods:{async getUserById(){this.loading=!0;try{const t=await T(b.user.value.id);this.userInfo=t.data.data}catch(t){this.showToast("error","获取用户信息失败",t.message)}finally{this.loading=!1}},showToast(t,e,m){this.$toast.add({severity:t,summary:e,detail:m,life:3e3})}}};function C(t,e,m,N,l,F){const y=w,V=g,k=c;return a(),r(v,{class:"pa-4",fluid:""},{default:o(()=>[s(_,{border:"",class:"mb-4","prepend-icon":"mdi-account-group",subtitle:"管理您的关注、粉丝和拉黑用户列表",title:"用户关系"}),s(_,{border:"",hover:""},{default:o(()=>[s(I,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=n=>l.tab=n),"bg-color":"primary"},{default:o(()=>[s(i,{"prepend-icon":"mdi-account-multiple",value:"following"},{default:o(()=>e[2]||(e[2]=[d("我的关注",-1)])),_:1,__:[2]}),s(i,{"prepend-icon":"mdi-account-group",value:"followers"},{default:o(()=>e[3]||(e[3]=[d("我的粉丝",-1)])),_:1,__:[3]}),s(i,{"prepend-icon":"mdi-account-cancel",value:"blocked"},{default:o(()=>e[4]||(e[4]=[d("拉黑用户",-1)])),_:1,__:[4]})]),_:1},8,["modelValue"]),s(h,{class:"pa-4"},{default:o(()=>[s(U,{modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=n=>l.tab=n)},{default:o(()=>[s(p,{value:"following"},{default:o(()=>[e[5]||(e[5]=u("h3",{class:"text-h5 mb-4"},"我的关注",-1)),e[6]||(e[6]=u("p",{class:"text-subtitle-1 mb-4"},"您正在关注的用户列表，可以随时取消关注",-1)),l.userInfo.id?(a(),r(y,{key:0,"show-all":!0,"user-id":l.userInfo.id},null,8,["user-id"])):(a(),r(f,{key:1,loading:!0,type:"list-item-three-line"}))]),_:1,__:[5,6]}),s(p,{value:"followers"},{default:o(()=>[e[7]||(e[7]=u("h3",{class:"text-h5 mb-4"},"我的粉丝",-1)),e[8]||(e[8]=u("p",{class:"text-subtitle-1 mb-4"},"关注您的用户列表，您可以选择关注回去",-1)),l.userInfo.id?(a(),r(V,{key:0,"show-all":!0,"user-id":l.userInfo.id},null,8,["user-id"])):(a(),r(f,{key:1,loading:!0,type:"list-item-three-line"}))]),_:1,__:[7,8]}),s(p,{value:"blocked"},{default:o(()=>[e[9]||(e[9]=u("h3",{class:"text-h5 mb-4"},"拉黑用户",-1)),e[10]||(e[10]=u("p",{class:"text-subtitle-1 mb-4"},"您拉黑的用户列表，这些用户无法关注您或与您互动",-1)),l.userInfo.id?(a(),r(k,{key:0,"show-all":!0,"user-id":l.userInfo.id},null,8,["user-id"])):(a(),r(f,{key:1,loading:!0,type:"list-item-three-line"}))]),_:1,__:[9,10]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const X=x(q,[["render",C],["__scopeId","data-v-100f2a9f"]]);export{X as default};
