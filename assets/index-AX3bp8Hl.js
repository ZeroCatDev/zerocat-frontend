import{_ as h,r as p,b as w,Y as i,o,N as e,e as t,Q as f,R as V,f as l,i as x,L as d,W as k,a3 as y,a4 as b,O as _,ad as C,c as L,F as S,U as z,ae as A,C as I,af as B,$ as N,X as u,S as O,ag as T,Z as D,bJ as F,T as E,a1 as R}from"./index-CqDYMkg5.js";import{V as U}from"./VSpacer-BmIOKXlY.js";const $={class:"d-flex align-center"},J={class:"d-flex align-center text-grey"},M={class:"mr-4"},P={class:"mt-1"},Q={__name:"index",setup(W){const c=p([]),m=p(!1),n=p({show:!1,text:"",color:"error"}),g=async()=>{m.value=!0;try{const r=await R.get("/oauth/applications");c.value=r.data}catch(r){v("加载应用列表失败"),console.error("Failed to load applications:",r)}m.value=!1},v=r=>{n.value={show:!0,text:r,color:"error"}};return w(()=>{g()}),(r,a)=>(o(),i(E,{fluid:""},{default:e(()=>[t(f,{class:"mb-4"},{default:e(()=>[t(V,null,{default:e(()=>[l("div",$,[a[2]||(a[2]=l("h1",{class:"text-h4"},"OAuth 应用",-1)),t(U),t(x,{color:"primary","prepend-icon":"mdi-plus",to:"/app/oauth/applications/new"},{default:e(()=>a[1]||(a[1]=[d(" 新建应用 ")])),_:1,__:[1]})])]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(V,null,{default:e(()=>[t(k,null,{default:e(()=>[m.value?(o(),i(y,{key:0,class:"text-center py-8"},{default:e(()=>[t(b,{indeterminate:""})]),_:1})):c.value.length===0?(o(),i(y,{key:1,class:"text-center py-8"},{default:e(()=>[t(_,{icon:"mdi-apps",size:"64",color:"grey",class:"mb-4"}),a[4]||(a[4]=l("h3",{class:"text-h6 mb-2"},"还没有OAuth应用",-1)),a[5]||(a[5]=l("p",{class:"text-body-1 text-grey"}," 创建一个新的OAuth应用来让其他用户通过OAuth授权访问你的应用。 ",-1)),t(x,{color:"primary",class:"mt-4",to:"/app/oauth/applications/new"},{default:e(()=>a[3]||(a[3]=[d(" 创建第一个应用 ")])),_:1,__:[3]})]),_:1,__:[4,5]})):(o(),i(C,{key:2,lines:"two"},{default:e(()=>[(o(!0),L(S,null,z(c.value,s=>(o(),i(A,{key:s.client_id,to:`/app/oauth/applications/${s.client_id}`,style:I({display:s.status=="deleted"?"none":""}),class:"app-list-item"},{prepend:e(()=>[t(D,{image:s.logo_url||"/default-app-logo.png",size:"48",class:"mr-4"},null,8,["image"])]),default:e(()=>[t(B,{class:"text-h6 mb-1"},{default:e(()=>[d(u(s.name)+" ",1),s.is_verified?(o(),i(O,{key:0,color:"success",size:"small",class:"ml-2"},{default:e(()=>a[6]||(a[6]=[d(" 已验证 ")])),_:1,__:[6]})):N("",!0)]),_:2},1024),t(T,null,{default:e(()=>[l("div",J,[t(_,{icon:"mdi-identifier",size:"small",class:"mr-1"}),l("span",M,u(s.client_id),1),t(_,{icon:"mdi-clock-outline",size:"small",class:"mr-1"}),l("span",null,"创建于 "+u(new Date(s.created_at).toLocaleDateString()),1)]),l("div",P,u(s.description||"暂无描述"),1)]),_:2},1024)]),_:2},1032,["to","style"]))),128))]),_:1}))]),_:1})]),_:1})]),_:1}),t(F,{modelValue:n.value.show,"onUpdate:modelValue":a[0]||(a[0]=s=>n.value.show=s),color:n.value.color,timeout:3e3},{default:e(()=>[d(u(n.value.text),1)]),_:1},8,["modelValue","color"])]),_:1}))}},Z=h(Q,[["__scopeId","data-v-3d72de14"]]);export{Z as default};
