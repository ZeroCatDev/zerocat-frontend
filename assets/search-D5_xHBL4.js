var St=Object.defineProperty;var st=s=>{throw TypeError(s)};var Tt=(s,t,e)=>t in s?St(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var x=(s,t,e)=>Tt(s,typeof t!="symbol"?t+"":t,e),G=(s,t,e)=>t.has(s)||st("Cannot "+e);var a=(s,t,e)=>(G(s,t,"read from private field"),e?e.call(s):t.get(s)),w=(s,t,e)=>t.has(s)?st("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),$=(s,t,e,i)=>(G(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e),P=(s,t,e)=>(G(s,t,"access private method"),e);import{_ as $t,ag as z,X as it,o as J,P as S,h as T,l as Rt,a as kt,F as _t,T as qt,U as At,t as Pt,aw as Ft,ax as Ct,N as nt,W as at,ay as It,O as Dt}from"./index-DciVCUmA.js";import{_ as Et}from"./43-lazyload-CBkwrR6M.js";import{V as vt}from"./VTextField-IrqFJXft.js";import{V as rt,a as ut}from"./VRow-NwgpGi9i.js";import{V as Mt}from"./VPagination-CcCZFJZA.js";import{V as Vt}from"./VContainer-_MM2g6Cu.js";/* empty css                   */import"./VField-D0Bh-kFl.js";import"./VInput-DDAmLpQv.js";/* empty css              */const Nt={INDEX_NOT_FOUND:"index_not_found"};class j extends Error{constructor(){super(...arguments);x(this,"name","MeiliSearchError")}}class jt extends j{constructor(e,i){super((i==null?void 0:i.message)??`${e.status}: ${e.statusText}`);x(this,"name","MeiliSearchApiError");x(this,"cause");x(this,"response");this.response=e,i!==void 0&&(this.cause=i)}}class Ht extends j{constructor(e,i){super(`Request to ${e} has failed`,{cause:i});x(this,"name","MeiliSearchRequestError")}}class Ut extends j{constructor(e,i){super(`request timed out after ${e}ms`);x(this,"name","MeiliSearchRequestTimeOutError");x(this,"cause");this.cause={timeout:e,requestInit:i}}}class Ot extends j{constructor(e,i){super(`timeout of ${i}ms has exceeded on task ${e} when waiting for it to be resolved.`);x(this,"name","MeiliSearchTaskTimeOutError");x(this,"cause");this.cause={taskUid:e,timeout:i}}}const Kt="0.50.0";function Lt(s){return s.startsWith("https://")||s.startsWith("http://")?s:`http://${s}`}function Bt(s){return s.endsWith("/")||(s+="/"),s}function Qt(s,t){for(const[e,i]of Object.entries(t))i!=null&&s.set(e,Array.isArray(i)?i.join():i instanceof Date?i.toISOString():String(i))}function zt(s,t){const e="X-Meilisearch-Client",i=`Meilisearch JavaScript (v${Kt})`,n="Content-Type",r="Authorization",u=new Headers(t);if(s.apiKey&&!u.has(r)&&u.set(r,`Bearer ${s.apiKey}`),u.has(n)||u.set(n,"application/json"),s.clientAgents!==void 0){const p=s.clientAgents.concat(i);u.set(e,p.join(" ; "))}else u.set(e,i);return u}const Z={};function Wt(s,t){const{signal:e}=s,i=new AbortController;if(e!=null){let n=null;if(e.aborted)i.abort(e.reason);else{const r=()=>i.abort(e.reason);e.addEventListener("abort",r,{once:!0}),n=()=>e.removeEventListener("abort",r),i.signal.addEventListener("abort",n,{once:!0})}return()=>{if(e.aborted)return;const r=setTimeout(()=>i.abort(Z),t),u=()=>{clearTimeout(r),n!==null&&i.signal.removeEventListener("abort",n)};return e.addEventListener("abort",u,{once:!0}),()=>{e.removeEventListener("abort",u),u()}}}return s.signal=i.signal,()=>{const n=setTimeout(()=>i.abort(Z),t);return()=>clearTimeout(n)}}var O,C,M,I,_,lt,v;class X{constructor(t){w(this,_);w(this,O);w(this,C);w(this,M);w(this,I);var i;const e=Bt(Lt(t.host));try{$(this,O,new URL(e))}catch(n){throw new j("The provided host is not valid",{cause:n})}$(this,C,{...t.requestInit,headers:zt(t,(i=t.requestInit)==null?void 0:i.headers)}),$(this,M,t.httpClient),$(this,I,t.timeout)}get(t){return P(this,_,v).call(this,t)}post(t){return P(this,_,v).call(this,{...t,method:"POST"})}put(t){return P(this,_,v).call(this,{...t,method:"PUT"})}patch(t){return P(this,_,v).call(this,{...t,method:"PATCH"})}delete(t){return P(this,_,v).call(this,{...t,method:"DELETE"})}}O=new WeakMap,C=new WeakMap,M=new WeakMap,I=new WeakMap,_=new WeakSet,lt=function(t,e){if(t===void 0&&e===void 0)return a(this,C).headers;const i=new Headers(t);e!==void 0&&!i.has("Content-Type")&&i.set("Content-Type",e);for(const[n,r]of a(this,C).headers)i.has(n)||i.set(n,r);return i},v=async function({path:t,method:e,params:i,contentType:n,body:r,extraRequestInit:u}){const p=new URL(t,a(this,O));i!==void 0&&Qt(p.searchParams,i);const d={method:e,body:n===void 0||typeof r!="string"?JSON.stringify(r):r,...u,...a(this,C),headers:P(this,_,lt).call(this,u==null?void 0:u.headers,n)},b=a(this,I)!==void 0?Wt(d,a(this,I)):null,f=b==null?void 0:b();let l,y;try{if(a(this,M)!==void 0)return await a(this,M).call(this,p,d);l=await fetch(p,d),y=await l.text()}catch(R){throw new Ht(p.toString(),Object.is(R,Z)?new Ut(a(this,I),d):R)}finally{f==null||f()}const m=y===""?void 0:JSON.parse(y);if(!l.ok)throw new jt(l,m);return m};const ct={};function pt(s){return function(t){return Object.defineProperty(t,"waitTask",{async value(e){return await s.waitForTask(await t,e)}})}}const Gt=s=>typeof s=="number"?s:s.taskUid;var A,K,L,V;class Y{constructor(t,e){w(this,A);w(this,K);w(this,L);w(this,V);$(this,A,t),$(this,K,(e==null?void 0:e.timeout)??5e3),$(this,L,(e==null?void 0:e.interval)??50),$(this,V,pt(this))}async getTask(t,e){return await a(this,A).get({path:`tasks/${t}`,extraRequestInit:e})}async getTasks(t){return await a(this,A).get({path:"tasks",params:t})}async waitForTask(t,e){const i=Gt(t),n=(e==null?void 0:e.timeout)??a(this,K),r=(e==null?void 0:e.interval)??a(this,L),u=n>0?new AbortController:null,p=u!==null?setTimeout(()=>void u.abort(ct),n):void 0;try{for(;;){const d=await this.getTask(i,{signal:u==null?void 0:u.signal});if(d.status!=="enqueued"&&d.status!=="processing")return clearTimeout(p),d;r>0&&await new Promise(b=>setTimeout(b,r))}}catch(d){throw Object.is(d.cause,ct)?new Ot(i,n):d}}async*waitForTasksIter(t,e){for await(const i of t)yield await this.waitForTask(i,e)}async waitForTasks(...t){const e=[];for await(const i of this.waitForTasksIter(...t))e.push(i);return e}cancelTasks(t){return a(this,V).call(this,a(this,A).post({path:"tasks/cancel",params:t}))}deleteTasks(t){return a(this,V).call(this,a(this,A).delete({path:"tasks",params:t}))}}A=new WeakMap,K=new WeakMap,L=new WeakMap,V=new WeakMap;function tt(s,t){const e=pt(t);return{post:(...i)=>e(s.post(...i)),put:(...i)=>e(s.put(...i)),patch:(...i)=>e(s.patch(...i)),delete:(...i)=>e(s.delete(...i))}}var c;class F{constructor(t,e,i){x(this,"uid");x(this,"primaryKey");x(this,"createdAt");x(this,"updatedAt");x(this,"httpRequest");x(this,"tasks");w(this,c);this.uid=e,this.primaryKey=i,this.httpRequest=new X(t),this.tasks=new Y(this.httpRequest,t.defaultWaitOptions),$(this,c,tt(this.httpRequest,this.tasks))}async search(t,e,i){return await this.httpRequest.post({path:`indexes/${this.uid}/search`,body:{q:t,...e},extraRequestInit:i})}async searchGet(t,e,i){var u,p,d,b,f,l,y;const r={q:t,...e,filter:(m=>{if(typeof m=="string")return m;if(Array.isArray(m))throw new j("The filter query parameter should be in string format when using searchGet")})(e==null?void 0:e.filter),sort:(u=e==null?void 0:e.sort)==null?void 0:u.join(","),facets:(p=e==null?void 0:e.facets)==null?void 0:p.join(","),attributesToRetrieve:(d=e==null?void 0:e.attributesToRetrieve)==null?void 0:d.join(","),attributesToCrop:(b=e==null?void 0:e.attributesToCrop)==null?void 0:b.join(","),attributesToHighlight:(f=e==null?void 0:e.attributesToHighlight)==null?void 0:f.join(","),vector:(l=e==null?void 0:e.vector)==null?void 0:l.join(","),attributesToSearchOn:(y=e==null?void 0:e.attributesToSearchOn)==null?void 0:y.join(",")};return await this.httpRequest.get({path:`indexes/${this.uid}/search`,params:r,extraRequestInit:i})}async searchForFacetValues(t,e){return await this.httpRequest.post({path:`indexes/${this.uid}/facet-search`,body:t,extraRequestInit:e})}async searchSimilarDocuments(t){return await this.httpRequest.post({path:`indexes/${this.uid}/similar`,body:t})}async getRawInfo(){const t=await this.httpRequest.get({path:`indexes/${this.uid}`});return this.primaryKey=t.primaryKey,this.updatedAt=new Date(t.updatedAt),this.createdAt=new Date(t.createdAt),t}async fetchInfo(){return await this.getRawInfo(),this}async fetchPrimaryKey(){return this.primaryKey=(await this.getRawInfo()).primaryKey,this.primaryKey}static create(t,e={},i){const n=new X(i);return tt(n,new Y(n)).post({path:"indexes",body:{...e,uid:t}})}update(t){return a(this,c).patch({path:`indexes/${this.uid}`,body:t})}delete(){return a(this,c).delete({path:`indexes/${this.uid}`})}async getStats(){return await this.httpRequest.get({path:`indexes/${this.uid}/stats`})}async getDocuments(t){const e=`indexes/${this.uid}/documents`;return(t==null?void 0:t.filter)!==void 0?await this.httpRequest.post({path:`${e}/fetch`,body:t}):await this.httpRequest.get({path:e,params:t})}async getDocument(t,e){const i=Array.isArray(e==null?void 0:e.fields)?e.fields.join():void 0;return await this.httpRequest.get({path:`indexes/${this.uid}/documents/${t}`,params:{...e,fields:i}})}addDocuments(t,e){return a(this,c).post({path:`indexes/${this.uid}/documents`,params:e,body:t})}addDocumentsFromString(t,e,i){return a(this,c).post({path:`indexes/${this.uid}/documents`,body:t,params:i,contentType:e})}addDocumentsInBatches(t,e=1e3,i){const n=[];for(let r=0;r<t.length;r+=e)n.push(this.addDocuments(t.slice(r,r+e),i));return n}updateDocuments(t,e){return a(this,c).put({path:`indexes/${this.uid}/documents`,params:e,body:t})}updateDocumentsInBatches(t,e=1e3,i){const n=[];for(let r=0;r<t.length;r+=e)n.push(this.updateDocuments(t.slice(r,r+e),i));return n}updateDocumentsFromString(t,e,i){return a(this,c).put({path:`indexes/${this.uid}/documents`,body:t,params:i,contentType:e})}deleteDocument(t){return a(this,c).delete({path:`indexes/${this.uid}/documents/${t}`})}deleteDocuments(t){const i=!Array.isArray(t)&&typeof t=="object"?"documents/delete":"documents/delete-batch";return a(this,c).post({path:`indexes/${this.uid}/${i}`,body:t})}deleteAllDocuments(){return a(this,c).delete({path:`indexes/${this.uid}/documents`})}updateDocumentsByFunction(t){return a(this,c).post({path:`indexes/${this.uid}/documents/edit`,body:t})}async getSettings(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings`})}updateSettings(t){return a(this,c).patch({path:`indexes/${this.uid}/settings`,body:t})}resetSettings(){return a(this,c).delete({path:`indexes/${this.uid}/settings`})}async getPagination(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/pagination`})}updatePagination(t){return a(this,c).patch({path:`indexes/${this.uid}/settings/pagination`,body:t})}resetPagination(){return a(this,c).delete({path:`indexes/${this.uid}/settings/pagination`})}async getSynonyms(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/synonyms`})}updateSynonyms(t){return a(this,c).put({path:`indexes/${this.uid}/settings/synonyms`,body:t})}resetSynonyms(){return a(this,c).delete({path:`indexes/${this.uid}/settings/synonyms`})}async getStopWords(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/stop-words`})}updateStopWords(t){return a(this,c).put({path:`indexes/${this.uid}/settings/stop-words`,body:t})}resetStopWords(){return a(this,c).delete({path:`indexes/${this.uid}/settings/stop-words`})}async getRankingRules(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/ranking-rules`})}updateRankingRules(t){return a(this,c).put({path:`indexes/${this.uid}/settings/ranking-rules`,body:t})}resetRankingRules(){return a(this,c).delete({path:`indexes/${this.uid}/settings/ranking-rules`})}async getDistinctAttribute(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/distinct-attribute`})}updateDistinctAttribute(t){return a(this,c).put({path:`indexes/${this.uid}/settings/distinct-attribute`,body:t})}resetDistinctAttribute(){return a(this,c).delete({path:`indexes/${this.uid}/settings/distinct-attribute`})}async getFilterableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/filterable-attributes`})}updateFilterableAttributes(t){return a(this,c).put({path:`indexes/${this.uid}/settings/filterable-attributes`,body:t})}resetFilterableAttributes(){return a(this,c).delete({path:`indexes/${this.uid}/settings/filterable-attributes`})}async getSortableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/sortable-attributes`})}updateSortableAttributes(t){return a(this,c).put({path:`indexes/${this.uid}/settings/sortable-attributes`,body:t})}resetSortableAttributes(){return a(this,c).delete({path:`indexes/${this.uid}/settings/sortable-attributes`})}async getSearchableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/searchable-attributes`})}updateSearchableAttributes(t){return a(this,c).put({path:`indexes/${this.uid}/settings/searchable-attributes`,body:t})}resetSearchableAttributes(){return a(this,c).delete({path:`indexes/${this.uid}/settings/searchable-attributes`})}async getDisplayedAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/displayed-attributes`})}updateDisplayedAttributes(t){return a(this,c).put({path:`indexes/${this.uid}/settings/displayed-attributes`,body:t})}resetDisplayedAttributes(){return a(this,c).delete({path:`indexes/${this.uid}/settings/displayed-attributes`})}async getTypoTolerance(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/typo-tolerance`})}updateTypoTolerance(t){return a(this,c).patch({path:`indexes/${this.uid}/settings/typo-tolerance`,body:t})}resetTypoTolerance(){return a(this,c).delete({path:`indexes/${this.uid}/settings/typo-tolerance`})}async getFaceting(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/faceting`})}updateFaceting(t){return a(this,c).patch({path:`indexes/${this.uid}/settings/faceting`,body:t})}resetFaceting(){return a(this,c).delete({path:`indexes/${this.uid}/settings/faceting`})}async getSeparatorTokens(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/separator-tokens`})}updateSeparatorTokens(t){return a(this,c).put({path:`indexes/${this.uid}/settings/separator-tokens`,body:t})}resetSeparatorTokens(){return a(this,c).delete({path:`indexes/${this.uid}/settings/separator-tokens`})}async getNonSeparatorTokens(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/non-separator-tokens`})}updateNonSeparatorTokens(t){return a(this,c).put({path:`indexes/${this.uid}/settings/non-separator-tokens`,body:t})}resetNonSeparatorTokens(){return a(this,c).delete({path:`indexes/${this.uid}/settings/non-separator-tokens`})}async getDictionary(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/dictionary`})}updateDictionary(t){return a(this,c).put({path:`indexes/${this.uid}/settings/dictionary`,body:t})}resetDictionary(){return a(this,c).delete({path:`indexes/${this.uid}/settings/dictionary`})}async getProximityPrecision(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/proximity-precision`})}updateProximityPrecision(t){return a(this,c).put({path:`indexes/${this.uid}/settings/proximity-precision`,body:t})}resetProximityPrecision(){return a(this,c).delete({path:`indexes/${this.uid}/settings/proximity-precision`})}async getEmbedders(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/embedders`})}updateEmbedders(t){return a(this,c).patch({path:`indexes/${this.uid}/settings/embedders`,body:t})}resetEmbedders(){return a(this,c).delete({path:`indexes/${this.uid}/settings/embedders`})}async getSearchCutoffMs(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}updateSearchCutoffMs(t){return a(this,c).put({path:`indexes/${this.uid}/settings/search-cutoff-ms`,body:t})}resetSearchCutoffMs(){return a(this,c).delete({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}async getLocalizedAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/localized-attributes`})}updateLocalizedAttributes(t){return a(this,c).put({path:`indexes/${this.uid}/settings/localized-attributes`,body:t})}resetLocalizedAttributes(){return a(this,c).delete({path:`indexes/${this.uid}/settings/localized-attributes`})}async getFacetSearch(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/facet-search`})}updateFacetSearch(t){return a(this,c).put({path:`indexes/${this.uid}/settings/facet-search`,body:t})}resetFacetSearch(){return a(this,c).delete({path:`indexes/${this.uid}/settings/facet-search`})}async getPrefixSearch(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/prefix-search`})}updatePrefixSearch(t){return a(this,c).put({path:`indexes/${this.uid}/settings/prefix-search`,body:t})}resetPrefixSearch(){return a(this,c).delete({path:`indexes/${this.uid}/settings/prefix-search`})}}c=new WeakMap;var N;class Jt{constructor(t){w(this,N);$(this,N,t)}async getBatch(t){return await a(this,N).get({path:`batches/${t}`})}async getBatches(t){return await a(this,N).get({path:"batches",params:t})}}N=new WeakMap;var B,Q,D;class Zt{constructor(t){x(this,"config");x(this,"httpRequest");w(this,B);w(this,Q);w(this,D);this.config=t,this.httpRequest=new X(t),$(this,B,new Y(this.httpRequest,t.defaultWaitOptions)),$(this,Q,new Jt(this.httpRequest)),$(this,D,tt(this.httpRequest,this.tasks))}get tasks(){return a(this,B)}get batches(){return a(this,Q)}index(t){return new F(this.config,t)}async getIndex(t){return new F(this.config,t).fetchInfo()}async getRawIndex(t){return new F(this.config,t).getRawInfo()}async getIndexes(t){const e=await this.getRawIndexes(t),i=e.results.map(n=>new F(this.config,n.uid,n.primaryKey));return{...e,results:i}}async getRawIndexes(t){return await this.httpRequest.get({path:"indexes",params:t})}createIndex(t,e){return F.create(t,e,this.config)}updateIndex(t,e){return new F(this.config,t).update(e)}deleteIndex(t){return new F(this.config,t).delete()}async deleteIndexIfExists(t){var e;try{return await this.deleteIndex(t),!0}catch(i){if(((e=i==null?void 0:i.cause)==null?void 0:e.code)===Nt.INDEX_NOT_FOUND)return!1;throw i}}swapIndexes(t){return a(this,D).post({path:"/swap-indexes",body:t})}async multiSearch(t,e){return await this.httpRequest.post({path:"multi-search",body:t,extraRequestInit:e})}async getNetwork(){return await this.httpRequest.get({path:"network"})}async updateNetwork(t){return await this.httpRequest.patch({path:"network",body:t})}async getKeys(t){const e=await this.httpRequest.get({path:"keys",params:t});return e.results=e.results.map(i=>({...i,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)})),e}async getKey(t){return await this.httpRequest.get({path:`keys/${t}`})}async createKey(t){return await this.httpRequest.post({path:"keys",body:t})}async updateKey(t,e){return await this.httpRequest.patch({path:`keys/${t}`,body:e})}async deleteKey(t){await this.httpRequest.delete({path:`keys/${t}`})}async health(){return await this.httpRequest.get({path:"health"})}async isHealthy(){try{const{status:t}=await this.health();return t==="available"}catch{return!1}}async getStats(){return await this.httpRequest.get({path:"stats"})}async getVersion(){return await this.httpRequest.get({path:"version"})}createDump(){return a(this,D).post({path:"dumps"})}createSnapshot(){return a(this,D).post({path:"snapshots"})}}B=new WeakMap,Q=new WeakMap,D=new WeakMap;function gt(s){return typeof s=="object"&&!Array.isArray(s)&&s!==null}function Xt(s){return{...{placeholderSearch:!0,keepZeroFacets:!1,clientAgents:[],finitePagination:!1},...s}}function Yt(s){if(typeof s=="function"){const t=s();if(typeof t!="string")throw new TypeError("Provided apiKey function (2nd parameter) did not return a string, expected string");return t}return s}function te(s,t,e){const{requestInit:i,httpClient:n}=e;if(typeof t!="string"&&typeof t!="function")throw new TypeError("Provided apiKey value (2nd parameter) is not a string or a function, expected string or function");if(i!==void 0&&!gt(i))throw new TypeError("Provided requestInit should be an object");if(n&&typeof n!="function")throw new TypeError("Provided custom httpClient should be a function")}function ee(s,t){return{multiSearch:async function(e,i){const n=t.formatKey([e]),r=t.getEntry(n);if(r)return r;const p=(await s.multiSearch({queries:e})).results.map((d,b)=>({...d,pagination:i[b]||{}}));return t.setEntry(n,p),p}}}function se({insideBoundingBox:s,aroundLatLng:t,aroundRadius:e,minimumAroundRadius:i}){let n,r,u;if(t){const[p,d]=t.split(",").map(b=>Number.parseFloat(b).toFixed(5));n=[p,d]}if((e!=null||i!=null)&&(e==="all"?console.warn("instant-meilisearch is not compatible with the `all` value on the aroundRadius parameter"):e!=null?r=e:r=i),s&&typeof s=="string"){const[p,d,b,f]=s.split(",").map(l=>parseFloat(l));u=`_geoBoundingBox([${p}, ${d}], [${b}, ${f}])`}else if(n!=null&&r!=null){const[p,d]=n;u=`_geoRadius(${p}, ${d}, ${r})`}return u}const ie=/([\\"])/g;function ft(s){return s.replace(ie,"\\$1")}function ne(s){const t=ft(s),e=t.indexOf(":"),i=t.slice(0,e),n=t.slice(e+1);return`"${i}"="${n}"`}function ae(s){const t=()=>{const u=s.match(/^([^<!>:=]*)([<!>:=]+)(.*)$/);if(u){const[p,d,b]=u.slice(1),f=d.match(/^([<!>]?=|<|>|:){1}(.*)/)||["",""],[l,y]=f.slice(1),m=y+b;return[p,l,m]}return[s,"",""]},[e,i,n]=t();return`"${ft(e).trim()}"${i===":"?" ":i}${n.trim()}`}function ot(s,t){return typeof t=="string"?s(t):t.map(e=>typeof e=="string"?s(e):e.map(i=>s(i)))}function ht(s){return typeof s=="string"?[s]:s}function re(s,t,e){const i=ht(t),n=ht(e),r=[];return s!==void 0&&r.push(s),i!==void 0&&r.push(...i),n!==void 0&&r.push(...n),r}function ue(s,t,e){const i=t!==void 0?ot(ae,t):t,n=e!==void 0?ot(ne,e):e;return re(s,i,n)}function ce(s,t,e){return!(!e&&!t&&(!s||s.length===0))}function oe(s,t){const{page:e,hitsPerPage:i}=s;return t?{limit:i+1,offset:e*i}:{limit:0,offset:0}}function he(s,t){const{page:e,hitsPerPage:i}=s;return t?{hitsPerPage:i,page:e+1}:{hitsPerPage:0,page:e+1}}function yt(s){const{query:t,indexUid:e,facets:i,attributesToSnippet:n,snippetEllipsisText:r,filters:u,numericFilters:p,facetFilters:d,attributesToRetrieve:b,attributesToHighlight:f,highlightPreTag:l,highlightPostTag:y,placeholderSearch:m,pagination:R,sort:k,restrictSearchableAttributes:E,meiliSearchParams:o}=s,g={indexUid:e},q=ue(u,p,d);return{getParams(){return g},addQuery(){g.q=t},addFacets(){const h=i;h!==void 0&&(g.facets=typeof h=="string"?[h]:h)},addAttributesToCrop(){const h=(o==null?void 0:o.attributesToCrop)??n;h!==void 0&&(g.attributesToCrop=h)},addCropLength(){const h=o==null?void 0:o.cropLength;h!==void 0&&(g.cropLength=h)},addCropMarker(){const h=(o==null?void 0:o.cropMarker)??r;h!==void 0&&(g.cropMarker=h)},addFilters(){q.length&&(g.filter=q)},addAttributesToRetrieve(){const h=(o==null?void 0:o.attributesToRetrieve)??b;h!==void 0&&(g.attributesToRetrieve=h)},addAttributesToHighlight(){g.attributesToHighlight=(o==null?void 0:o.attributesToHighlight)??f??["*"]},addPreTag(){g.highlightPreTag=(o==null?void 0:o.highlightPreTag)??l??"__ais-highlight__"},addPostTag(){g.highlightPostTag=(o==null?void 0:o.highlightPostTag)??y??"__/ais-highlight__"},addPagination(){const h=ce(q,t,m);if(R.finite){const{hitsPerPage:H,page:U}=he(R,h);g.hitsPerPage=H,g.page=U}else{const{limit:H,offset:U}=oe(R,h);g.limit=H,g.offset=U}},addSort(){k!=null&&k.length&&(g.sort=Array.isArray(k)?k:[k])},addGeoSearchFilter(){const{insideBoundingBox:h,aroundLatLng:H,aroundRadius:U,minimumAroundRadius:wt}=s,W=se({insideBoundingBox:h,aroundLatLng:H,aroundRadius:U,minimumAroundRadius:wt});W!==void 0&&(Array.isArray(g.filter)?g.filter.unshift(W):g.filter=[W])},addShowMatchesPosition(){const h=o==null?void 0:o.showMatchesPosition;h!==void 0&&(g.showMatchesPosition=h)},addMatchingStrategy(){const h=o==null?void 0:o.matchingStrategy;h!==void 0&&(g.matchingStrategy=h)},addShowRankingScore(){const h=o==null?void 0:o.showRankingScore;h!==void 0&&(g.showRankingScore=h)},addAttributesToSearchOn(){const h=(o==null?void 0:o.attributesToSearchOn)!==void 0?o.attributesToSearchOn:E;h!==void 0&&(g.attributesToSearchOn=h)},addHybridSearch(){const h=o==null?void 0:o.hybrid;h!==void 0&&(g.hybrid=h)},addVector(){const h=o==null?void 0:o.vector;h!==void 0&&(g.vector=h)},addDistinct(){const h=o==null?void 0:o.distinct;h!==void 0&&(g.distinct=h)},addRankingScoreThreshold(){const h=o==null?void 0:o.rankingScoreThreshold;h!==void 0&&(g.rankingScoreThreshold=h)}}}function dt(s){const t=yt(s);return t.addQuery(),t.addFacets(),t.addAttributesToCrop(),t.addCropLength(),t.addCropMarker(),t.addFilters(),t.addAttributesToRetrieve(),t.addAttributesToHighlight(),t.addPreTag(),t.addPostTag(),t.addPagination(),t.addSort(),t.addGeoSearchFilter(),t.addShowMatchesPosition(),t.addMatchingStrategy(),t.addShowRankingScore(),t.addAttributesToSearchOn(),t.addHybridSearch(),t.addVector(),t.addDistinct(),t.addRankingScoreThreshold(),t.getParams()}function de(s){const t=[];return e=>t.includes(e[s])?!1:(t.push(e[s]),!0)}function le(s){return s.reduce((t,e)=>t+=JSON.stringify(e),"")}function pe(s){return typeof s=="string"?s:JSON.stringify(s===void 0?null:s)}function et(s){return Array.isArray(s)?s.map(t=>et(t)):gt(s)?Object.keys(s).reduce((t,e)=>(t[e]=et(s[e]),t),{}):{value:pe(s)}}function ge(s){if(!s)return{};const t=et(s);return{_highlightResult:t,_snippetResult:t}}function fe(s){var t;for(let e=0;e<s.length;e++){const i=`${e+Math.random()*1e6}`;s[e]._geo&&(s[e]._geoloc=s[e]._geo,s[e].objectID||(s[e].objectID=i)),(t=s[e]._formatted)!=null&&t._geo&&(s[e]._formatted._geoloc=s[e]._formatted._geo,s[e]._formatted.objectID||(s[e]._formatted.objectID=i))}return s}function ye(s,t){const{hits:e}=s,{hitsPerPage:i}=s.pagination,{finitePagination:n,primaryKey:r}=t;!n&&e.length>i&&e.splice(e.length-1,1);let u=e.map(p=>{var d;if(Object.keys(p).length>0){const{_formatted:b,_matchesPosition:f,...l}=p,y=Object.assign(l,ge(b));return(d=t==null?void 0:t.meiliSearchParams)!=null&&d.showMatchesPosition&&(y._matchesPosition=f),r&&(y.objectID=p[r]),y}return p});return u=fe(u),u}function be(s){const{hitsPerPage:t=0,totalPages:e=0,estimatedTotalHits:i,totalHits:n}=s;return i??n??t*e}function me(s,t){if(s.totalPages!=null)return s.totalPages;if(t===0)return 0;const{limit:e=20,offset:i=0,hits:n}=s,r=n.length>=e?1:0;return i/t+1+r}function xe(s,t){const{hitsPerPage:e,page:i}=t,n=me(s,e);return{page:i,nbPages:n,hitsPerPage:e}}function we(s){if(s){if(typeof s=="string")return[s]}else return[];return s}function Se(s,t,e){const i=we(s),n={};for(const r of i)for(const u in t[r])n[r]||(n[r]=e[r]||{}),n[r][u]?n[r][u]=e[r][u]:n[r][u]=0;return n}function Te(s,t,e,i){return s?(i=i||{},Se(t,e,i)):i}function $e(s){return Object.keys(s).reduce((e,i)=>(e[i]={...s[i],avg:0,sum:0},e),{})}function Re(s,t,e){return{results:s.map(n=>ke(n,t[n.indexUid],e))}}function ke(s,t,e){const{processingTimeMs:i,query:n,indexUid:r,facetDistribution:u={},facetStats:p={}}=s,d=Object.keys(u),{hitsPerPage:b,page:f,nbPages:l}=xe(s,s.pagination),y=ye(s,e),m=be(s),R=Te(e.keepZeroFacets,d,t,u);return{index:r,hitsPerPage:b,page:f,facets:R,nbPages:l,nbHits:m,processingTimeMS:i,query:n,hits:y,params:"",exhaustiveNbHits:!1,facets_stats:$e(p)}}function bt(s){if(!s)return[];const t=/[^:]+:(?:asc|desc)/g,e=[];let i;for(;(i=t.exec(s))!==null;)e.push(i[0]);return e.map(n=>n.replace(/^,+|,+$/,""))}function mt(s,t,e){return{hitsPerPage:t===void 0?20:t,page:e||0,finite:!!s}}function xt(s){const t=s.indexOf(":");return t===-1?{indexUid:s,sortBy:""}:{indexUid:s.substring(0,t),sortBy:s.substring(t+1)}}function _e(s,t){const{query:e,indexName:i,params:n}=s,{indexUid:r,sortBy:u}=xt(i),p=mt(t.finitePagination,n==null?void 0:n.hitsPerPage,n==null?void 0:n.page);return{...t,query:e,...n,sort:bt(u),indexUid:r,pagination:p,placeholderSearch:t.placeholderSearch!==!1,keepZeroFacets:!!t.keepZeroFacets}}function qe(s,t){const{indexUid:e,sortBy:i}=xt(s.indexName),{params:n}=s,r=mt(t.finitePagination,n==null?void 0:n.hitsPerPage,n==null?void 0:n.page);return{...t,...n,sort:bt(i),indexUid:e,pagination:r,placeholderSearch:t.placeholderSearch!==!1,keepZeroFacets:!!t.keepZeroFacets}}function Ae(s={}){let t=s;return{getEntry:function(e){if(t[e])try{return JSON.parse(t[e])}catch{return}},formatKey:function(e){return le(e)},setEntry:function(e,i){t[e]=JSON.stringify(i)},clearCache:function(){t={}}}}function Pe(s){const t={...s,placeholderSearch:!0,query:""},e=yt(t);return e.addFacets(),e.addPagination(),e.getParams()}async function Fe(s,t,e){const i=de("indexUid"),n=t.filter(i).filter(({indexUid:u})=>!Object.keys(e).includes(u));if(n.length===0)return e;const r=await s.multiSearch(n,[]);for(const u of r)e[u.indexUid]=u.facetDistribution||{};return e}function Ce(s,t){for(const e of t)s[e.indexUid]={...e.facetDistribution||{},...s[e.indexUid]||{}};return s}const Ie="0.26.0",De=(s=[])=>{const t=`Meilisearch instant-meilisearch (v${Ie})`;return s.concat(t)};function Ee(s,t="",e={}){te(s,t,e),t=Yt(t);const i=De(e.clientAgents),n={host:s,apiKey:t,clientAgents:i};e.httpClient!==void 0&&(n.httpClient=e.httpClient),e.requestInit!==void 0&&(n.requestInit=e.requestInit);const r=new Zt(n),u=Ae(),p=ee(r,u);let d={};const b=Xt(e);return{meiliSearchInstance:r,setMeiliSearchParams:f=>{const{meiliSearchParams:l}=e;e.meiliSearchParams=l===void 0?f:{...l,...f}},searchClient:{clearCache:()=>u.clearCache(),search:async function(f){try{const l=[],y=[],m=[];for(const E of f){const o=_e(E,e),g=dt(o);l.push(g);const q=Pe(o);m.push(q),y.push(o.pagination)}d=await Fe(p,m,d);const R=await p.multiSearch(l,y);return d=Ce(d,R),Re(R,d,b)}catch(l){throw console.error(l),new Error(l)}},searchForFacetValues:async function(f){const l=[];for(const y of f){const m=qe(y,e),k={...dt(m),facetQuery:y.params.facetQuery,facetName:y.params.facetName};delete k.indexUid;const E=await r.index(m.indexUid).searchForFacetValues(k),g={facetHits:E.facetHits.map(q=>({...q,highlighted:q.value})),exhaustiveFacetsCount:!1,processingTimeMS:E.processingTimeMs};l.push(g)}return l}}}}const ve={setup(){Dt({title:"Search"})},data(){return{searchClient:Ee("https://search-1.192325.xyz","34ab22b5131cebd1e2a2459fec77c1b50bfb67560a7cdaf7774d5545c16e6a1c").searchClient,VITE_APP_S3_BUCKET:"https://zerocat-bitiful.houlangs.com"}}};function Me(s,t,e,i,n,r){const u=z("ais-search-box"),p=z("ais-hits"),d=z("ais-pagination"),b=z("ais-instant-search");return J(),it(Vt,null,{default:S(()=>[T(b,{"search-client":n.searchClient,"index-name":"zerocat"},{default:S(()=>[T(u,null,{default:S(({isSearchStalled:f,refine:l})=>[T(vt,{clearable:"",label:"键入以搜索",variant:"solo-filled",onInput:y=>l(y.target.value)},{loader:S(()=>[T(Rt,{active:f,indeterminate:""},null,8,["active"])]),_:2},1032,["onInput"])]),_:1}),T(p,null,{default:S(({items:f})=>[T(rt,null,{default:S(()=>[(J(!0),kt(_t,null,qt(f,l=>(J(),it(ut,{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2",xxl:"2",key:l.objectID},{default:S(()=>[T(At,{to:`/app/link/project/?id=${l.id}`,style:{"aspect-ratio":"4/3"},rounded:"lg"},{default:S(()=>[T(Pt,{src:n.VITE_APP_S3_BUCKET+"/scratch_slt/"+l.id,class:"align-end","lazy-src":Et,height:"100%",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",cover:""},{default:S(()=>[T(Ft,null,{default:S(()=>[T(Ct,null,{default:S(()=>[nt(at(l.title),1)]),_:2},1024),T(It,null,{default:S(()=>[nt(at(l.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:1}),T(rt,null,{default:S(()=>[T(ut,null,{default:S(()=>[T(d,null,{default:S(({currentRefinement:f,nbPages:l,refine:y})=>[T(Mt,{length:l,rounded:"circle","v-model":f,"onUpdate:modelValue":m=>y(m),onInput:m=>y(m)},null,8,["length","v-model","onUpdate:modelValue","onInput"])]),_:1})]),_:1})]),_:1})]),_:1},8,["search-client"])]),_:1})}const We=$t(ve,[["render",Me]]);export{We as default};
