import{_ as b,c as i,o as r,f as k,e as a,N as t,ai as d,F as m,X as h,Y as _,aj as p,i as s,m as v,L as o,U as l,P as f,aE as g}from"./index-GWdhxD4_.js";const B={name:"ProjectBranchNav",props:{username:{type:String,required:!0},projectname:{type:String,required:!0},currentBranch:{type:String,required:!0},currentCommitId:{type:String,default:"latest"},branches:{type:Array,required:!0},branchHistory:{type:Array,required:!0}},methods:{navigateToBranch(c){this.$router.push(`/${this.username}/${this.projectname}/tree/${c}`)},navigateToCommit(c){this.$router.push(`/${this.username}/${this.projectname}/commit/${c}`)}}},x={class:"mb-2",style:{display:"flex","justify-content":"space-between"}};function C(c,V,n,j,$,u){return r(),i("div",x,[k("div",null,[a(g,{"close-on-content-click":!1},{activator:t(({props:e})=>[a(s,v({"append-icon":"mdi-menu-down",class:"text-none","prepend-icon":"mdi-git",rounded:"lg"},e,{variant:"tonal"}),{prepend:t(()=>[a(f)]),default:t(()=>[o(" "+l(n.currentBranch),1)]),_:1},16)]),default:t(()=>[a(d,{dense:""},{default:t(()=>[(r(!0),i(m,null,h(n.branches,e=>(r(),_(p,{key:e,active:e.name===n.currentBranch,subtitle:e.description,title:e.name,value:e.name,onClick:y=>u.navigateToBranch(e.name)},null,8,["active","subtitle","title","value","onClick"]))),128))]),_:1})]),_:1}),a(s,{to:`/${n.username}/${n.projectname}/branches`,class:"ml-2",variant:"text"},{default:t(()=>[o(l(n.branches.length)+"个分支 ",1)]),_:1},8,["to"])]),a(g,{"close-on-content-click":!1},{activator:t(({props:e})=>[a(s,v({"append-icon":"mdi-menu-down",class:"text-none","prepend-icon":"mdi-history",rounded:"lg"},e,{variant:"tonal"}),{prepend:t(()=>[a(f)]),default:t(()=>[o(" "+l(n.branchHistory.length)+" 次提交 ",1)]),_:1},16)]),default:t(()=>[a(d,{dense:""},{default:t(()=>[(r(!0),i(m,null,h(n.branchHistory,e=>(r(),_(p,{key:e,active:e.id===n.currentCommitId,subtitle:`${e.commit_date} - #${e.author_id}`,title:e.commit_message,onClick:y=>u.navigateToCommit(e.id)},null,8,["active","subtitle","title","onClick"]))),128))]),_:1})]),_:1})])}const N=b(B,[["render",C]]);export{N as _};
