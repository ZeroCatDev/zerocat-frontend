import{ch as it,p as V,u as W,x as D,w as fe,bY as Ce,y as ue,ap as z,bm as K,g as U,a as ne,d as Y,bC as Pe,f as y,e as P,m as $,I as M,ci as dt,k as O,D as te,r as j,as as ct,cj as ft,ck as mt,b$ as ie,A as vt,be as C,c1 as Be,cl as ae,cm as J,cn as gt,bc as bt,bT as me,co as ht,F as q,cp as yt,cq as ve,S as xt,O as we,C as St,i as _e,L as ke,aC as Z,X as pt,cr as de,bW as ee,aq as Pt,bo as wt,a0 as kt}from"./index-ChEdcxRM.js";import{V as Oe}from"./VSelect-BfDLNQp2.js";import{V as ge}from"./VCheckboxBtn-K5rTH3v3.js";import{V as De,m as Dt}from"./VTable-Vphnhms1.js";import{u as It,m as Tt}from"./filter-BqhPUISt.js";function Ie(e,l,a){return Object.keys(e).filter(t=>it(t)&&t.endsWith(l)).reduce((t,r)=>(t[r.slice(0,-l.length)]=d=>e[r](d,a(d)),t),{})}const Vt=V({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ee=Symbol.for("vuetify:data-table-pagination");function Ft(e){const l=W(e,"page",void 0,t=>Number(t??1)),a=W(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:l,itemsPerPage:a}}function Ct(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,r=D(()=>a.value===-1?0:a.value*(l.value-1)),d=D(()=>a.value===-1?t.value:Math.min(t.value,r.value+a.value)),u=D(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));fe([l,u],()=>{l.value>u.value&&(l.value=u.value)});function n(v){a.value=v,l.value=1}function s(){l.value=ue(l.value+1,1,u.value)}function i(){l.value=ue(l.value-1,1,u.value)}function f(v){l.value=ue(v,1,u.value)}const m={page:l,itemsPerPage:a,startIndex:r,stopIndex:d,pageCount:u,itemsLength:t,nextPage:s,prevPage:i,setPage:f,setItemsPerPage:n};return K(Ee,m),m}function Bt(){const e=z(Ee);if(!e)throw new Error("Missing pagination!");return e}function _t(e){const l=Ce("usePaginatedItems"),{items:a,startIndex:t,stopIndex:r,itemsPerPage:d}=e,u=D(()=>d.value<=0?a.value:a.value.slice(t.value,r.value));return fe(u,n=>{l.emit("update:currentItems",n)},{immediate:!0}),{paginatedItems:u}}const Ae=V({prevIcon:{type:M,default:"$prev"},nextIcon:{type:M,default:"$next"},firstIcon:{type:M,default:"$first"},lastIcon:{type:M,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Te=U()({name:"VDataTableFooter",props:Ae(),setup(e,l){let{slots:a}=l;const{t}=ne(),{page:r,pageCount:d,startIndex:u,stopIndex:n,itemsLength:s,itemsPerPage:i,setItemsPerPage:f}=Bt(),m=D(()=>e.itemsPerPageOptions.map(v=>typeof v=="number"?{value:v,title:v===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(v)}:{...v,title:isNaN(Number(v.title))?t(v.title):v.title}));return Y(()=>{var x;const v=Pe.filterProps(e);return y("div",{class:"v-data-table-footer"},[(x=a.prepend)==null?void 0:x.call(a),y("div",{class:"v-data-table-footer__items-per-page"},[y("span",{"aria-label":t(e.itemsPerPageText)},[t(e.itemsPerPageText)]),P(Oe,{items:m.value,modelValue:i.value,"onUpdate:modelValue":b=>f(Number(b)),density:"compact",variant:"outlined",hideDetails:!0},null)]),y("div",{class:"v-data-table-footer__info"},[y("div",null,[t(e.pageText,s.value?u.value+1:0,n.value,s.value)])]),y("div",{class:"v-data-table-footer__pagination"},[P(Pe,$({modelValue:r.value,"onUpdate:modelValue":b=>r.value=b,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:d.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},v),null)])])}),{}}}),le=dt({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,l)=>{let{slots:a}=l;const t=e.tag??"td",r=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return P(t,{class:te(["v-data-table__td",{"v-data-table-column--fixed":r==="start","v-data-table-column--fixed-end":r==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:O(e.height),width:O(e.width),maxWidth:O(e.maxWidth),left:r==="start"?O(e.fixedOffset||null):void 0,right:r==="end"?O(e.fixedEndOffset||null):void 0}},{default:()=>{var d;return[(d=a.default)==null?void 0:d.call(a)]}})}),Ot=V({headers:Array},"DataTable-header"),$e=Symbol.for("vuetify:data-table-headers"),Re={title:"",sortable:!1},Et={...Re,width:48};function At(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,t)=>{let r=!1;for(let d=0;d<l.length;d++)if(l[d].priority>t){l.splice(d,0,{element:a,priority:t}),r=!0;break}r||l.push({element:a,priority:t})},size:()=>l.length,count:()=>{let a=0;if(!l.length)return 0;const t=Math.floor(l[0].priority);for(let r=0;r<l.length;r++)Math.floor(l[r].priority)===t&&(a+=1);return a},dequeue:()=>l.shift()}}function ce(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const a of e.children)ce(a,l);return l}function Ne(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&l.add(a.key),a.children&&Ne(a.children,l);return l}function $t(e){if(e.key){if(e.key==="data-table-group")return Re;if(["data-table-expand","data-table-select"].includes(e.key))return Et}}function be(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(a=>be(a,l+1))):l}function Rt(e){let l=!1;function a(n,s){var m;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(!n)return;i!=="none"&&(n.fixed=i),n.fixed===!0&&(n.fixed="start");const f=s==="start"?(m=n.children)==null?void 0:m.toReversed():n.children;if(n.fixed===s)if(f)for(const v of f)a(v,s,s);else!l&&s==="start"?n.lastFixed=!0:!l&&s==="end"?n.firstFixedEnd=!0:isNaN(Number(n.width))?mt(`Multiple fixed columns should have a static width (key: ${n.key})`):n.minWidth=Math.max(Number(n.width)||0,Number(n.minWidth)||0),l=!0;else if(f)for(const v of f)a(v,s);else l=!1}for(const n of e.toReversed())a(n,"start");for(const n of e)a(n,"end");function t(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!n)return s;if(n.children){n.fixedOffset=s;for(const i of n.children)s=t(i,s)}else n.fixed&&n.fixed!=="end"&&(n.fixedOffset=s,s+=parseFloat(n.width||"0")||0);return s}let r=0;for(const n of e)r=t(n,r);function d(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!n)return s;if(n.children){n.fixedEndOffset=s;for(const i of n.children)s=d(i,s)}else n.fixed==="end"&&(n.fixedEndOffset=s,s+=parseFloat(n.width||"0")||0);return s}let u=0;for(const n of e.toReversed())u=d(n,u)}function Nt(e,l){const a=[];let t=0;const r=At(e);for(;r.size()>0;){let u=r.count();const n=[];let s=1;for(;u>0;){const{element:i,priority:f}=r.dequeue(),m=l-t-be(i);if(n.push({...i,rowspan:m??1,colspan:i.children?ce(i).length:1}),i.children)for(const v of i.children){const x=f%1+s/Math.pow(10,t+2);r.enqueue(v,t+m+x)}s+=1,u-=1}t+=1,a.push(n)}return{columns:e.map(u=>ce(u)).flat(),headers:a}}function He(e){const l=[];for(const a of e){const t={...$t(a),...a},r=t.key??(typeof t.value=="string"?t.value:null),d=t.value??r??null,u={...t,key:r,value:d,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?He(t.children):void 0};l.push(u)}return l}function Ht(e,l){const a=j([]),t=j([]),r=j({}),d=j({}),u=j({});ct(()=>{var h,c,I;const i=(e.headers||Object.keys(e.items[0]??{}).map(o=>({key:o,title:ft(o)}))).slice(),f=Ne(i);(h=l==null?void 0:l.groupBy)!=null&&h.value.length&&!f.has("data-table-group")&&i.unshift({key:"data-table-group",title:"Group"}),(c=l==null?void 0:l.showSelect)!=null&&c.value&&!f.has("data-table-select")&&i.unshift({key:"data-table-select"}),(I=l==null?void 0:l.showExpand)!=null&&I.value&&!f.has("data-table-expand")&&i.push({key:"data-table-expand"});const m=He(i);Rt(m);const v=Math.max(...m.map(o=>be(o)))+1,x=Nt(m,v);a.value=x.headers,t.value=x.columns;const b=x.headers.flat(1);for(const o of b)o.key&&(o.sortable&&(o.sort&&(r.value[o.key]=o.sort),o.sortRaw&&(d.value[o.key]=o.sortRaw)),o.filter&&(u.value[o.key]=o.filter))});const n={headers:a,columns:t,sortFunctions:r,sortRawFunctions:d,filterFunctions:u};return K($e,n),n}function re(){const e=z($e);if(!e)throw new Error("Missing headers!");return e}const Lt={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Le={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const r of l)a?t.add(r.value):t.delete(r.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return Le.select({items:a,value:l,selected:t})}},Ge={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const r of l)a?t.add(r.value):t.delete(r.value);return t},selectAll:e=>{let{value:l,allItems:a,selected:t}=e;return Ge.select({items:a,value:l,selected:t})}},Gt=V({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Be}},"DataTable-select"),je=Symbol.for("vuetify:data-table-selection");function jt(e,l){let{allItems:a,currentPage:t}=l;const r=W(e,"modelValue",e.modelValue,o=>new Set(ie(o).map(S=>{var T;return((T=a.value.find(p=>e.valueComparator(S,p.value)))==null?void 0:T.value)??S})),o=>[...o.values()]),d=D(()=>a.value.filter(o=>o.selectable)),u=D(()=>t.value.filter(o=>o.selectable)),n=D(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Lt;case"all":return Ge;case"page":default:return Le}}),s=vt(null);function i(o){return ie(o).every(S=>r.value.has(S.value))}function f(o){return ie(o).some(S=>r.value.has(S.value))}function m(o,S){const T=n.value.select({items:o,value:S,selected:new Set(r.value)});r.value=T}function v(o,S,T){const p=[];if(S=S??t.value.findIndex(B=>B.value===o.value),e.selectStrategy!=="single"&&(T!=null&&T.shiftKey)&&s.value!==null){const[B,N]=[s.value,S].sort((E,w)=>E-w);p.push(...t.value.slice(B,N+1).filter(E=>E.selectable))}else p.push(o),s.value=S;m(p,!i([o]))}function x(o){const S=n.value.selectAll({value:o,allItems:d.value,currentPage:u.value,selected:new Set(r.value)});r.value=S}const b=D(()=>r.value.size>0),h=D(()=>{const o=n.value.allSelected({allItems:d.value,currentPage:u.value});return!!o.length&&i(o)}),c=C(()=>n.value.showSelectAll),I={toggleSelect:v,select:m,selectAll:x,isSelected:i,isSomeSelected:f,someSelected:b,allSelected:h,showSelectAll:c,lastSelectedIndex:s,selectStrategy:n};return K(je,I),I}function se(){const e=z(je);if(!e)throw new Error("Missing selection!");return e}const Mt=V({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Me=Symbol.for("vuetify:data-table-sort");function Wt(e){const l=W(e,"sortBy"),a=C(()=>e.mustSort),t=C(()=>e.multiSort);return{sortBy:l,mustSort:a,multiSort:t}}function qt(e){const{sortBy:l,mustSort:a,multiSort:t,page:r}=e,d=s=>{if(s.key==null)return;let i=l.value.map(m=>({...m}))??[];const f=i.find(m=>m.key===s.key);f?f.order==="desc"?a.value&&i.length===1?f.order="asc":i=i.filter(m=>m.key!==s.key):f.order="desc":t.value?i.push({key:s.key,order:"asc"}):i=[{key:s.key,order:"asc"}],l.value=i,r&&(r.value=1)};function u(s){return!!l.value.find(i=>i.key===s.key)}const n={sortBy:l,toggleSort:d,isSorted:u};return K(Me,n),n}function We(){const e=z(Me);if(!e)throw new Error("Missing sort!");return e}function zt(e,l,a,t){const r=ne();return{sortedItems:D(()=>{var u,n;return a.value.length?Kt(l.value,a.value,r.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(u=t==null?void 0:t.sortFunctions)==null?void 0:u.value},sortRawFunctions:(n=t==null?void 0:t.sortRawFunctions)==null?void 0:n.value}):l.value})}}function Kt(e,l,a,t){const r=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(u=>[u,t!=null&&t.transform?t.transform(u):u]).sort((u,n)=>{var s,i;for(let f=0;f<l.length;f++){let m=!1;const v=l[f].key,x=l[f].order??"asc";if(x===!1)continue;let b=ae(u[1],v),h=ae(n[1],v),c=u[0].raw,I=n[0].raw;if(x==="desc"&&([b,h]=[h,b],[c,I]=[I,c]),(s=t==null?void 0:t.sortRawFunctions)!=null&&s[v]){const o=t.sortRawFunctions[v](c,I);if(o==null)continue;if(m=!0,o)return o}if((i=t==null?void 0:t.sortFunctions)!=null&&i[v]){const o=t.sortFunctions[v](b,h);if(o==null)continue;if(m=!0,o)return o}if(!m&&(b instanceof Date&&h instanceof Date&&(b=b.getTime(),h=h.getTime()),[b,h]=[b,h].map(o=>o!=null?o.toString().toLocaleLowerCase():o),b!==h))return J(b)&&J(h)?0:J(b)?-1:J(h)?1:!isNaN(b)&&!isNaN(h)?Number(b)-Number(h):r.compare(b,h)}return 0}).map(u=>{let[n]=u;return n})}const qe=V({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:M,default:"$sortAsc"},sortDescIcon:{type:M,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...ve(),...yt()},"VDataTableHeaders"),Ve=U()({name:"VDataTableHeaders",props:qe(),setup(e,l){let{slots:a}=l;const{t}=ne(),{toggleSort:r,sortBy:d,isSorted:u}=We(),{someSelected:n,allSelected:s,selectAll:i,showSelectAll:f}=se(),{columns:m,headers:v}=re(),{loaderClasses:x}=gt(e);function b(w,g){if(!(e.sticky||e.fixedHeader)&&!w.fixed)return;const k=typeof w.fixed=="string"?w.fixed:w.fixed?"start":"none";return{position:"sticky",left:k==="start"?O(w.fixedOffset):void 0,right:k==="end"?O(w.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${g})`:void 0}}function h(w,g){w.key==="Enter"&&!e.disableSort&&r(g)}function c(w){const g=d.value.find(k=>k.key===w.key);return g?g.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:I,backgroundColorStyles:o}=bt(()=>e.color),{displayClasses:S,mobile:T}=me(e),p=D(()=>({headers:v.value,columns:m.value,toggleSort:r,isSorted:u,sortBy:d.value,someSelected:n.value,allSelected:s.value,selectAll:i,getSortIcon:c})),B=D(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},S.value,x.value]),N=w=>{let{column:g,x:k,y:F}=w;const A=g.key==="data-table-select"||g.key==="data-table-expand",Q=$(e.headerProps??{},g.headerProps??{});return P(le,$({tag:"th",align:g.align,class:[{"v-data-table__th--sortable":g.sortable&&!e.disableSort,"v-data-table__th--sorted":u(g),"v-data-table__th--fixed":g.fixed},...B.value],style:{width:O(g.width),minWidth:O(g.minWidth),maxWidth:O(g.maxWidth),...b(g,F)},colspan:g.colspan,rowspan:g.rowspan,fixed:g.fixed,nowrap:g.nowrap,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,noPadding:A,tabindex:g.sortable?0:void 0,onClick:g.sortable?()=>r(g):void 0,onKeydown:g.sortable?H=>h(H,g):void 0},Q),{default:()=>{var G;const H=`header.${g.key}`,L={column:g,selectAll:i,isSorted:u,toggleSort:r,sortBy:d.value,someSelected:n.value,allSelected:s.value,getSortIcon:c};return a[H]?a[H](L):g.key==="data-table-select"?((G=a["header.data-table-select"])==null?void 0:G.call(a,L))??(f.value&&P(ge,{modelValue:s.value,indeterminate:n.value&&!s.value,"onUpdate:modelValue":i},null)):y("div",{class:"v-data-table-header__content"},[y("span",null,[g.title]),g.sortable&&!e.disableSort&&P(we,{key:"icon",class:"v-data-table-header__sort-icon",icon:c(g)},null),e.multiSort&&u(g)&&y("div",{key:"badge",class:te(["v-data-table-header__sort-badge",...I.value]),style:St(o.value)},[d.value.findIndex(oe=>oe.key===g.key)+1])])}})},E=()=>{const w=D(()=>m.value.filter(k=>(k==null?void 0:k.sortable)&&!e.disableSort)),g=D(()=>{if(m.value.find(F=>F.key==="data-table-select")!=null)return s.value?"$checkboxOn":n.value?"$checkboxIndeterminate":"$checkboxOff"});return P(le,$({tag:"th",class:[...B.value],colspan:v.value.length+1},e.headerProps),{default:()=>[y("div",{class:"v-data-table-header__content"},[P(Oe,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>d.value=[],appendIcon:g.value,"onClick:append":()=>i(!s.value)},{chip:k=>{var F;return P(xt,{onClick:(F=k.item.raw)!=null&&F.sortable?()=>r(k.item.raw):void 0,onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},{default:()=>[k.item.title,P(we,{class:te(["v-data-table__td-sort-icon",u(k.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:c(k.item.raw),size:"small"},null)]})}})])]})};Y(()=>T.value?y("tr",null,[P(E,null,null)]):y(q,null,[a.headers?a.headers(p.value):v.value.map((w,g)=>y("tr",null,[w.map((k,F)=>P(N,{column:k,x:F,y:g},null))])),e.loading&&y("tr",{class:"v-data-table-progress"},[y("th",{colspan:m.value.length},[P(ht,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Ut=V({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ze=Symbol.for("vuetify:data-table-group");function Qt(e){return{groupBy:W(e,"groupBy")}}function Xt(e){const{disableSort:l,groupBy:a,sortBy:t}=e,r=j(new Set),d=D(()=>a.value.map(f=>({...f,order:f.order??!1})).concat(l!=null&&l.value?[]:t.value));function u(f){return r.value.has(f.id)}function n(f){const m=new Set(r.value);u(f)?m.delete(f.id):m.add(f.id),r.value=m}function s(f){function m(v){const x=[];for(const b of v.items)"type"in b&&b.type==="group"?x.push(...m(b)):x.push(b);return[...new Set(x)]}return m({items:f})}const i={sortByWithGroups:d,toggleGroup:n,opened:r,groupBy:a,extractRows:s,isGroupOpen:u};return K(ze,i),i}function Ke(){const e=z(ze);if(!e)throw new Error("Missing group!");return e}function Yt(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const r=ae(t.raw,l);a.has(r)||a.set(r,[]),a.get(r).push(t)}return a}function Ue(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const r=Yt(e,l[0]),d=[],u=l.slice(1);return r.forEach((n,s)=>{const i=l[0],f=`${t}_${i}_${s}`;d.push({depth:a,id:f,key:i,value:s,items:u.length?Ue(n,u,a+1,f):n,type:"group"})}),d}function Qe(e,l){const a=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...Qe(t.items,l))):a.push(t);return a}function Jt(e,l,a){return{flatItems:D(()=>{if(!l.value.length)return e.value;const r=Ue(e.value,l.value.map(d=>d.key));return Qe(r,a.value)})}}const Zt=V({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ea=U()({name:"VDataTableGroupHeaderRow",props:Zt(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:r,extractRows:d}=Ke(),{isSelected:u,isSomeSelected:n,select:s}=se(),{columns:i}=re(),f=D(()=>d([e.item]));return()=>y("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(m=>{var v,x;if(m.key==="data-table-group"){const b=t(e.item)?"$expand":"$next",h=()=>r(e.item);return((v=a["data-table-group"])==null?void 0:v.call(a,{item:e.item,count:f.value.length,props:{icon:b,onClick:h}}))??P(le,{class:"v-data-table-group-header-row__column"},{default:()=>[P(_e,{size:"small",variant:"text",icon:b,onClick:h},null),y("span",null,[e.item.value]),y("span",null,[ke("("),f.value.length,ke(")")])]})}if(m.key==="data-table-select"){const b=u(f.value),h=n(f.value)&&!b,c=I=>s(f.value,I);return((x=a["data-table-select"])==null?void 0:x.call(a,{props:{modelValue:b,indeterminate:h,"onUpdate:modelValue":c}}))??y("td",null,[P(ge,{modelValue:b,indeterminate:h,"onUpdate:modelValue":c},null)])}return y("td",null,null)})])}}),ta=V({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Xe=Symbol.for("vuetify:datatable:expanded");function aa(e){const l=C(()=>e.expandOnClick),a=W(e,"expanded",e.expanded,n=>new Set(n),n=>[...n.values()]);function t(n,s){const i=new Set(a.value);s?i.add(n.value):i.delete(n.value),a.value=i}function r(n){return a.value.has(n.value)}function d(n){t(n,!r(n))}const u={expand:t,expanded:a,expandOnClick:l,isExpanded:r,toggleExpand:d};return K(Xe,u),u}function Ye(){const e=z(Xe);if(!e)throw new Error("foo");return e}const la=V({index:Number,item:Object,cellProps:[Object,Function],onClick:de(),onContextmenu:de(),onDblclick:de(),...ve()},"VDataTableRow"),na=U()({name:"VDataTableRow",props:la(),setup(e,l){let{slots:a}=l;const{displayClasses:t,mobile:r}=me(e,"v-data-table__tr"),{isSelected:d,toggleSelect:u,someSelected:n,allSelected:s,selectAll:i}=se(),{isExpanded:f,toggleExpand:m}=Ye(),{toggleSort:v,sortBy:x,isSorted:b}=We(),{columns:h}=re();Y(()=>y("tr",{class:te(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&h.value.map((c,I)=>{const o=e.item,S=`item.${c.key}`,T=`header.${c.key}`,p={index:e.index,item:o.raw,internalItem:o,value:ae(o.columns,c.key),column:c,isSelected:d,toggleSelect:u,isExpanded:f,toggleExpand:m},B={column:c,selectAll:i,isSorted:b,toggleSort:v,sortBy:x.value,someSelected:n.value,allSelected:s.value,getSortIcon:()=>""},N=typeof e.cellProps=="function"?e.cellProps({index:p.index,item:p.item,internalItem:p.internalItem,value:p.value,column:c}):e.cellProps,E=typeof c.cellProps=="function"?c.cellProps({index:p.index,item:p.item,internalItem:p.internalItem,value:p.value}):c.cellProps;return P(le,$({align:c.align,class:{"v-data-table__td--expanded-row":c.key==="data-table-expand","v-data-table__td--select-row":c.key==="data-table-select"},fixed:c.fixed,fixedOffset:c.fixedOffset,fixedEndOffset:c.fixedEndOffset,lastFixed:c.lastFixed,firstFixedEnd:c.firstFixedEnd,maxWidth:r.value?void 0:c.maxWidth,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",nowrap:c.nowrap,width:r.value?void 0:c.width},N,E),{default:()=>{var g,k,F,A;if(c.key==="data-table-select")return((g=a["item.data-table-select"])==null?void 0:g.call(a,{...p,props:{disabled:!o.selectable,modelValue:d([o]),onClick:Z(()=>u(o),["stop"])}}))??P(ge,{disabled:!o.selectable,modelValue:d([o]),onClick:Z(Q=>u(o,e.index,Q),["stop"])},null);if(c.key==="data-table-expand")return((k=a["item.data-table-expand"])==null?void 0:k.call(a,{...p,props:{icon:f(o)?"$collapse":"$expand",size:"small",variant:"text",onClick:Z(()=>m(o),["stop"])}}))??P(_e,{icon:f(o)?"$collapse":"$expand",size:"small",variant:"text",onClick:Z(()=>m(o),["stop"])},null);if(a[S]&&!r.value)return a[S](p);const w=pt(p.value);return r.value?y(q,null,[y("div",{class:"v-data-table__td-title"},[((F=a[T])==null?void 0:F.call(a,B))??c.title]),y("div",{class:"v-data-table__td-value"},[((A=a[S])==null?void 0:A.call(a,p))??w])]):w}})})]))}}),Je=V({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ve()},"VDataTableRows"),Fe=U()({name:"VDataTableRows",inheritAttrs:!1,props:Je(),setup(e,l){let{attrs:a,slots:t}=l;const{columns:r}=re(),{expandOnClick:d,toggleExpand:u,isExpanded:n}=Ye(),{isSelected:s,toggleSelect:i}=se(),{toggleGroup:f,isGroupOpen:m}=Ke(),{t:v}=ne(),{mobile:x}=me(e);return Y(()=>{var b,h;return e.loading&&(!e.items.length||t.loading)?y("tr",{class:"v-data-table-rows-loading",key:"loading"},[y("td",{colspan:r.value.length},[((b=t.loading)==null?void 0:b.call(t))??v(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?y("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[y("td",{colspan:r.value.length},[((h=t["no-data"])==null?void 0:h.call(t))??v(e.noDataText)])]):y(q,null,[e.items.map((c,I)=>{var T;if(c.type==="group"){const p={index:I,item:c,columns:r.value,isExpanded:n,toggleExpand:u,isSelected:s,toggleSelect:i,toggleGroup:f,isGroupOpen:m};return t["group-header"]?t["group-header"](p):P(ea,$({key:`group-header_${c.id}`,item:c},Ie(a,":group-header",()=>p)),t)}const o={index:I,item:c.raw,internalItem:c,columns:r.value,isExpanded:n,toggleExpand:u,isSelected:s,toggleSelect:i},S={...o,props:$({key:`item_${c.key??c.index}`,onClick:d.value?()=>{u(c)}:void 0,index:I,item:c,cellProps:e.cellProps,mobile:x.value},Ie(a,":row",()=>o),typeof e.rowProps=="function"?e.rowProps({item:o.item,index:o.index,internalItem:o.internalItem}):e.rowProps)};return y(q,{key:S.props.key},[t.item?t.item(S):P(na,S.props,t),n(c)&&((T=t["expanded-row"])==null?void 0:T.call(t,o))])})])}),{}}}),ra=V({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function sa(e,l,a,t){const r=e.returnObject?l:ee(l,e.itemValue),d=ee(l,e.itemSelectable,!0),u=t.reduce((n,s)=>(s.key!=null&&(n[s.key]=ee(l,s.value)),n),{});return{type:"item",key:e.returnObject?ee(l,e.itemValue):r,index:a,value:r,selectable:d,columns:u,raw:l}}function oa(e,l,a){return l.map((t,r)=>sa(e,t,r,a))}function ua(e,l){return{items:D(()=>oa(e,e.items,l.value))}}function ia(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:r,search:d}=e;const u=Ce("VDataTable"),n=()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:r.value,search:d.value});let s=null;fe(n,i=>{Be(s,i)||(s&&s.search!==i.search&&(l.value=1),u.emit("update:options",i),s=i)},{deep:!0,immediate:!0})}const da=V({...Je(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...ta(),...Ut(),...Ot(),...ra(),...Gt(),...Mt(),...qe(),...Dt()},"DataTable"),ca=V({...Vt(),...da(),...Tt(),...Ae()},"VDataTable"),ha=U()({name:"VDataTable",props:ca(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:r}=Qt(e),{sortBy:d,multiSort:u,mustSort:n}=Wt(e),{page:s,itemsPerPage:i}=Ft(e),{disableSort:f}=Pt(e),{columns:m,headers:v,sortFunctions:x,sortRawFunctions:b,filterFunctions:h}=Ht(e,{groupBy:r,showSelect:C(()=>e.showSelect),showExpand:C(()=>e.showExpand)}),{items:c}=ua(e,m),I=C(()=>e.search),{filteredItems:o}=It(e,c,I,{transform:R=>R.columns,customKeyFilter:h}),{toggleSort:S}=qt({sortBy:d,multiSort:u,mustSort:n,page:s}),{sortByWithGroups:T,opened:p,extractRows:B,isGroupOpen:N,toggleGroup:E}=Xt({groupBy:r,sortBy:d,disableSort:f}),{sortedItems:w}=zt(e,o,T,{transform:R=>({...R.raw,...R.columns}),sortFunctions:x,sortRawFunctions:b}),{flatItems:g}=Jt(w,r,p),k=D(()=>g.value.length),{startIndex:F,stopIndex:A,pageCount:Q,setItemsPerPage:H}=Ct({page:s,itemsPerPage:i,itemsLength:k}),{paginatedItems:L}=_t({items:g,startIndex:F,stopIndex:A,itemsPerPage:i}),G=D(()=>B(L.value)),{isSelected:oe,select:Ze,selectAll:et,toggleSelect:tt,someSelected:at,allSelected:lt}=jt(e,{allItems:c,currentPage:G}),{isExpanded:nt,toggleExpand:rt}=aa(e);ia({page:s,itemsPerPage:i,sortBy:d,groupBy:r,search:I}),wt({VDataTableRows:{hideNoData:C(()=>e.hideNoData),noDataText:C(()=>e.noDataText),loading:C(()=>e.loading),loadingText:C(()=>e.loadingText)}});const _=D(()=>({page:s.value,itemsPerPage:i.value,sortBy:d.value,pageCount:Q.value,toggleSort:S,setItemsPerPage:H,someSelected:at.value,allSelected:lt.value,isSelected:oe,select:Ze,selectAll:et,toggleSelect:tt,isExpanded:nt,toggleExpand:rt,isGroupOpen:N,toggleGroup:E,items:G.value.map(R=>R.raw),internalItems:G.value,groupedItems:L.value,columns:m.value,headers:v.value}));return Y(()=>{const R=Te.filterProps(e),st=Ve.filterProps(e),ot=Fe.filterProps(e),ut=De.filterProps(e);return P(De,$({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ut,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var X;return(X=t.top)==null?void 0:X.call(t,_.value)},default:()=>{var X,he,ye,xe,Se,pe;return t.default?t.default(_.value):y(q,null,[(X=t.colgroup)==null?void 0:X.call(t,_.value),!e.hideDefaultHeader&&y("thead",{key:"thead"},[P(Ve,st,t)]),(he=t.thead)==null?void 0:he.call(t,_.value),!e.hideDefaultBody&&y("tbody",null,[(ye=t["body.prepend"])==null?void 0:ye.call(t,_.value),t.body?t.body(_.value):P(Fe,$(a,ot,{items:L.value}),t),(xe=t["body.append"])==null?void 0:xe.call(t,_.value)]),(Se=t.tbody)==null?void 0:Se.call(t,_.value),(pe=t.tfoot)==null?void 0:pe.call(t,_.value)])},bottom:()=>t.bottom?t.bottom(_.value):!e.hideDefaultFooter&&y(q,null,[P(kt,null,null),P(Te,R,{prepend:t["footer.prepend"]})])})}),{}}});export{ha as V,Wt as a,Ft as b,Qt as c,Ht as d,Xt as e,Ct as f,Jt as g,jt as h,aa as i,ia as j,Te as k,Ve as l,Fe as m,Ae as n,da as o,qt as p,Vt as q,ua as u};
