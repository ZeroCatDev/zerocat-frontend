import{cm as ct,p as V,u as W,x as D,w as fe,b_ as Ce,y as ue,au as q,cc as K,g as U,a as ne,d as J,bA as Pe,f as y,e as P,m as $,I as j,cn as ft,k as O,D as te,r as M,ax as gt,co as vt,cp as mt,c1 as ie,A as ht,bk as C,c3 as Be,cq as ae,cr as X,cs as bt,bo as yt,bV as ge,ct as xt,F as z,cu as St,cv as ve,T as pt,P as we,C as Pt,i as _e,L as ke,aH as Z,Y as wt,cw as de,bY as ee,av as kt,bG as Dt,a5 as It}from"./index-BhZBrlGg.js";import{V as Oe}from"./VSelect-CWcWmsqs.js";import{V as me}from"./VCheckboxBtn-jKGzOvSv.js";import{V as De,m as Tt}from"./VTable-Ci0p-nej.js";import{u as Vt,m as Ft}from"./filter-BCtUdqUk.js";function Ie(e,a,l){return Object.keys(e).filter(t=>ct(t)&&t.endsWith(a)).reduce((t,n)=>(t[n.slice(0,-a.length)]=r=>e[n](r,l(r)),t),{})}const Ct=V({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ee=Symbol.for("vuetify:data-table-pagination");function Bt(e){const a=W(e,"page",void 0,t=>Number(t??1)),l=W(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:a,itemsPerPage:l}}function _t(e){const{page:a,itemsPerPage:l,itemsLength:t}=e,n=D(()=>l.value===-1?0:l.value*(a.value-1)),r=D(()=>l.value===-1?t.value:Math.min(t.value,n.value+l.value)),s=D(()=>l.value===-1||t.value===0?1:Math.ceil(t.value/l.value));fe([a,s],()=>{a.value>s.value&&(a.value=s.value)});function i(m){l.value=m,a.value=1}function u(){a.value=ue(a.value+1,1,s.value)}function d(){a.value=ue(a.value-1,1,s.value)}function f(m){a.value=ue(m,1,s.value)}const g={page:a,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:s,itemsLength:t,nextPage:u,prevPage:d,setPage:f,setItemsPerPage:i};return K(Ee,g),g}function Ot(){const e=q(Ee);if(!e)throw new Error("Missing pagination!");return e}function Et(e){const a=Ce("usePaginatedItems"),{items:l,startIndex:t,stopIndex:n,itemsPerPage:r}=e,s=D(()=>r.value<=0?l.value:l.value.slice(t.value,n.value));return fe(s,i=>{a.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:s}}const Ae=V({prevIcon:{type:j,default:"$prev"},nextIcon:{type:j,default:"$next"},firstIcon:{type:j,default:"$first"},lastIcon:{type:j,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Te=U()({name:"VDataTableFooter",props:Ae(),setup(e,a){let{slots:l}=a;const{t}=ne(),{page:n,pageCount:r,startIndex:s,stopIndex:i,itemsLength:u,itemsPerPage:d,setItemsPerPage:f}=Ot(),g=D(()=>e.itemsPerPageOptions.map(m=>typeof m=="number"?{value:m,title:m===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(m)}:{...m,title:isNaN(Number(m.title))?t(m.title):m.title}));return J(()=>{var x;const m=Pe.filterProps(e);return y("div",{class:"v-data-table-footer"},[(x=l.prepend)==null?void 0:x.call(l),y("div",{class:"v-data-table-footer__items-per-page"},[y("span",{"aria-label":t(e.itemsPerPageText)},[t(e.itemsPerPageText)]),P(Oe,{items:g.value,modelValue:d.value,"onUpdate:modelValue":h=>f(Number(h)),density:"compact",variant:"outlined",hideDetails:!0},null)]),y("div",{class:"v-data-table-footer__info"},[y("div",null,[t(e.pageText,u.value?s.value+1:0,i.value,u.value)])]),y("div",{class:"v-data-table-footer__pagination"},[P(Pe,$({modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},m),null)])])}),{}}}),le=ft({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,a)=>{let{slots:l}=a;const t=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return P(t,{class:te(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:O(e.height),width:O(e.width),maxWidth:O(e.maxWidth),left:n==="start"?O(e.fixedOffset||null):void 0,right:n==="end"?O(e.fixedEndOffset||null):void 0}},{default:()=>{var r;return[(r=l.default)==null?void 0:r.call(l)]}})}),At=V({headers:Array},"DataTable-header"),$e=Symbol.for("vuetify:data-table-headers"),Ne={title:"",sortable:!1},$t={...Ne,width:48};function Nt(){const a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,t)=>{let n=!1;for(let r=0;r<a.length;r++)if(a[r].priority>t){a.splice(r,0,{element:l,priority:t}),n=!0;break}n||a.push({element:l,priority:t})},size:()=>a.length,count:()=>{let l=0;if(!a.length)return 0;const t=Math.floor(a[0].priority);for(let n=0;n<a.length;n++)Math.floor(a[n].priority)===t&&(l+=1);return l},dequeue:()=>a.shift()}}function ce(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)a.push(e);else for(const l of e.children)ce(l,a);return a}function Re(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&a.add(l.key),l.children&&Re(l.children,a);return a}function Rt(e){if(e.key){if(e.key==="data-table-group")return Ne;if(["data-table-expand","data-table-select"].includes(e.key))return $t}}function he(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(a,...e.children.map(l=>he(l,a+1))):a}function Ht(e){let a=!1;function l(r,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(i!=="none"&&(r.fixed=i),r.fixed===!0&&(r.fixed="start"),r.fixed===s)if(r.children)if(s==="start")for(let u=r.children.length-1;u>=0;u--)l(r.children[u],s,s);else for(let u=0;u<r.children.length;u++)l(r.children[u],s,s);else!a&&s==="start"?r.lastFixed=!0:!a&&s==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?mt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),a=!0;else if(r.children)if(s==="start")for(let u=r.children.length-1;u>=0;u--)l(r.children[u],s);else for(let u=0;u<r.children.length;u++)l(r.children[u],s);else a=!1}for(let r=e.length-1;r>=0;r--)l(e[r],"start");for(let r=0;r<e.length;r++)l(e[r],"end");let t=0;for(let r=0;r<e.length;r++)t=He(e[r],t);let n=0;for(let r=e.length-1;r>=0;r--)n=Ge(e[r],n)}function He(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return a;if(e.children){e.fixedOffset=a;for(const l of e.children)a=He(l,a)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=a,a+=parseFloat(e.width||"0")||0);return a}function Ge(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return a;if(e.children){e.fixedEndOffset=a;for(const l of e.children)a=Ge(l,a)}else e.fixed==="end"&&(e.fixedEndOffset=a,a+=parseFloat(e.width||"0")||0);return a}function Gt(e,a){const l=[];let t=0;const n=Nt(e);for(;n.size()>0;){let s=n.count();const i=[];let u=1;for(;s>0;){const{element:d,priority:f}=n.dequeue(),g=a-t-he(d);if(i.push({...d,rowspan:g??1,colspan:d.children?ce(d).length:1}),d.children)for(const m of d.children){const x=f%1+u/Math.pow(10,t+2);n.enqueue(m,t+g+x)}u+=1,s-=1}t+=1,l.push(i)}return{columns:e.map(s=>ce(s)).flat(),headers:l}}function Le(e){const a=[];for(const l of e){const t={...Rt(l),...l},n=t.key??(typeof t.value=="string"?t.value:null),r=t.value??n??null,s={...t,key:n,value:r,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?Le(t.children):void 0};a.push(s)}return a}function Lt(e,a){const l=M([]),t=M([]),n=M({}),r=M({}),s=M({});gt(()=>{var b,c,I;const d=(e.headers||Object.keys(e.items[0]??{}).map(o=>({key:o,title:vt(o)}))).slice(),f=Re(d);(b=a==null?void 0:a.groupBy)!=null&&b.value.length&&!f.has("data-table-group")&&d.unshift({key:"data-table-group",title:"Group"}),(c=a==null?void 0:a.showSelect)!=null&&c.value&&!f.has("data-table-select")&&d.unshift({key:"data-table-select"}),(I=a==null?void 0:a.showExpand)!=null&&I.value&&!f.has("data-table-expand")&&d.push({key:"data-table-expand"});const g=Le(d);Ht(g);const m=Math.max(...g.map(o=>he(o)))+1,x=Gt(g,m);l.value=x.headers,t.value=x.columns;const h=x.headers.flat(1);for(const o of h)o.key&&(o.sortable&&(o.sort&&(n.value[o.key]=o.sort),o.sortRaw&&(r.value[o.key]=o.sortRaw)),o.filter&&(s.value[o.key]=o.filter))});const i={headers:l,columns:t,sortFunctions:n,sortRawFunctions:r,filterFunctions:s};return K($e,i),i}function re(){const e=q($e);if(!e)throw new Error("Missing headers!");return e}const Mt={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:a,value:l}=e;return new Set(l?[(t=a[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:a}=e;return a}},Me={showSelectAll:!0,allSelected:e=>{let{currentPage:a}=e;return a},select:e=>{let{items:a,value:l,selected:t}=e;for(const n of a)l?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:a,currentPage:l,selected:t}=e;return Me.select({items:l,value:a,selected:t})}},je={showSelectAll:!0,allSelected:e=>{let{allItems:a}=e;return a},select:e=>{let{items:a,value:l,selected:t}=e;for(const n of a)l?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:a,allItems:l,selected:t}=e;return je.select({items:l,value:a,selected:t})}},jt=V({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Be}},"DataTable-select"),We=Symbol.for("vuetify:data-table-selection");function Wt(e,a){let{allItems:l,currentPage:t}=a;const n=W(e,"modelValue",e.modelValue,o=>new Set(ie(o).map(S=>{var T;return((T=l.value.find(p=>e.valueComparator(S,p.value)))==null?void 0:T.value)??S})),o=>[...o.values()]),r=D(()=>l.value.filter(o=>o.selectable)),s=D(()=>t.value.filter(o=>o.selectable)),i=D(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Mt;case"all":return je;case"page":default:return Me}}),u=ht(null);function d(o){return ie(o).every(S=>n.value.has(S.value))}function f(o){return ie(o).some(S=>n.value.has(S.value))}function g(o,S){const T=i.value.select({items:o,value:S,selected:new Set(n.value)});n.value=T}function m(o,S,T){const p=[];if(S=S??t.value.findIndex(B=>B.value===o.value),e.selectStrategy!=="single"&&(T!=null&&T.shiftKey)&&u.value!==null){const[B,R]=[u.value,S].sort((E,w)=>E-w);p.push(...t.value.slice(B,R+1).filter(E=>E.selectable))}else p.push(o),u.value=S;g(p,!d([o]))}function x(o){const S=i.value.selectAll({value:o,allItems:r.value,currentPage:s.value,selected:new Set(n.value)});n.value=S}const h=D(()=>n.value.size>0),b=D(()=>{const o=i.value.allSelected({allItems:r.value,currentPage:s.value});return!!o.length&&d(o)}),c=C(()=>i.value.showSelectAll),I={toggleSelect:m,select:g,selectAll:x,isSelected:d,isSomeSelected:f,someSelected:h,allSelected:b,showSelectAll:c,lastSelectedIndex:u,selectStrategy:i};return K(We,I),I}function se(){const e=q(We);if(!e)throw new Error("Missing selection!");return e}const zt=V({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),ze=Symbol.for("vuetify:data-table-sort");function qt(e){const a=W(e,"sortBy"),l=C(()=>e.mustSort),t=C(()=>e.multiSort);return{sortBy:a,mustSort:l,multiSort:t}}function Kt(e){const{sortBy:a,mustSort:l,multiSort:t,page:n}=e,r=u=>{if(u.key==null)return;let d=a.value.map(g=>({...g}))??[];const f=d.find(g=>g.key===u.key);f?f.order==="desc"?l.value&&d.length===1?f.order="asc":d=d.filter(g=>g.key!==u.key):f.order="desc":t.value?d.push({key:u.key,order:"asc"}):d=[{key:u.key,order:"asc"}],a.value=d,n&&(n.value=1)};function s(u){return!!a.value.find(d=>d.key===u.key)}const i={sortBy:a,toggleSort:r,isSorted:s};return K(ze,i),i}function qe(){const e=q(ze);if(!e)throw new Error("Missing sort!");return e}function Ut(e,a,l,t){const n=ne();return{sortedItems:D(()=>{var s,i;return l.value.length?Yt(a.value,l.value,n.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(s=t==null?void 0:t.sortFunctions)==null?void 0:s.value},sortRawFunctions:(i=t==null?void 0:t.sortRawFunctions)==null?void 0:i.value}):a.value})}}function Yt(e,a,l,t){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,t!=null&&t.transform?t.transform(s):s]).sort((s,i)=>{var u,d;for(let f=0;f<a.length;f++){let g=!1;const m=a[f].key,x=a[f].order??"asc";if(x===!1)continue;let h=ae(s[1],m),b=ae(i[1],m),c=s[0].raw,I=i[0].raw;if(x==="desc"&&([h,b]=[b,h],[c,I]=[I,c]),(u=t==null?void 0:t.sortRawFunctions)!=null&&u[m]){const o=t.sortRawFunctions[m](c,I);if(o==null)continue;if(g=!0,o)return o}if((d=t==null?void 0:t.sortFunctions)!=null&&d[m]){const o=t.sortFunctions[m](h,b);if(o==null)continue;if(g=!0,o)return o}if(!g&&(h instanceof Date&&b instanceof Date&&(h=h.getTime(),b=b.getTime()),[h,b]=[h,b].map(o=>o!=null?o.toString().toLocaleLowerCase():o),h!==b))return X(h)&&X(b)?0:X(h)?-1:X(b)?1:!isNaN(h)&&!isNaN(b)?Number(h)-Number(b):n.compare(h,b)}return 0}).map(s=>{let[i]=s;return i})}const Ke=V({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:j,default:"$sortAsc"},sortDescIcon:{type:j,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...ve(),...St()},"VDataTableHeaders"),Ve=U()({name:"VDataTableHeaders",props:Ke(),setup(e,a){let{slots:l}=a;const{t}=ne(),{toggleSort:n,sortBy:r,isSorted:s}=qe(),{someSelected:i,allSelected:u,selectAll:d,showSelectAll:f}=se(),{columns:g,headers:m}=re(),{loaderClasses:x}=bt(e);function h(w,v){if(!(e.sticky||e.fixedHeader)&&!w.fixed)return;const k=typeof w.fixed=="string"?w.fixed:w.fixed?"start":"none";return{position:"sticky",left:k==="start"?O(w.fixedOffset):void 0,right:k==="end"?O(w.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${v})`:void 0}}function b(w,v){w.key==="Enter"&&!e.disableSort&&n(v)}function c(w){const v=r.value.find(k=>k.key===w.key);return v?v.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:I,backgroundColorStyles:o}=yt(()=>e.color),{displayClasses:S,mobile:T}=ge(e),p=D(()=>({headers:m.value,columns:g.value,toggleSort:n,isSorted:s,sortBy:r.value,someSelected:i.value,allSelected:u.value,selectAll:d,getSortIcon:c})),B=D(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},S.value,x.value]),R=w=>{let{column:v,x:k,y:F}=w;const A=v.key==="data-table-select"||v.key==="data-table-expand",Y=$(e.headerProps??{},v.headerProps??{});return P(le,$({tag:"th",align:v.align,class:[{"v-data-table__th--sortable":v.sortable&&!e.disableSort,"v-data-table__th--sorted":s(v),"v-data-table__th--fixed":v.fixed},...B.value],style:{width:O(v.width),minWidth:O(v.minWidth),maxWidth:O(v.maxWidth),...h(v,F)},colspan:v.colspan,rowspan:v.rowspan,fixed:v.fixed,nowrap:v.nowrap,lastFixed:v.lastFixed,firstFixedEnd:v.firstFixedEnd,noPadding:A,tabindex:v.sortable?0:void 0,onClick:v.sortable?()=>n(v):void 0,onKeydown:v.sortable?H=>b(H,v):void 0},Y),{default:()=>{var L;const H=`header.${v.key}`,G={column:v,selectAll:d,isSorted:s,toggleSort:n,sortBy:r.value,someSelected:i.value,allSelected:u.value,getSortIcon:c};return l[H]?l[H](G):v.key==="data-table-select"?((L=l["header.data-table-select"])==null?void 0:L.call(l,G))??(f.value&&P(me,{modelValue:u.value,indeterminate:i.value&&!u.value,"onUpdate:modelValue":d},null)):y("div",{class:"v-data-table-header__content"},[y("span",null,[v.title]),v.sortable&&!e.disableSort&&P(we,{key:"icon",class:"v-data-table-header__sort-icon",icon:c(v)},null),e.multiSort&&s(v)&&y("div",{key:"badge",class:te(["v-data-table-header__sort-badge",...I.value]),style:Pt(o.value)},[r.value.findIndex(oe=>oe.key===v.key)+1])])}})},E=()=>{const w=D(()=>g.value.filter(k=>(k==null?void 0:k.sortable)&&!e.disableSort)),v=D(()=>{if(g.value.find(F=>F.key==="data-table-select")!=null)return u.value?"$checkboxOn":i.value?"$checkboxIndeterminate":"$checkboxOff"});return P(le,$({tag:"th",class:[...B.value],colspan:m.value.length+1},e.headerProps),{default:()=>[y("div",{class:"v-data-table-header__content"},[P(Oe,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:v.value,"onClick:append":()=>d(!u.value)},{chip:k=>{var F;return P(pt,{onClick:(F=k.item.raw)!=null&&F.sortable?()=>n(k.item.raw):void 0,onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},{default:()=>[k.item.title,P(we,{class:te(["v-data-table__td-sort-icon",s(k.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:c(k.item.raw),size:"small"},null)]})}})])]})};J(()=>T.value?y("tr",null,[P(E,null,null)]):y(z,null,[l.headers?l.headers(p.value):m.value.map((w,v)=>y("tr",null,[w.map((k,F)=>P(R,{column:k,x:F,y:v},null))])),e.loading&&y("tr",{class:"v-data-table-progress"},[y("th",{colspan:g.value.length},[P(xt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),Qt=V({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ue=Symbol.for("vuetify:data-table-group");function Jt(e){return{groupBy:W(e,"groupBy")}}function Xt(e){const{disableSort:a,groupBy:l,sortBy:t}=e,n=M(new Set),r=D(()=>l.value.map(f=>({...f,order:f.order??!1})).concat(a!=null&&a.value?[]:t.value));function s(f){return n.value.has(f.id)}function i(f){const g=new Set(n.value);s(f)?g.delete(f.id):g.add(f.id),n.value=g}function u(f){function g(m){const x=[];for(const h of m.items)"type"in h&&h.type==="group"?x.push(...g(h)):x.push(h);return[...new Set(x)]}return g({items:f})}const d={sortByWithGroups:r,toggleGroup:i,opened:n,groupBy:l,extractRows:u,isGroupOpen:s};return K(Ue,d),d}function Ye(){const e=q(Ue);if(!e)throw new Error("Missing group!");return e}function Zt(e,a){if(!e.length)return[];const l=new Map;for(const t of e){const n=ae(t.raw,a);l.has(n)||l.set(n,[]),l.get(n).push(t)}return l}function Qe(e,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!a.length)return[];const n=Zt(e,a[0]),r=[],s=a.slice(1);return n.forEach((i,u)=>{const d=a[0],f=`${t}_${d}_${u}`;r.push({depth:l,id:f,key:d,value:u,items:s.length?Qe(i,s,l+1,f):i,type:"group"})}),r}function Je(e,a){const l=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&l.push(t),(a.has(t.id)||t.value==null)&&l.push(...Je(t.items,a))):l.push(t);return l}function ea(e,a,l){return{flatItems:D(()=>{if(!a.value.length)return e.value;const n=Qe(e.value,a.value.map(r=>r.key));return Je(n,l.value)})}}const ta=V({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),aa=U()({name:"VDataTableGroupHeaderRow",props:ta(),setup(e,a){let{slots:l}=a;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=Ye(),{isSelected:s,isSomeSelected:i,select:u}=se(),{columns:d}=re(),f=D(()=>r([e.item]));return()=>y("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(g=>{var m,x;if(g.key==="data-table-group"){const h=t(e.item)?"$expand":"$next",b=()=>n(e.item);return((m=l["data-table-group"])==null?void 0:m.call(l,{item:e.item,count:f.value.length,props:{icon:h,onClick:b}}))??P(le,{class:"v-data-table-group-header-row__column"},{default:()=>[P(_e,{size:"small",variant:"text",icon:h,onClick:b},null),y("span",null,[e.item.value]),y("span",null,[ke("("),f.value.length,ke(")")])]})}if(g.key==="data-table-select"){const h=s(f.value),b=i(f.value)&&!h,c=I=>u(f.value,I);return((x=l["data-table-select"])==null?void 0:x.call(l,{props:{modelValue:h,indeterminate:b,"onUpdate:modelValue":c}}))??y("td",null,[P(me,{modelValue:h,indeterminate:b,"onUpdate:modelValue":c},null)])}return y("td",null,null)})])}}),la=V({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Xe=Symbol.for("vuetify:datatable:expanded");function na(e){const a=C(()=>e.expandOnClick),l=W(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function t(i,u){const d=new Set(l.value);u?d.add(i.value):d.delete(i.value),l.value=d}function n(i){return l.value.has(i.value)}function r(i){t(i,!n(i))}const s={expand:t,expanded:l,expandOnClick:a,isExpanded:n,toggleExpand:r};return K(Xe,s),s}function Ze(){const e=q(Xe);if(!e)throw new Error("foo");return e}const ra=V({index:Number,item:Object,cellProps:[Object,Function],onClick:de(),onContextmenu:de(),onDblclick:de(),...ve()},"VDataTableRow"),sa=U()({name:"VDataTableRow",props:ra(),setup(e,a){let{slots:l}=a;const{displayClasses:t,mobile:n}=ge(e,"v-data-table__tr"),{isSelected:r,toggleSelect:s,someSelected:i,allSelected:u,selectAll:d}=se(),{isExpanded:f,toggleExpand:g}=Ze(),{toggleSort:m,sortBy:x,isSorted:h}=qe(),{columns:b}=re();J(()=>y("tr",{class:te(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&b.value.map((c,I)=>{const o=e.item,S=`item.${c.key}`,T=`header.${c.key}`,p={index:e.index,item:o.raw,internalItem:o,value:ae(o.columns,c.key),column:c,isSelected:r,toggleSelect:s,isExpanded:f,toggleExpand:g},B={column:c,selectAll:d,isSorted:h,toggleSort:m,sortBy:x.value,someSelected:i.value,allSelected:u.value,getSortIcon:()=>""},R=typeof e.cellProps=="function"?e.cellProps({index:p.index,item:p.item,internalItem:p.internalItem,value:p.value,column:c}):e.cellProps,E=typeof c.cellProps=="function"?c.cellProps({index:p.index,item:p.item,internalItem:p.internalItem,value:p.value}):c.cellProps;return P(le,$({align:c.align,class:{"v-data-table__td--expanded-row":c.key==="data-table-expand","v-data-table__td--select-row":c.key==="data-table-select"},fixed:c.fixed,fixedOffset:c.fixedOffset,fixedEndOffset:c.fixedEndOffset,lastFixed:c.lastFixed,firstFixedEnd:c.firstFixedEnd,maxWidth:n.value?void 0:c.maxWidth,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",nowrap:c.nowrap,width:n.value?void 0:c.width},R,E),{default:()=>{var v,k,F,A;if(c.key==="data-table-select")return((v=l["item.data-table-select"])==null?void 0:v.call(l,{...p,props:{disabled:!o.selectable,modelValue:r([o]),onClick:Z(()=>s(o),["stop"])}}))??P(me,{disabled:!o.selectable,modelValue:r([o]),onClick:Z(Y=>s(o,e.index,Y),["stop"])},null);if(c.key==="data-table-expand")return((k=l["item.data-table-expand"])==null?void 0:k.call(l,{...p,props:{icon:f(o)?"$collapse":"$expand",size:"small",variant:"text",onClick:Z(()=>g(o),["stop"])}}))??P(_e,{icon:f(o)?"$collapse":"$expand",size:"small",variant:"text",onClick:Z(()=>g(o),["stop"])},null);if(l[S]&&!n.value)return l[S](p);const w=wt(p.value);return n.value?y(z,null,[y("div",{class:"v-data-table__td-title"},[((F=l[T])==null?void 0:F.call(l,B))??c.title]),y("div",{class:"v-data-table__td-value"},[((A=l[S])==null?void 0:A.call(l,p))??w])]):w}})})]))}}),et=V({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ve()},"VDataTableRows"),Fe=U()({name:"VDataTableRows",inheritAttrs:!1,props:et(),setup(e,a){let{attrs:l,slots:t}=a;const{columns:n}=re(),{expandOnClick:r,toggleExpand:s,isExpanded:i}=Ze(),{isSelected:u,toggleSelect:d}=se(),{toggleGroup:f,isGroupOpen:g}=Ye(),{t:m}=ne(),{mobile:x}=ge(e);return J(()=>{var h,b;return e.loading&&(!e.items.length||t.loading)?y("tr",{class:"v-data-table-rows-loading",key:"loading"},[y("td",{colspan:n.value.length},[((h=t.loading)==null?void 0:h.call(t))??m(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?y("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[y("td",{colspan:n.value.length},[((b=t["no-data"])==null?void 0:b.call(t))??m(e.noDataText)])]):y(z,null,[e.items.map((c,I)=>{var T;if(c.type==="group"){const p={index:I,item:c,columns:n.value,isExpanded:i,toggleExpand:s,isSelected:u,toggleSelect:d,toggleGroup:f,isGroupOpen:g};return t["group-header"]?t["group-header"](p):P(aa,$({key:`group-header_${c.id}`,item:c},Ie(l,":group-header",()=>p)),t)}const o={index:I,item:c.raw,internalItem:c,columns:n.value,isExpanded:i,toggleExpand:s,isSelected:u,toggleSelect:d},S={...o,props:$({key:`item_${c.key??c.index}`,onClick:r.value?()=>{s(c)}:void 0,index:I,item:c,cellProps:e.cellProps,mobile:x.value},Ie(l,":row",()=>o),typeof e.rowProps=="function"?e.rowProps({item:o.item,index:o.index,internalItem:o.internalItem}):e.rowProps)};return y(z,{key:S.props.key},[t.item?t.item(S):P(sa,S.props,t),i(c)&&((T=t["expanded-row"])==null?void 0:T.call(t,o))])})])}),{}}}),oa=V({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function ua(e,a,l,t){const n=e.returnObject?a:ee(a,e.itemValue),r=ee(a,e.itemSelectable,!0),s=t.reduce((i,u)=>(u.key!=null&&(i[u.key]=ee(a,u.value)),i),{});return{type:"item",key:e.returnObject?ee(a,e.itemValue):n,index:l,value:n,selectable:r,columns:s,raw:a}}function ia(e,a,l){return a.map((t,n)=>ua(e,t,n,l))}function da(e,a){return{items:D(()=>ia(e,e.items,a.value))}}function ca(e){let{page:a,itemsPerPage:l,sortBy:t,groupBy:n,search:r}=e;const s=Ce("VDataTable"),i=()=>({page:a.value,itemsPerPage:l.value,sortBy:t.value,groupBy:n.value,search:r.value});let u=null;fe(i,d=>{Be(u,d)||(u&&u.search!==d.search&&(a.value=1),s.emit("update:options",d),u=d)},{deep:!0,immediate:!0})}const fa=V({...et(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...la(),...Qt(),...At(),...oa(),...jt(),...zt(),...Ke(),...Tt()},"DataTable"),ga=V({...Ct(),...fa(),...Ft(),...Ae()},"VDataTable"),xa=U()({name:"VDataTable",props:ga(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,a){let{attrs:l,slots:t}=a;const{groupBy:n}=Jt(e),{sortBy:r,multiSort:s,mustSort:i}=qt(e),{page:u,itemsPerPage:d}=Bt(e),{disableSort:f}=kt(e),{columns:g,headers:m,sortFunctions:x,sortRawFunctions:h,filterFunctions:b}=Lt(e,{groupBy:n,showSelect:C(()=>e.showSelect),showExpand:C(()=>e.showExpand)}),{items:c}=da(e,g),I=C(()=>e.search),{filteredItems:o}=Vt(e,c,I,{transform:N=>N.columns,customKeyFilter:b}),{toggleSort:S}=Kt({sortBy:r,multiSort:s,mustSort:i,page:u}),{sortByWithGroups:T,opened:p,extractRows:B,isGroupOpen:R,toggleGroup:E}=Xt({groupBy:n,sortBy:r,disableSort:f}),{sortedItems:w}=Ut(e,o,T,{transform:N=>({...N.raw,...N.columns}),sortFunctions:x,sortRawFunctions:h}),{flatItems:v}=ea(w,n,p),k=D(()=>v.value.length),{startIndex:F,stopIndex:A,pageCount:Y,setItemsPerPage:H}=_t({page:u,itemsPerPage:d,itemsLength:k}),{paginatedItems:G}=Et({items:v,startIndex:F,stopIndex:A,itemsPerPage:d}),L=D(()=>B(G.value)),{isSelected:oe,select:tt,selectAll:at,toggleSelect:lt,someSelected:nt,allSelected:rt}=Wt(e,{allItems:c,currentPage:L}),{isExpanded:st,toggleExpand:ot}=na(e);ca({page:u,itemsPerPage:d,sortBy:r,groupBy:n,search:I}),Dt({VDataTableRows:{hideNoData:C(()=>e.hideNoData),noDataText:C(()=>e.noDataText),loading:C(()=>e.loading),loadingText:C(()=>e.loadingText)}});const _=D(()=>({page:u.value,itemsPerPage:d.value,sortBy:r.value,pageCount:Y.value,toggleSort:S,setItemsPerPage:H,someSelected:nt.value,allSelected:rt.value,isSelected:oe,select:tt,selectAll:at,toggleSelect:lt,isExpanded:st,toggleExpand:ot,isGroupOpen:R,toggleGroup:E,items:L.value.map(N=>N.raw),internalItems:L.value,groupedItems:G.value,columns:g.value,headers:m.value}));return J(()=>{const N=Te.filterProps(e),ut=Ve.filterProps(e),it=Fe.filterProps(e),dt=De.filterProps(e);return P(De,$({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},dt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var Q;return(Q=t.top)==null?void 0:Q.call(t,_.value)},default:()=>{var Q,be,ye,xe,Se,pe;return t.default?t.default(_.value):y(z,null,[(Q=t.colgroup)==null?void 0:Q.call(t,_.value),!e.hideDefaultHeader&&y("thead",{key:"thead"},[P(Ve,ut,t)]),(be=t.thead)==null?void 0:be.call(t,_.value),!e.hideDefaultBody&&y("tbody",null,[(ye=t["body.prepend"])==null?void 0:ye.call(t,_.value),t.body?t.body(_.value):P(Fe,$(l,it,{items:G.value}),t),(xe=t["body.append"])==null?void 0:xe.call(t,_.value)]),(Se=t.tbody)==null?void 0:Se.call(t,_.value),(pe=t.tfoot)==null?void 0:pe.call(t,_.value)])},bottom:()=>t.bottom?t.bottom(_.value):!e.hideDefaultFooter&&y(z,null,[P(It,null,null),P(Te,N,{prepend:t["footer.prepend"]})])})}),{}}});export{xa as V,qt as a,Bt as b,Jt as c,Lt as d,Xt as e,_t as f,ea as g,Wt as h,na as i,ca as j,Te as k,Ve as l,Fe as m,Ae as n,fa as o,Kt as p,Ct as q,da as u};
