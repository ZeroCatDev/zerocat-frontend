import{_ as w}from"./LoadingDialog-D4U3TQUH.js";import{_ as x,I as d,H as p,G as v,J as _,r as V,o as C,e as k,L as n,a as e,w as o,Z as m,N as i,O as R,S as b}from"./index-BVR4auYL.js";import"https://static.geetest.com/v4/gt4.js";import{i as f,g as c,r as B}from"./useRecaptcha-D4VPpSaq.js";import{V as g,a as l}from"./VRow-CjHfTLSk.js";import{V as N}from"./VForm-UzilipQR.js";import{V as z}from"./VCard-CEeaKvwH.js";import"./VDialog-BmQUxtOY.js";/* empty css              */const F={components:{LoadingDialog:w},data(){return{BASE_API:"https://zerocat-api.houlangs.com",password:"",password2:"",show1:d(!1),show2:d(!1),tryinguser:{},loading:!1,initRecaptcha:f,getResponse:c,resetCaptcha:B,emailRules:[r=>r?!0:"å¿…é¡»å¡«å†™é‚®ç®±",r=>/.+@.+\..+/.test(r)?!0:"ä¸ç¬¦åˆæ ¼å¼"],passwordRules:[r=>r?!0:"å¿…é¡»å¡«å†™å¯†ç "],password2Rules:[r=>r?!0:"å¿…é¡»å¡«å†™å¯†ç ",r=>{if(r!=this.password)return"å¿…é¡»ä¸å‰è€…ç›¸åŒ"}]}},created(){p.islogin.value==!0&&this.$router.push("/"),f("recaptcha-div","popup")},setup(){v({title:"é‡è®¾å¯†ç "})},methods:{async login(){if(this.loading=!0,this.tryinguser=await _({url:"/account/torepw",method:"post",data:{jwttoken:this.$route.query.token,captcha:c(),pw:this.password}}),this.tryinguser.message!="OK"){this.loading=!1,this.$toast.add({severity:"info",summary:"info",detail:this.tryinguser.msg||this.tryinguser.message,life:3e3});return}this.loading=!1,p.setuser(this.tryinguser.token),console.log(this.tryinguser),(this.tryinguser.msg||this.tryinguser.message=="OK")&&this.$router.push("/")},addtoast(r){this.$toast.add({severity:"info",summary:"info",detail:r,life:3e3})}}},I={class:"auth-wrapper d-flex align-center justify-center pa-4"};function L(r,t,O,j,s,h){const u=V("v-cardtext"),y=w;return C(),k(b,null,[n("div",I,[e(z,{class:"auth-card pa-4 pt-7","max-width":"448",border:""},{default:o(()=>[e(g,null,{default:o(()=>[e(l,{cols:"12"},{default:o(()=>[e(u,null,{default:o(()=>t[5]||(t[5]=[n("h5",{class:"text-h5 font-weight-semibold mb-1"}," æ¬¢è¿æ¥åˆ°ZeroCatNextï¼ ğŸ‘‹ğŸ» ",-1),n("p",{class:"mb-0"},"é‡è®¾å¯†ç ",-1)])),_:1})]),_:1})]),_:1}),e(u,null,{default:o(()=>[e(N,null,{default:o(()=>[e(g,null,{default:o(()=>[e(l,{cols:"12"},{default:o(()=>[e(m,{label:"å¯†ç ",modelValue:s.password,"onUpdate:modelValue":t[0]||(t[0]=a=>s.password=a),variant:"outlined",rules:s.passwordRules,"append-icon":s.show1?"mdi-eye":"mdi-eye-off",type:s.show1?"text":"password","onClick:append":t[1]||(t[1]=a=>s.show1=!s.show1)},null,8,["modelValue","rules","append-icon","type"]),e(m,{label:"ç¡®è®¤å¯†ç ",modelValue:s.password2,"onUpdate:modelValue":t[2]||(t[2]=a=>s.password2=a),variant:"outlined",rules:s.password2Rules,"append-icon":s.show2?"mdi-eye":"mdi-eye-off",type:s.show2?"text":"password","onClick:append":t[3]||(t[3]=a=>s.show2=!s.show2)},null,8,["modelValue","rules","append-icon","type"])]),_:1}),e(l,{cols:"9"},{default:o(()=>t[6]||(t[6]=[n("div",{id:"recaptcha-div"},null,-1)])),_:1}),e(l,{cols:"3"},{default:o(()=>[e(i,{onClick:t[4]||(t[4]=a=>s.resetCaptcha()),variant:"text"},{default:o(()=>t[7]||(t[7]=[R("åˆ·æ–°")])),_:1})]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(i,{class:"text-none",color:"primary",rounded:"xl",text:"é‡è®¾å¯†ç ",variant:"flat",size:"large",onClick:h.login,"append-icon":"mdi-arrow-right"},null,8,["onClick"])]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(i,{class:"text-none",color:"white",rounded:"xl",text:"ç™»å½•",variant:"text",size:"large","append-icon":"mdi-arrow-right",to:"/account/login"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e(y,{show:s.loading,text:"æ­£åœ¨é‡è®¾å¯†ç "},null,8,["show"])],64)}const q=x(F,[["render",L]]);export{q as default};
