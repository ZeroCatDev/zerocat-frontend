import{cE as mt,c4 as ht,p as V,u as z,x as D,w as me,cF as _e,y as ie,au as q,cG as U,g as Q,a as oe,d as Y,bM as Ie,f as x,e as P,aC as Oe,m as H,I as N,cH as bt,k as _,D as ne,r as W,ax as yt,cI as xt,cJ as pt,cl as ce,A as St,bw as E,cr as Ae,cK as re,cL as ee,cd as Pt,bA as wt,cM as he,cg as kt,F as K,cN as It,cO as be,S as Dt,O as De,ch as ye,C as Tt,cP as Vt,i as Ne,L as Te,cQ as te,aI as ae,T as Ft,cR as fe,bT as ge,cC as le,av as Ct,bS as Bt,a4 as Et}from"./index-DqTFJ56J.js";import{V as Ve,m as _t}from"./VTable-DgaFoqcJ.js";import{u as Ot,m as At}from"./filter-DxbJNipU.js";function Fe(e,a,l){return Object.keys(e).filter(t=>mt(t)&&t.endsWith(a)).reduce((t,n)=>(t[n.slice(0,-a.length)]=r=>ht(e[n],r,l(r)),t),{})}const Nt=V({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Re=Symbol.for("vuetify:data-table-pagination");function Rt(e){const a=z(e,"page",void 0,t=>Number(t??1)),l=z(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:a,itemsPerPage:l}}function $t(e){const{page:a,itemsPerPage:l,itemsLength:t}=e,n=D(()=>l.value===-1?0:l.value*(a.value-1)),r=D(()=>l.value===-1?t.value:Math.min(t.value,n.value+l.value)),o=D(()=>l.value===-1||t.value===0?1:Math.ceil(t.value/l.value));me([a,o],()=>{a.value>o.value&&(a.value=o.value)});function i(m){l.value=m,a.value=1}function s(){a.value=ie(a.value+1,1,o.value)}function d(){a.value=ie(a.value-1,1,o.value)}function c(m){a.value=ie(m,1,o.value)}const g={page:a,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:o,itemsLength:t,nextPage:s,prevPage:d,setPage:c,setItemsPerPage:i};return U(Re,g),g}function Ht(){const e=q(Re);if(!e)throw new Error("Missing pagination!");return e}function Gt(e){const a=_e("usePaginatedItems"),{items:l,startIndex:t,stopIndex:n,itemsPerPage:r}=e,o=D(()=>r.value<=0?l.value:l.value.slice(t.value,n.value));return me(o,i=>{a.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:o}}const $e=V({prevIcon:{type:N,default:"$prev"},nextIcon:{type:N,default:"$next"},firstIcon:{type:N,default:"$first"},lastIcon:{type:N,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ce=Q()({name:"VDataTableFooter",props:$e(),setup(e,a){let{slots:l}=a;const{t}=oe(),{page:n,pageCount:r,startIndex:o,stopIndex:i,itemsLength:s,itemsPerPage:d,setItemsPerPage:c}=Ht(),g=D(()=>e.itemsPerPageOptions.map(m=>typeof m=="number"?{value:m,title:m===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(m)}:{...m,title:isNaN(Number(m.title))?t(m.title):m.title}));return Y(()=>{var S;const m=Ie.filterProps(e);return x("div",{class:"v-data-table-footer"},[(S=l.prepend)==null?void 0:S.call(l),x("div",{class:"v-data-table-footer__items-per-page"},[x("span",{"aria-label":t(e.itemsPerPageText)},[t(e.itemsPerPageText)]),P(Oe,{items:g.value,modelValue:d.value,"onUpdate:modelValue":h=>c(Number(h)),density:"compact",variant:"outlined",hideDetails:!0},null)]),x("div",{class:"v-data-table-footer__info"},[x("div",null,[t(e.pageText,s.value?o.value+1:0,i.value,s.value)])]),x("div",{class:"v-data-table-footer__pagination"},[P(Ie,H({modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},m),null)])])}),{}}}),X=bt({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,a)=>{let{slots:l}=a;const t=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return P(t,{class:ne(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:_(e.height),width:_(e.width),maxWidth:_(e.maxWidth),left:n==="start"?_(e.fixedOffset||null):void 0,right:n==="end"?_(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?_(e.indent):void 0}},{default:()=>{var r;return[(r=l.default)==null?void 0:r.call(l)]}})}),Lt=V({headers:Array},"DataTable-header"),He=Symbol.for("vuetify:data-table-headers"),Ge={title:"",sortable:!1},Mt={...Ge,width:48};function jt(){const a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,t)=>{let n=!1;for(let r=0;r<a.length;r++)if(a[r].priority>t){a.splice(r,0,{element:l,priority:t}),n=!0;break}n||a.push({element:l,priority:t})},size:()=>a.length,count:()=>{let l=0;if(!a.length)return 0;const t=Math.floor(a[0].priority);for(let n=0;n<a.length;n++)Math.floor(a[n].priority)===t&&(l+=1);return l},dequeue:()=>a.shift()}}function ve(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)a.push(e);else for(const l of e.children)ve(l,a);return a}function Le(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&a.add(l.key),l.children&&Le(l.children,a);return a}function Wt(e){if(e.key){if(e.key==="data-table-group")return Ge;if(["data-table-expand","data-table-select"].includes(e.key))return Mt}}function xe(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(a,...e.children.map(l=>xe(l,a+1))):a}function zt(e){let a=!1;function l(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(i!=="none"&&(r.fixed=i),r.fixed===!0&&(r.fixed="start"),r.fixed===o)if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)l(r.children[s],o,o);else for(let s=0;s<r.children.length;s++)l(r.children[s],o,o);else!a&&o==="start"?r.lastFixed=!0:!a&&o==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?pt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),a=!0;else if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)l(r.children[s],o);else for(let s=0;s<r.children.length;s++)l(r.children[s],o);else a=!1}for(let r=e.length-1;r>=0;r--)l(e[r],"start");for(let r=0;r<e.length;r++)l(e[r],"end");let t=0;for(let r=0;r<e.length;r++)t=Me(e[r],t);let n=0;for(let r=e.length-1;r>=0;r--)n=je(e[r],n)}function Me(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return a;if(e.children){e.fixedOffset=a;for(const l of e.children)a=Me(l,a)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=a,a+=parseFloat(e.width||"0")||0);return a}function je(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return a;if(e.children){e.fixedEndOffset=a;for(const l of e.children)a=je(l,a)}else e.fixed==="end"&&(e.fixedEndOffset=a,a+=parseFloat(e.width||"0")||0);return a}function Kt(e,a){const l=[];let t=0;const n=jt(e);for(;n.size()>0;){let o=n.count();const i=[];let s=1;for(;o>0;){const{element:d,priority:c}=n.dequeue(),g=a-t-xe(d);if(i.push({...d,rowspan:g??1,colspan:d.children?ve(d).length:1}),d.children)for(const m of d.children){const S=c%1+s/Math.pow(10,t+2);n.enqueue(m,t+g+S)}s+=1,o-=1}t+=1,l.push(i)}return{columns:e.map(o=>ve(o)).flat(),headers:l}}function We(e){const a=[];for(const l of e){const t={...Wt(l),...l},n=t.key??(typeof t.value=="string"?t.value:null),r=t.value??n??null,o={...t,key:n,value:r,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?We(t.children):void 0};a.push(o)}return a}function qt(e,a){const l=W([]),t=W([]),n=W({}),r=W({}),o=W({});yt(()=>{var b,f,y;const d=(e.headers||Object.keys(e.items[0]??{}).map(u=>({key:u,title:xt(u)}))).slice(),c=Le(d);(b=a==null?void 0:a.groupBy)!=null&&b.value.length&&!c.has("data-table-group")&&d.unshift({key:"data-table-group",title:"Group"}),(f=a==null?void 0:a.showSelect)!=null&&f.value&&!c.has("data-table-select")&&d.unshift({key:"data-table-select"}),(y=a==null?void 0:a.showExpand)!=null&&y.value&&!c.has("data-table-expand")&&d.push({key:"data-table-expand"});const g=We(d);zt(g);const m=Math.max(...g.map(u=>xe(u)))+1,S=Kt(g,m);l.value=S.headers,t.value=S.columns;const h=S.headers.flat(1);for(const u of h)u.key&&(u.sortable&&(u.sort&&(n.value[u.key]=u.sort),u.sortRaw&&(r.value[u.key]=u.sortRaw)),u.filter&&(o.value[u.key]=u.filter))});const i={headers:l,columns:t,sortFunctions:n,sortRawFunctions:r,filterFunctions:o};return U(He,i),i}function se(){const e=q(He);if(!e)throw new Error("Missing headers!");return e}const Ut={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:a,value:l}=e;return new Set(l?[(t=a[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:a}=e;return a}},ze={showSelectAll:!0,allSelected:e=>{let{currentPage:a}=e;return a},select:e=>{let{items:a,value:l,selected:t}=e;for(const n of a)l?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:a,currentPage:l,selected:t}=e;return ze.select({items:l,value:a,selected:t})}},Ke={showSelectAll:!0,allSelected:e=>{let{allItems:a}=e;return a},select:e=>{let{items:a,value:l,selected:t}=e;for(const n of a)l?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:a,allItems:l,selected:t}=e;return Ke.select({items:l,value:a,selected:t})}},Qt=V({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ae}},"DataTable-select"),qe=Symbol.for("vuetify:data-table-selection");function Jt(e,a){let{allItems:l,currentPage:t}=a;const n=z(e,"modelValue",e.modelValue,u=>new Set(ce(u).map(p=>{var T;return((T=l.value.find(w=>e.valueComparator(p,w.value)))==null?void 0:T.value)??p})),u=>[...u.values()]),r=D(()=>l.value.filter(u=>u.selectable)),o=D(()=>t.value.filter(u=>u.selectable)),i=D(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Ut;case"all":return Ke;case"page":default:return ze}}),s=St(null);function d(u){return ce(u).every(p=>n.value.has(p.value))}function c(u){return ce(u).some(p=>n.value.has(p.value))}function g(u,p){const T=i.value.select({items:u,value:p,selected:new Set(n.value)});n.value=T}function m(u,p,T){const w=[];if(p=p??t.value.findIndex(F=>F.value===u.value),e.selectStrategy!=="single"&&(T!=null&&T.shiftKey)&&s.value!==null){const[F,B]=[s.value,p].sort((R,I)=>R-I);w.push(...t.value.slice(F,B+1).filter(R=>R.selectable))}else w.push(u),s.value=p;g(w,!d([u]))}function S(u){const p=i.value.selectAll({value:u,allItems:r.value,currentPage:o.value,selected:new Set(n.value)});n.value=p}const h=D(()=>n.value.size>0),b=D(()=>{const u=i.value.allSelected({allItems:r.value,currentPage:o.value});return!!u.length&&d(u)}),f=E(()=>i.value.showSelectAll),y={toggleSelect:m,select:g,selectAll:S,isSelected:d,isSomeSelected:c,someSelected:h,allSelected:b,showSelectAll:f,lastSelectedIndex:s,selectStrategy:i};return U(qe,y),y}function ue(){const e=q(qe);if(!e)throw new Error("Missing selection!");return e}const Xt=V({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Ue=Symbol.for("vuetify:data-table-sort");function Yt(e){const a=z(e,"sortBy"),l=E(()=>e.mustSort),t=E(()=>e.multiSort);return{sortBy:a,mustSort:l,multiSort:t}}function Zt(e){const{sortBy:a,mustSort:l,multiSort:t,page:n}=e,r=s=>{if(s.key==null)return;let d=a.value.map(g=>({...g}))??[];const c=d.find(g=>g.key===s.key);c?c.order==="desc"?l.value&&d.length===1?c.order="asc":d=d.filter(g=>g.key!==s.key):c.order="desc":t.value?d.push({key:s.key,order:"asc"}):d=[{key:s.key,order:"asc"}],a.value=d,n&&(n.value=1)};function o(s){return!!a.value.find(d=>d.key===s.key)}const i={sortBy:a,toggleSort:r,isSorted:o};return U(Ue,i),i}function Qe(){const e=q(Ue);if(!e)throw new Error("Missing sort!");return e}function ea(e,a,l,t){const n=oe();return{sortedItems:D(()=>{var o,i;return l.value.length?ta(a.value,l.value,n.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(o=t==null?void 0:t.sortFunctions)==null?void 0:o.value},sortRawFunctions:(i=t==null?void 0:t.sortRawFunctions)==null?void 0:i.value}):a.value})}}function ta(e,a,l,t){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,t!=null&&t.transform?t.transform(o):o]).sort((o,i)=>{var s,d;for(let c=0;c<a.length;c++){let g=!1;const m=a[c].key,S=a[c].order??"asc";if(S===!1)continue;let h=re(o[1],m),b=re(i[1],m),f=o[0].raw,y=i[0].raw;if(S==="desc"&&([h,b]=[b,h],[f,y]=[y,f]),(s=t==null?void 0:t.sortRawFunctions)!=null&&s[m]){const u=t.sortRawFunctions[m](f,y);if(u==null)continue;if(g=!0,u)return u}if((d=t==null?void 0:t.sortFunctions)!=null&&d[m]){const u=t.sortFunctions[m](h,b);if(u==null)continue;if(g=!0,u)return u}if(!g&&(h instanceof Date&&b instanceof Date&&(h=h.getTime(),b=b.getTime()),[h,b]=[h,b].map(u=>u!=null?u.toString().toLocaleLowerCase():u),h!==b))return ee(h)&&ee(b)?0:ee(h)?-1:ee(b)?1:!isNaN(h)&&!isNaN(b)?Number(h)-Number(b):n.compare(h,b)}return 0}).map(o=>{let[i]=o;return i})}const Je=V({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:N,default:"$sortAsc"},sortDescIcon:{type:N,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...be(),...It()},"VDataTableHeaders"),Be=Q()({name:"VDataTableHeaders",props:Je(),setup(e,a){let{slots:l}=a;const{t}=oe(),{toggleSort:n,sortBy:r,isSorted:o}=Qe(),{someSelected:i,allSelected:s,selectAll:d,showSelectAll:c}=ue(),{columns:g,headers:m}=se(),{loaderClasses:S}=Pt(e);function h(I,v){if(!(e.sticky||e.fixedHeader)&&!I.fixed)return;const k=typeof I.fixed=="string"?I.fixed:I.fixed?"start":"none";return{position:"sticky",left:k==="start"?_(I.fixedOffset):void 0,right:k==="end"?_(I.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${v})`:void 0}}function b(I,v){I.key==="Enter"&&!e.disableSort&&n(v)}function f(I){const v=r.value.find(k=>k.key===I.key);return v?v.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:u}=wt(()=>e.color),{displayClasses:p,mobile:T}=he(e),w=D(()=>({headers:m.value,columns:g.value,toggleSort:n,isSorted:o,sortBy:r.value,someSelected:i.value,allSelected:s.value,selectAll:d,getSortIcon:f})),F=D(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},p.value,S.value]),B=I=>{let{column:v,x:k,y:C}=I;const $=v.key==="data-table-select"||v.key==="data-table-expand",L=v.key==="data-table-group"&&v.width===0&&!v.title,M=H(e.headerProps??{},v.headerProps??{});return P(X,H({tag:"th",align:v.align,class:[{"v-data-table__th--sortable":v.sortable&&!e.disableSort,"v-data-table__th--sorted":o(v),"v-data-table__th--fixed":v.fixed},...F.value],style:{width:_(v.width),minWidth:_(v.minWidth),maxWidth:_(v.maxWidth),...h(v,C)},colspan:v.colspan,rowspan:v.rowspan,fixed:v.fixed,nowrap:v.nowrap,lastFixed:v.lastFixed,firstFixedEnd:v.firstFixedEnd,noPadding:$,empty:L,tabindex:v.sortable?0:void 0,onClick:v.sortable?()=>n(v):void 0,onKeydown:v.sortable?O=>b(O,v):void 0},M),{default:()=>{var Z;const O=`header.${v.key}`,j={column:v,selectAll:d,isSorted:o,toggleSort:n,sortBy:r.value,someSelected:i.value,allSelected:s.value,getSortIcon:f};return l[O]?l[O](j):L?"":v.key==="data-table-select"?((Z=l["header.data-table-select"])==null?void 0:Z.call(l,j))??(c.value&&P(ye,{modelValue:s.value,indeterminate:i.value&&!s.value,"onUpdate:modelValue":d},null)):x("div",{class:"v-data-table-header__content"},[x("span",null,[v.title]),v.sortable&&!e.disableSort&&P(De,{key:"icon",class:"v-data-table-header__sort-icon",icon:f(v)},null),e.multiSort&&o(v)&&x("div",{key:"badge",class:ne(["v-data-table-header__sort-badge",...y.value]),style:Tt(u.value)},[r.value.findIndex(de=>de.key===v.key)+1])])}})},R=()=>{const I=D(()=>g.value.filter(k=>(k==null?void 0:k.sortable)&&!e.disableSort)),v=D(()=>{if(g.value.find(C=>C.key==="data-table-select")!=null)return s.value?"$checkboxOn":i.value?"$checkboxIndeterminate":"$checkboxOff"});return P(X,H({tag:"th",class:[...F.value],colspan:m.value.length+1},e.headerProps),{default:()=>[x("div",{class:"v-data-table-header__content"},[P(Oe,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:I.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:v.value,"onClick:append":()=>d(!s.value)},{chip:k=>{var C;return P(Dt,{onClick:(C=k.item.raw)!=null&&C.sortable?()=>n(k.item.raw):void 0,onMousedown:$=>{$.preventDefault(),$.stopPropagation()}},{default:()=>[k.item.title,P(De,{class:ne(["v-data-table__td-sort-icon",o(k.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:f(k.item.raw),size:"small"},null)]})}})])]})};Y(()=>T.value?x("tr",null,[P(R,null,null)]):x(K,null,[l.headers?l.headers(w.value):m.value.map((I,v)=>x("tr",null,[I.map((k,C)=>P(B,{column:k,x:C,y:v},null))])),e.loading&&x("tr",{class:"v-data-table-progress"},[x("th",{colspan:g.value.length},[P(kt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),aa=V({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Xe=Symbol.for("vuetify:data-table-group");function la(e){return{groupBy:z(e,"groupBy")}}function na(e){const{disableSort:a,groupBy:l,sortBy:t}=e,n=W(new Set),r=D(()=>l.value.map(c=>({...c,order:c.order??!1})).concat(a!=null&&a.value?[]:t.value));function o(c){return n.value.has(c.id)}function i(c){const g=new Set(n.value);o(c)?g.delete(c.id):g.add(c.id),n.value=g}function s(c){function g(m){const S=[];for(const h of m.items)"type"in h&&h.type==="group"?S.push(...g(h)):S.push(h);return[...new Set(S)]}return g({items:c})}const d={sortByWithGroups:r,toggleGroup:i,opened:n,groupBy:l,extractRows:s,isGroupOpen:o};return U(Xe,d),d}function Ye(){const e=q(Xe);if(!e)throw new Error("Missing group!");return e}function ra(e,a){if(!e.length)return[];const l=new Map;for(const t of e){const n=re(t.raw,a);l.has(n)||l.set(n,[]),l.get(n).push(t)}return l}function Ze(e,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!a.length)return[];const n=ra(e,a[0]),r=[],o=a.slice(1);return n.forEach((i,s)=>{const d=a[0],c=`${t}_${d}_${s}`;r.push({depth:l,id:c,key:d,value:s,items:o.length?Ze(i,o,l+1,c):i,type:"group"})}),r}function et(e,a,l){const t=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&t.push(n),(a.has(n.id)||n.value==null)&&(t.push(...et(n.items,a,l)),l&&t.push({...n,type:"group-summary"}))):t.push(n);return t}function oa(e,a,l,t){return{flatItems:D(()=>{if(!a.value.length)return e.value;const r=Ze(e.value,a.value.map(o=>o.key));return et(r,l.value,Vt(t))})}}const tt=V({item:{type:Object,required:!0},groupCollapseIcon:{type:N,default:"$tableGroupCollapse"},groupExpandIcon:{type:N,default:"$tableGroupExpand"}},"VDataTableGroupHeaderRow"),sa=Q()({name:"VDataTableGroupHeaderRow",props:tt(),setup(e,a){let{slots:l}=a;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=Ye(),{isSelected:o,isSomeSelected:i,select:s}=ue(),{columns:d}=se(),c=D(()=>r([e.item])),g=E(()=>d.value.length-(d.value.some(m=>m.key==="data-table-select")?1:0));return()=>x("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(m=>{var S,h;if(m.key==="data-table-group"){const b=t(e.item)?e.groupCollapseIcon:e.groupExpandIcon,f=()=>n(e.item);return((S=l["data-table-group"])==null?void 0:S.call(l,{item:e.item,count:c.value.length,props:{icon:b,onClick:f}}))??P(X,{class:"v-data-table-group-header-row__column",colspan:g.value},{default:()=>[P(Ne,{size:"small",variant:"text",icon:b,onClick:f},null),x("span",null,[e.item.value]),x("span",null,[Te("("),c.value.length,Te(")")])]})}else if(m.key==="data-table-select"){const b=o(c.value),f=i(c.value)&&!b,y=u=>s(c.value,u);return((h=l["data-table-select"])==null?void 0:h.call(l,{props:{modelValue:b,indeterminate:f,"onUpdate:modelValue":y}}))??P(X,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[P(ye,{modelValue:b,indeterminate:f,"onUpdate:modelValue":y},null)]})}return""})])}}),ua=V({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),at=Symbol.for("vuetify:datatable:expanded");function da(e){const a=E(()=>e.expandOnClick),l=z(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function t(i,s){const d=new Set(l.value),c=te(i.value);if(s)d.add(c);else{const g=[...l.value].find(m=>te(m)===c);d.delete(g)}l.value=d}function n(i){const s=te(i.value);return[...l.value].some(d=>te(d)===s)}function r(i){t(i,!n(i))}const o={expand:t,expanded:l,expandOnClick:a,isExpanded:n,toggleExpand:r};return U(at,o),o}function lt(){const e=q(at);if(!e)throw new Error("foo");return e}const nt=V({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:N,default:"$collapse"},expandIcon:{type:N,default:"$expand"},onClick:fe(),onContextmenu:fe(),onDblclick:fe(),...be()},"VDataTableRow"),ia=Q()({name:"VDataTableRow",props:nt(),setup(e,a){let{slots:l}=a;const{displayClasses:t,mobile:n}=he(e,"v-data-table__tr"),{isSelected:r,toggleSelect:o,someSelected:i,allSelected:s,selectAll:d}=ue(),{isExpanded:c,toggleExpand:g}=lt(),{toggleSort:m,sortBy:S,isSorted:h}=Qe(),{columns:b}=se();Y(()=>x("tr",{class:ne(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&b.value.map((f,y)=>{const u=e.item,p=`item.${f.key}`,T=`header.${f.key}`,w={index:e.index,item:u.raw,internalItem:u,value:re(u.columns,f.key),column:f,isSelected:r,toggleSelect:o,isExpanded:c,toggleExpand:g},F={column:f,selectAll:d,isSorted:h,toggleSort:m,sortBy:S.value,someSelected:i.value,allSelected:s.value,getSortIcon:()=>""},B=typeof e.cellProps=="function"?e.cellProps({index:w.index,item:w.item,internalItem:w.internalItem,value:w.value,column:f}):e.cellProps,R=typeof f.cellProps=="function"?f.cellProps({index:w.index,item:w.item,internalItem:w.internalItem,value:w.value}):f.cellProps,I=f.key==="data-table-select"||f.key==="data-table-expand",v=f.key==="data-table-group"&&f.width===0&&!f.title;return P(X,H({align:f.align,indent:f.intent,class:{"v-data-table__td--expanded-row":f.key==="data-table-expand","v-data-table__td--select-row":f.key==="data-table-select"},fixed:f.fixed,fixedOffset:f.fixedOffset,fixedEndOffset:f.fixedEndOffset,lastFixed:f.lastFixed,firstFixedEnd:f.firstFixedEnd,maxWidth:n.value?void 0:f.maxWidth,noPadding:I,empty:v,nowrap:f.nowrap,width:n.value?void 0:f.width},B,R),{default:()=>{var C,$,L,M;if(f.key==="data-table-select")return((C=l["item.data-table-select"])==null?void 0:C.call(l,{...w,props:{disabled:!u.selectable,modelValue:r([u]),onClick:ae(()=>o(u),["stop"])}}))??P(ye,{disabled:!u.selectable,modelValue:r([u]),onClick:ae(O=>o(u,e.index,O),["stop"])},null);if(f.key==="data-table-expand")return(($=l["item.data-table-expand"])==null?void 0:$.call(l,{...w,props:{icon:c(u)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:ae(()=>g(u),["stop"])}}))??P(Ne,{icon:c(u)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:ae(()=>g(u),["stop"])},null);if(l[p]&&!n.value)return l[p](w);const k=Ft(w.value);return n.value?x(K,null,[x("div",{class:"v-data-table__td-title"},[((L=l[T])==null?void 0:L.call(l,F))??f.title]),x("div",{class:"v-data-table__td-value"},[((M=l[p])==null?void 0:M.call(l,w))??k])]):k}})})]))}}),rt=V({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ge(nt(),["collapseIcon","expandIcon"]),...ge(tt(),["groupCollapseIcon","groupExpandIcon"]),...be()},"VDataTableRows"),Ee=Q()({name:"VDataTableRows",inheritAttrs:!1,props:rt(),setup(e,a){let{attrs:l,slots:t}=a;const{columns:n}=se(),{expandOnClick:r,toggleExpand:o,isExpanded:i}=lt(),{isSelected:s,toggleSelect:d}=ue(),{toggleGroup:c,isGroupOpen:g}=Ye(),{t:m}=oe(),{mobile:S}=he(e);return Y(()=>{var b,f;const h=ge(e,["groupCollapseIcon","groupExpandIcon"]);return e.loading&&(!e.items.length||t.loading)?x("tr",{class:"v-data-table-rows-loading",key:"loading"},[x("td",{colspan:n.value.length},[((b=t.loading)==null?void 0:b.call(t))??m(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?x("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[x("td",{colspan:n.value.length},[((f=t["no-data"])==null?void 0:f.call(t))??m(e.noDataText)])]):x(K,null,[e.items.map((y,u)=>{var w,F;if(y.type==="group"){const B={index:u,item:y,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:d,toggleGroup:c,isGroupOpen:g};return t["group-header"]?t["group-header"](B):P(sa,H({key:`group-header_${y.id}`,item:y},Fe(l,":groupHeader",()=>B),h),t)}if(y.type==="group-summary"){const B={index:u,item:y,columns:n.value,toggleGroup:c};return((w=t["group-summary"])==null?void 0:w.call(t,B))??""}const p={index:u,item:y.raw,internalItem:y,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:d},T={...p,props:H({key:`item_${y.key??y.index}`,onClick:r.value?()=>{o(y)}:void 0,index:u,item:y,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,mobile:S.value},Fe(l,":row",()=>p),typeof e.rowProps=="function"?e.rowProps({item:p.item,index:p.index,internalItem:p.internalItem}):e.rowProps)};return x(K,{key:T.props.key},[t.item?t.item(T):P(ia,T.props,t),i(y)&&((F=t["expanded-row"])==null?void 0:F.call(t,p))])})])}),{}}}),ca=V({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function fa(e,a,l,t){const n=e.returnObject?a:le(a,e.itemValue),r=le(a,e.itemSelectable,!0),o=t.reduce((i,s)=>(s.key!=null&&(i[s.key]=le(a,s.value)),i),{});return{type:"item",key:e.returnObject?le(a,e.itemValue):n,index:l,value:n,selectable:r,columns:o,raw:a}}function ga(e,a,l){return a.map((t,n)=>fa(e,t,n,l))}function va(e,a){return{items:D(()=>ga(e,e.items,a.value))}}function ma(e){let{page:a,itemsPerPage:l,sortBy:t,groupBy:n,search:r}=e;const o=_e("VDataTable"),i=()=>({page:a.value,itemsPerPage:l.value,sortBy:t.value,groupBy:n.value,search:r.value});let s=null;me(i,d=>{Ae(s,d)||(s&&s.search!==d.search&&(a.value=1),o.emit("update:options",d),s=d)},{deep:!0,immediate:!0})}const ha=V({...rt(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...ua(),...aa(),...Lt(),...ca(),...Qt(),...Xt(),...Je(),..._t()},"DataTable"),ba=V({...Nt(),...ha(),...At(),...$e()},"VDataTable"),Sa=Q()({name:"VDataTable",props:ba(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,a){let{attrs:l,slots:t}=a;const{groupBy:n}=la(e),{sortBy:r,multiSort:o,mustSort:i}=Yt(e),{page:s,itemsPerPage:d}=Rt(e),{disableSort:c}=Ct(e),{columns:g,headers:m,sortFunctions:S,sortRawFunctions:h,filterFunctions:b}=qt(e,{groupBy:n,showSelect:E(()=>e.showSelect),showExpand:E(()=>e.showExpand)}),{items:f}=va(e,g),y=E(()=>e.search),{filteredItems:u}=Ot(e,f,y,{transform:G=>G.columns,customKeyFilter:b}),{toggleSort:p}=Zt({sortBy:r,multiSort:o,mustSort:i,page:s}),{sortByWithGroups:T,opened:w,extractRows:F,isGroupOpen:B,toggleGroup:R}=na({groupBy:n,sortBy:r,disableSort:c}),{sortedItems:I}=ea(e,u,T,{transform:G=>({...G.raw,...G.columns}),sortFunctions:S,sortRawFunctions:h}),{flatItems:v}=oa(I,n,w,()=>!!t["group-summary"]),k=D(()=>v.value.length),{startIndex:C,stopIndex:$,pageCount:L,setItemsPerPage:M}=$t({page:s,itemsPerPage:d,itemsLength:k}),{paginatedItems:O}=Gt({items:v,startIndex:C,stopIndex:$,itemsPerPage:d}),j=D(()=>F(O.value)),{isSelected:Z,select:de,selectAll:ot,toggleSelect:st,someSelected:ut,allSelected:dt}=Jt(e,{allItems:f,currentPage:j}),{isExpanded:it,toggleExpand:ct}=da(e);ma({page:s,itemsPerPage:d,sortBy:r,groupBy:n,search:y}),Bt({VDataTableRows:{hideNoData:E(()=>e.hideNoData),noDataText:E(()=>e.noDataText),loading:E(()=>e.loading),loadingText:E(()=>e.loadingText)}});const A=D(()=>({page:s.value,itemsPerPage:d.value,sortBy:r.value,pageCount:L.value,toggleSort:p,setItemsPerPage:M,someSelected:ut.value,allSelected:dt.value,isSelected:Z,select:de,selectAll:ot,toggleSelect:st,isExpanded:it,toggleExpand:ct,isGroupOpen:B,toggleGroup:R,items:j.value.map(G=>G.raw),internalItems:j.value,groupedItems:O.value,columns:g.value,headers:m.value}));return Y(()=>{const G=Ce.filterProps(e),ft=Be.filterProps(e),gt=Ee.filterProps(e),vt=Ve.filterProps(e);return P(Ve,H({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},vt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var J;return(J=t.top)==null?void 0:J.call(t,A.value)},default:()=>{var J,pe,Se,Pe,we,ke;return t.default?t.default(A.value):x(K,null,[(J=t.colgroup)==null?void 0:J.call(t,A.value),!e.hideDefaultHeader&&x("thead",{key:"thead"},[P(Be,ft,t)]),(pe=t.thead)==null?void 0:pe.call(t,A.value),!e.hideDefaultBody&&x("tbody",null,[(Se=t["body.prepend"])==null?void 0:Se.call(t,A.value),t.body?t.body(A.value):P(Ee,H(l,gt,{items:O.value}),t),(Pe=t["body.append"])==null?void 0:Pe.call(t,A.value)]),(we=t.tbody)==null?void 0:we.call(t,A.value),(ke=t.tfoot)==null?void 0:ke.call(t,A.value)])},bottom:()=>t.bottom?t.bottom(A.value):!e.hideDefaultFooter&&x(K,null,[P(Et,null,null),P(Ce,G,{prepend:t["footer.prepend"]})])})}),{}}});export{Sa as V,Yt as a,Rt as b,la as c,qt as d,na as e,$t as f,oa as g,Jt as h,da as i,ma as j,Ce as k,Be as l,Ee as m,$e as n,ha as o,Zt as p,Nt as q,va as u};
