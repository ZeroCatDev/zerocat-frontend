import{b as P}from"./Comment-CxSFCET8.js";import{_ as T}from"./proxylicense-qc3LnOXj.js";import{_ as g}from"./ProxyShowProjects-DpuTPDkw.js";import{a as f}from"./projectService-DpWMl4mE.js";import{_ as S,ad as B,U as _,o as j,N as r,h as t,M as i,S as a,av as n,K as l,Z as h,T as s,X as x,au as u,aw as c,Q as p,W as y,q as m,j as N}from"./index-DKqePUrh.js";import{_ as b}from"./43-lazyload-CBkwrR6M.js";import{V as Z,a as v}from"./VRow-MTxZhg05.js";import{V as z}from"./VContainer-BXT9mjmi.js";import"./VForm-BVXfDvnz.js";import"./VInput-yqi59OEB.js";import"./VTextarea-CNLlxTZD.js";/* empty css                   */import"./VDialog-DDRRILQ3.js";/* empty css              */const I={components:{Comment:P,ProxyShowProjects:g},data(){return{project:{id:1,title:"加载中",description:"加载中",instructions:"加载中",visibility:"visible",public:!0,comments_allowed:!0,is_published:!0,author:{id:1,username:"加载中",scratchteam:!1,history:{joined:"2000-01-01T00:00:00.000Z"},profile:{id:null,images:{"90x90":"","60x60":"","55x55":"","50x50":"","32x32":""}}},image:"",images:{"282x218":"","216x163":"","200x200":"","144x108":"","135x102":"","100x80":""},history:{created:"2000-01-01T00:00:00.000Z",modified:"2000-01-01T00:00:00.000Z",shared:"2000-01-01T00:00:00.000Z"},stats:{views:0,loves:0,favorites:0,remixes:0},remix:{parent:null,root:null},project_token:""},parentProject:null,rootProject:null,projectid:this.$route.params.id,embedurl:"",scratch_proxy:"https://scratch.192325.xyz",scratch_proxy_gui:"https://scratch-editor.192325.xyz"}},async created(){await this.fetchProjectData()},methods:{async fetchProjectData(){try{const d=await f(this.$route.params.id);this.project=d.data,this.embedurl=`${this.scratch_proxy_gui}/embed.html#${this.$route.params.id}`,this.project.remix.parent&&(this.parentProject=(await f(this.project.remix.parent)).data),this.project.remix.root&&this.project.remix.root!=this.project.remix.parent&&(this.rootProject=(await f(this.project.remix.root)).data)}catch(d){console.log(d)}}}},D=["src"],U={class:"px-4 d-flex ga-2 mb-2"},q={class:"px-4"};function A(d,o,K,M,e,Q){const V=g,w=B("v-card-list"),k=T,C=P;return j(),_(z,null,{default:r(()=>[t(Z,null,{default:r(()=>[t(v,{cols:"8",md:"8",lg:"8",xl:"8",sm:"8",xs:"8"},{default:r(()=>[t(a,{border:"",hover:"",style:{"aspect-ratio":"4 / 3"}},{default:r(()=>[i("iframe",{src:e.embedurl,scrolling:"no",frameborder:"0",style:{width:"100%",height:"100%"}},null,8,D)]),_:1}),o[2]||(o[2]=i("br",null,null,-1)),o[3]||(o[3]=i("br",null,null,-1)),t(a,{border:"",hover:""},{default:r(()=>[t(n,null,{default:r(()=>o[0]||(o[0]=[l("操作说明 ")])),_:1}),t(h,null,{default:r(()=>[l(s(e.project.instructions),1)]),_:1})]),_:1}),o[4]||(o[4]=i("br",null,null,-1)),t(a,{border:"",hover:""},{default:r(()=>[t(n,null,{default:r(()=>o[1]||(o[1]=[l("备注与鸣谢")])),_:1}),t(h,null,{default:r(()=>[l(s(e.project.description),1)]),_:1})]),_:1}),o[5]||(o[5]=i("br",null,null,-1)),o[6]||(o[6]=i("br",null,null,-1)),t(V,{showUserInfo:!0,title:"forks",subtitle:"对此项目的fork",url:`/projects/${e.project.id}/remixes?`,autoload:"false"},null,8,["url"])]),_:1}),t(v,{cols:"4"},{default:r(()=>[t(a,{border:"",hover:""},{default:r(()=>[t(w,null,{default:r(()=>[t(u,null,{default:r(()=>[t(n,null,{default:r(()=>[l(s(e.project.title),1)]),_:1}),t(c,null,{default:r(()=>[l(s(e.project.id),1)]),_:1})]),_:1}),t(u),t(u,null,{default:r(()=>[t(p,{pill:""},{default:r(()=>[t(y,{start:""},{default:r(()=>[t(m,{src:`${this.scratch_proxy}/avatars/${e.project.author.id}`},null,8,["src"])]),_:1}),l(s(e.project.author.username||"加载中"),1)]),_:1})]),_:1}),t(u,null,{default:r(()=>[t(p,{pill:"","prepend-icon":"mdi-eye"},{default:r(()=>[l(s(e.project.stats.views)+"浏览",1)]),_:1}),t(p,{pill:"","prepend-icon":"mdi-heart"},{default:r(()=>[l(s(e.project.stats.loves)+"赞",1)]),_:1}),t(p,{pill:"","prepend-icon":"mdi-star"},{default:r(()=>[l(s(e.project.stats.favorites)+"star",1)]),_:1}),t(p,{pill:"","prepend-icon":"mdi-source-fork"},{default:r(()=>[l(s(e.project.stats.remixes)+"fork",1)]),_:1}),t(p,{pill:"","prepend-icon":"mdi-clock"},{default:r(()=>[l(s(e.project.history.created)+"创建",1)]),_:1}),t(p,{pill:"","prepend-icon":"mdi-clock"},{default:r(()=>[l(s(e.project.history.modified)+"更新",1)]),_:1}),t(p,{pill:"","prepend-icon":"mdi-clock"},{default:r(()=>[l(s(e.project.history.shared)+"公开",1)]),_:1})]),_:1})]),_:1}),i("div",U,[t(N,{href:e.scratch_proxy_gui+"/editor.html#"+e.project.id,variant:"text",target:"_blank"},{default:r(()=>o[7]||(o[7]=[l("打开创造页")])),_:1},8,["href"])]),i("div",q,[t(a,{hover:"",variant:"tonal",to:"/app/proxy/user/"+e.project.author.username},{default:r(()=>[t(u,null,{prepend:r(()=>[t(y,null,{default:r(()=>[t(m,{src:`${this.scratch_proxy}/avatars/${e.project.author.id}`},null,8,["src"])]),_:1})]),default:r(()=>[t(n,{class:"text-white"},{default:r(()=>[l(s(e.project.author.username),1)]),_:1}),t(c,{class:"text-white"},{default:r(()=>[l(s(e.project.author.id),1)]),_:1})]),_:1})]),_:1},8,["to"])]),o[8]||(o[8]=i("br",null,null,-1))]),_:1}),o[11]||(o[11]=i("br",null,null,-1)),e.parentProject?(j(),_(a,{key:0,border:"",hover:"",to:"/app/proxy/"+e.parentProject.id},{default:r(()=>[t(u,null,{default:r(()=>[t(n,null,{default:r(()=>[l(s(e.parentProject.id==e.project.remix.root?"根项目":"父项目为"),1)]),_:1}),t(c,null,{default:r(()=>[l(s(e.parentProject.id==e.project.remix.root?"最初的项目":"父项目"),1)]),_:1})]),_:1}),t(m,{src:`${e.scratch_proxy}/thumbnails/${e.parentProject.id}`,cover:"","lazy-src":b},null,8,["src"]),t(u,null,{default:r(()=>[t(n,null,{default:r(()=>[l(s(e.parentProject.title),1)]),_:1}),t(c,null,{default:r(()=>[l(s(e.parentProject.description),1)]),_:1})]),_:1})]),_:1},8,["to"])):x("",!0),o[12]||(o[12]=i("br",null,null,-1)),e.rootProject?(j(),_(a,{key:1,border:"",hover:"",to:"/app/proxy/"+e.rootProject.id},{default:r(()=>[t(u,null,{default:r(()=>[t(n,null,{default:r(()=>o[9]||(o[9]=[l("根项目为")])),_:1}),t(c,null,{default:r(()=>o[10]||(o[10]=[l("最初的项目")])),_:1})]),_:1}),t(m,{src:`${e.scratch_proxy}/thumbnails/${e.rootProject.id}`,cover:"","lazy-src":b},null,8,["src"]),t(n,null,{default:r(()=>[l(s(e.rootProject.title),1)]),_:1}),t(c,null,{default:r(()=>[l(s(e.rootProject.description),1)]),_:1})]),_:1},8,["to"])):x("",!0),o[13]||(o[13]=i("br",null,null,-1)),t(k,{url:"https://scratch.mit.edu/projects/"+e.project.id},null,8,["url"])]),_:1})]),_:1}),t(C,{url:"scratchmiteduproject-"+e.project.id,name:"Scratch官网项目"},null,8,["url"])]),_:1})}const et=S(I,[["render",A]]);export{et as default};
