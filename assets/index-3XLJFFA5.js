import{_ as V}from"./Projects-JO3JXOCE.js";import{_ as y,Z as p,o as c,N as l,e as t,R as h,S as s,aF as d,f as u,i,L as n,P as w,Y as f,aT as v,a0 as C,ai as b,aj as k,aG as P,U as S,M as x}from"./index-B1NM26Qy.js";import{V as U}from"./VCombobox-BzV5DQ91.js";import{V as _}from"./VSelect-BVxr1vwd.js";import"./ProjectCard-B_tvgYuR.js";import"https://static.geetest.com/v4/gt4.js";import"./filter-CvOzD6I6.js";import"./VCheckboxBtn-B2mM4JLw.js";import"./VSelectionControl-CQVLelAY.js";const A={components:{Projects:V},setup(){x({title:"项目"})},data(){return{search:{title:"",type:"",description:"",source:"",order:"view_up",authorid:"",state:"public",tag:[],limit:40},showAdvancedSearch:!1,typeitems:[{name:"所有",type:""},{name:"Scratch",type:"scratch"},{name:"Python",type:"python"}],orderitems:[{name:"观看量升序",type:"view_up"},{name:"观看量降序",type:"view_down"},{name:"星标升序",type:"star_up"},{name:"星标降序",type:"star_down"},{name:"时间升序",type:"time_up"},{name:"时间降序",type:"time_down"},{name:"序号升序",type:"id_up"},{name:"序号降序",type:"id_down"}],tags:["动画","故事","音乐","硬核","艺术","水"],url:""}},methods:{toggleAdvancedSearch(){this.showAdvancedSearch=!this.showAdvancedSearch},onPageChange(){const m=new Date().getTime();this.url=`/searchapi?search_userid=${this.search.authorid}&search_type=${this.search.type}&search_title=${this.search.title}&search_source=${this.search.source}&search_description=${this.search.description}&search_orderby=${this.search.order}&search_state=${this.search.state}&search_tag=${this.search.tag}&timestamp=${m}`},resetSearch(){this.search={title:"",type:"scratch",description:"",source:"",order:"view_up",authorid:"",state:"public",tag:[],limit:40},this.onPageChange()},viewLatest(){this.search.order="time_down",this.onPageChange()},viewPopular(){this.search.order="view_down",this.onPageChange()},viewStar(){this.search.order="star_down",this.onPageChange()}},async created(){this.onPageChange()}};function N(m,e,T,j,a,o){const g=V;return c(),p(S,null,{default:l(()=>[t(h,null,{default:l(()=>[t(s,{cols:"12"},{default:l(()=>[t(d,{modelValue:a.search.title,"onUpdate:modelValue":e[0]||(e[0]=r=>a.search.title=r),clearable:"",label:"作品名","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),t(s,{cols:"12"},{default:l(()=>[t(i,{variant:"text",onClick:o.toggleAdvancedSearch},{default:l(()=>[t(w,null,{default:l(()=>[n(f(a.showAdvancedSearch?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1}),e[7]||(e[7]=n(" 高级搜索 ",-1))]),_:1,__:[7]},8,["onClick"]),e[12]||(e[12]=u("br",null,null,-1)),e[13]||(e[13]=u("br",null,null,-1)),t(v,null,{default:l(()=>[a.showAdvancedSearch?(c(),p(h,{key:0},{default:l(()=>[t(s,{cols:"6"},{default:l(()=>[t(d,{modelValue:a.search.description,"onUpdate:modelValue":e[1]||(e[1]=r=>a.search.description=r),clearable:"",label:"作品描述","prepend-inner-icon":"mdi-text"},null,8,["modelValue"])]),_:1}),t(s,{cols:"6"},{default:l(()=>[t(d,{modelValue:a.search.source,"onUpdate:modelValue":e[2]||(e[2]=r=>a.search.source=r),clearable:"",label:"作品内容","prepend-inner-icon":"mdi-file"},null,8,["modelValue"])]),_:1}),t(s,{cols:"6"},{default:l(()=>[t(d,{modelValue:a.search.authorid,"onUpdate:modelValue":e[3]||(e[3]=r=>a.search.authorid=r),clearable:"",label:"用户ID","prepend-inner-icon":"mdi-account"},null,8,["modelValue"])]),_:1}),t(s,{cols:"6"},{default:l(()=>[t(U,{modelValue:a.search.tag,"onUpdate:modelValue":e[4]||(e[4]=r=>a.search.tag=r),"hide-no-data":!1,items:a.tags,label:"标签",chips:"","hide-selected":"",multiple:"","persistent-hint":""},{"no-data":l(()=>[t(b,null,{default:l(()=>[t(k,null,{default:l(()=>[e[8]||(e[8]=n(' No results matching "',-1)),u("strong",null,f(a.search.tag),1),e[9]||(e[9]=n('". Press ',-1)),e[10]||(e[10]=u("kbd",null,"enter",-1)),e[11]||(e[11]=n(" to create a new one ",-1))]),_:1,__:[8,9,10,11]})]),_:1})]),_:1},8,["modelValue","items"])]),_:1}),t(s,{cols:"4"},{default:l(()=>[t(_,{modelValue:a.search.order,"onUpdate:modelValue":e[5]||(e[5]=r=>a.search.order=r),items:a.orderitems,clearable:"","item-title":"name","item-value":"type",label:"排序","prepend-inner-icon":"mdi-sort"},null,8,["modelValue","items"])]),_:1}),t(s,{cols:"4"},{default:l(()=>[t(_,{modelValue:a.search.type,"onUpdate:modelValue":e[6]||(e[6]=r=>a.search.type=r),items:a.typeitems,clearable:"","item-title":"name","item-value":"type",label:"项目类型","prepend-inner-icon":"mdi-format-list-bulleted"},null,8,["modelValue","items"])]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1,__:[12,13]}),t(s,{class:"d-flex justify-end",cols:"12"},{default:l(()=>[t(i,{"append-icon":"mdi-magnify",class:"mr-2",color:"primary",onClick:o.onPageChange,onKeydown:P(o.onPageChange,["enter"])},{default:l(()=>e[14]||(e[14]=[n(" 搜索 ",-1)])),_:1,__:[14]},8,["onClick","onKeydown"]),t(i,{"append-icon":"mdi-refresh",onClick:o.resetSearch},{default:l(()=>e[15]||(e[15]=[n(" 重置 ",-1)])),_:1,__:[15]},8,["onClick"])]),_:1}),t(s,{class:"d-flex justify-end mt-4",cols:"12"},{default:l(()=>[t(i,{"append-icon":"mdi-new-box",class:"mr-2",variant:"tonal",onClick:o.viewLatest},{default:l(()=>e[16]||(e[16]=[n(" 最新作品 ",-1)])),_:1,__:[16]},8,["onClick"]),t(i,{"append-icon":"mdi-fire",class:"mr-2",variant:"tonal",onClick:o.viewPopular},{default:l(()=>e[17]||(e[17]=[n(" 最热门作品 ",-1)])),_:1,__:[17]},8,["onClick"]),t(i,{"append-icon":"mdi-star",variant:"tonal",onClick:o.viewStar},{default:l(()=>e[18]||(e[18]=[n(" 最多收藏 ",-1)])),_:1,__:[18]},8,["onClick"])]),_:1})]),_:1}),t(g,{url:a.url},null,8,["url"])]),_:1})}const H=y(A,[["render",N]]);export{H as default};
