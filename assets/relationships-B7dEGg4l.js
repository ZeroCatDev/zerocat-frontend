import{_ as c}from"./UserBlocked-D1I24X1w.js";import{a as g,_ as w}from"./UserFollowers-DY291wjo.js";import{_ as h,Y as r,o as a,N as o,e as s,W as b,ah as x,ai as n,L as d,a3 as I,V as v,q as p,f as u,T,ab as f,M as U}from"./index-CqDYMkg5.js";import{g as B}from"./accountService-DdptR6Lz.js";import{V as m}from"./VSkeletonLoader-LVRm47j6.js";const q={components:{UserFollowing:w,UserFollowers:g,UserBlocked:c},data(){return{tab:"following",localuser:f,userInfo:{},loading:!1}},setup(){U({title:"用户关系"})},watch:{"$route.query.tab":{immediate:!0,handler(t){t&&["following","followers","blocked"].includes(t)&&(this.tab=t)}},tab(t){this.$route.query.tab!==t&&this.$router.replace({query:{...this.$route.query,tab:t}})}},async created(){f.isLogin.value?await this.getUserById():this.$router.push("/app/account/login")},methods:{async getUserById(){this.loading=!0;try{const t=await B(f.user.value.id);this.userInfo=t.data.data}catch(t){this.showToast("error","获取用户信息失败",t.message)}finally{this.loading=!1}},showToast(t,e,_){this.$toast.add({severity:t,summary:e,detail:_,life:3e3})}}};function C(t,e,_,N,l,L){const y=w,V=g,k=c;return a(),r(T,{fluid:"",class:"pa-4"},{default:o(()=>[s(b,{class:"mb-4",border:"",title:"用户关系",subtitle:"管理您的关注、粉丝和拉黑用户列表","prepend-icon":"mdi-account-group"}),s(b,{hover:"",border:""},{default:o(()=>[s(x,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=i=>l.tab=i),"bg-color":"primary"},{default:o(()=>[s(n,{value:"following","prepend-icon":"mdi-account-multiple"},{default:o(()=>e[2]||(e[2]=[d("我的关注")])),_:1,__:[2]}),s(n,{value:"followers","prepend-icon":"mdi-account-group"},{default:o(()=>e[3]||(e[3]=[d("我的粉丝")])),_:1,__:[3]}),s(n,{value:"blocked","prepend-icon":"mdi-account-cancel"},{default:o(()=>e[4]||(e[4]=[d("拉黑用户")])),_:1,__:[4]})]),_:1},8,["modelValue"]),s(I,{class:"pa-4"},{default:o(()=>[s(v,{modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=i=>l.tab=i)},{default:o(()=>[s(p,{value:"following"},{default:o(()=>[e[5]||(e[5]=u("h3",{class:"text-h5 mb-4"},"我的关注",-1)),e[6]||(e[6]=u("p",{class:"text-subtitle-1 mb-4"},"您正在关注的用户列表，可以随时取消关注",-1)),l.userInfo.id?(a(),r(y,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(a(),r(m,{key:1,type:"list-item-three-line",loading:!0}))]),_:1,__:[5,6]}),s(p,{value:"followers"},{default:o(()=>[e[7]||(e[7]=u("h3",{class:"text-h5 mb-4"},"我的粉丝",-1)),e[8]||(e[8]=u("p",{class:"text-subtitle-1 mb-4"},"关注您的用户列表，您可以选择关注回去",-1)),l.userInfo.id?(a(),r(V,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(a(),r(m,{key:1,type:"list-item-three-line",loading:!0}))]),_:1,__:[7,8]}),s(p,{value:"blocked"},{default:o(()=>[e[9]||(e[9]=u("h3",{class:"text-h5 mb-4"},"拉黑用户",-1)),e[10]||(e[10]=u("p",{class:"text-subtitle-1 mb-4"},"您拉黑的用户列表，这些用户无法关注您或与您互动",-1)),l.userInfo.id?(a(),r(k,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(a(),r(m,{key:1,type:"list-item-three-line",loading:!0}))]),_:1,__:[9,10]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const S=h(q,[["render",C],["__scopeId","data-v-316c4dce"]]);export{S as default};
