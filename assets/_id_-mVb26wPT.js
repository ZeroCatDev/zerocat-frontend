import{_ as x}from"./Comment-D42eXOP0.js";import{_ as w}from"./43-lazyload-CBkwrR6M.js";import{_ as j,o as r,c as d,w as t,a as e,Q as B,O as c,U as i,e as g,S as k,T as L,N as I,$ as N,H as C,G as y,J as P,L as p,X as O,Y as _}from"./index-BdsR-OvF.js";import{V as h,e as $,c as A,d as S,b as q,a as D}from"./VCard-hQXYYU3_.js";import{a as F,V as H}from"./VRow-CZVqkHgj.js";import{V as f}from"./VChip-DMqE3PVx.js";import{V as Z}from"./VContainer-C0-xK4_S.js";import"./VForm-JgxC_AJL.js";import"./VTextarea-qNLY4qAG.js";import"./VDialog-RM23oh7H.js";/* empty css              */const z={data(){return{tags:[]}},props:{info:{type:Object,default:""},user:{type:Object,default:'{ "id": 1, "username": "yxhyh", "display_name": "已销号用户", "motto": "已销号用户", "images": "0ec4beb623e3bcdbe0f207c9804f0bc2" }'},actions:{type:Array,required:!1}},watch:{info:{immediate:!0,handler(n){n.tags?this.tags=n.tags.map(a=>a.name):this.tags=[]}}},methods:{callFunction(n){n(this.info.id,this.info)}}};function E(n,a,s,b,o,V){return r(),d(h,{rounded:"lg",border:""},{default:t(()=>[e(h,{to:"/projects/"+s.info.id,style:{"aspect-ratio":"4/3"},rounded:"lg"},{default:t(()=>[e(B,{src:"https://s4-1.wuyuan.1r.ink/scratch_slt/"+s.info.id,class:"align-end","lazy-src":w,height:"100%",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",cover:""},{default:t(()=>[e($,null,{default:t(()=>[e(A,null,{default:t(()=>[c(i(s.info.title),1)]),_:1}),e(S,null,{default:t(()=>[c(i(s.info.description),1)]),_:1})]),_:1})]),_:1},8,["src"])]),_:1},8,["to"]),s.actions?(r(),d(q,{key:0},{default:t(()=>[(r(!0),g(k,null,L(s.actions,l=>(r(),g("div",{key:l.name},[e(I,{onClick:u=>l.function(s.info.id,s.info)},{default:t(()=>[c(i(l.name),1)]),_:2},1032,["onClick"])]))),128))]),_:1})):N("",!0)]),_:1})}const T=j(z,[["render",E]]),G={components:{ProjectCard:T},props:{projects:{type:Object,default:"text"},actions:{type:Array,required:!1}}};function J(n,a,s,b,o,V){const l=T;return r(),d(H,null,{default:t(()=>[(r(!0),g(k,null,L(s.projects.projects,u=>(r(),d(F,{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2",xxl:"2",key:u},{default:t(()=>[e(l,{info:u,user:s.projects.users.find(m=>m.id===u.authorid),actions:s.actions},null,8,["info","user","actions"])]),_:2},1024))),128))]),_:1})}const v=j(G,[["render",J]]),Q={components:{ProjectsCards:v,Comment:x},data(){return{localuser:C,projectlist:{status:"1",message:"加载中",data:{id:7,authorid:1,title:"加载中",description:"加载中",state:"private",list:"",updateTime:null,createTime:"2000-00-01T00:00:00.000Z",data:{projects:[],users:[]}}},localuser:C,Loading:!0}},setup(){y({title:"ZeroCat - 列表"})},async created(){this.localuser.islogin==!1&&this.$router.push("/account/login")},methods:{async getprojectlist(){this.projectlist=await P({url:"/projectlist/listid/"+this.$route.params.id,method:"get"}),this.projectlist.status=="1"?this.projectlist=this.projectlist.data:this.$router.push("/404"),y({title:""+this.projectlist.title}),console.log(this.projectlist)}},mounted(){this.Loading=!0,this.getprojectlist(),this.Loading=!1}},R={class:"font-weight-black"};function U(n,a,s,b,o,V){const l=v,u=x;return r(),d(Z,null,{default:t(()=>[e(h,{class:"mx-auto",disabled:o.Loading,loading:o.Loading,border:""},{title:t(()=>[p("span",R,i(o.projectlist.title),1)]),loader:t(({isActive:m})=>[e(O,{active:m,height:"4",indeterminate:""},null,8,["active"])]),subtitle:t(()=>[e(f,null,{default:t(()=>[e(_,{icon:"mdi-account-circle",start:""}),c(" ID:"+i(o.projectlist.id),1)]),_:1}),e(f,null,{default:t(()=>[e(_,{icon:"mdi-account-circle",start:""}),c(" "+i(o.projectlist.state),1)]),_:1}),e(f,null,{default:t(()=>[e(_,{icon:"mdi-clock",start:""}),c(" "+i(o.projectlist.createTime)+"创建 ",1)]),_:1})]),default:t(()=>[e(D,{class:"bg-surface-light pt-4"},{default:t(()=>[c(i(o.projectlist.description),1)]),_:1})]),_:1},8,["disabled","loading"]),a[0]||(a[0]=p("br",null,null,-1)),e(l,{projects:o.projectlist.projects},null,8,["projects"]),a[1]||(a[1]=p("br",null,null,-1)),e(u,{url:"projectlist-"+this.$route.params.id,name:"列表"},null,8,["url"])]),_:1})}const rt=j(Q,[["render",U]]);export{rt as default};
