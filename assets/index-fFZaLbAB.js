import{_}from"./Projects-B8PSkFKS.js";import{_ as y,Y as m,o as c,N as r,e as t,Q as p,R as o,aB as d,f as h,i,L as s,O as g,X as w,aM as b,$ as v,T as C,M as k}from"./index-Dz-hN2N-.js";import{V as x}from"./VAutocomplete-bqnrjPrg.js";import{V as f}from"./VSelect-0_P7mExN.js";import"./ProjectCard-f5jzzeUY.js";import"https://static.geetest.com/v4/gt4.js";import"./filter-D9jBFKMx.js";import"./VCheckboxBtn-BYIbfSha.js";import"./VSelectionControl-D2CrIs_u.js";const S={components:{Projects:_},setup(){k({title:"项目"})},data(){return{search:{title:"",type:"scratch",description:"",source:"",order:"view_up",authorid:"",state:"public",tag:"",limit:40},showAdvancedSearch:!1,typeitems:[{name:"所有",type:""},{name:"Scratch",type:"scratch"},{name:"Python",type:"python"}],orderitems:[{name:"观看量升序",type:"view_up"},{name:"观看量降序",type:"view_down"},{name:"星标升序",type:"star_up"},{name:"星标降序",type:"star_down"},{name:"时间升序",type:"time_up"},{name:"时间降序",type:"time_down"},{name:"序号升序",type:"id_up"},{name:"序号降序",type:"id_down"}],tags:["","动画","故事","音乐","硬核","艺术","水"],url:""}},methods:{toggleAdvancedSearch(){this.showAdvancedSearch=!this.showAdvancedSearch},onPageChange(){const u=new Date().getTime();this.url=`/searchapi?search_userid=${this.search.authorid}&search_type=${this.search.type}&search_title=${this.search.title}&search_source=${this.search.source}&search_description=${this.search.description}&search_orderby=${this.search.order}&search_state=${this.search.state}&search_tag=${this.search.tag}&timestamp=${u}`},resetSearch(){this.search={title:"",type:"scratch",description:"",source:"",order:"view_up",authorid:"",state:"public",tag:"",limit:40},this.onPageChange()},viewLatest(){this.search.order="time_down",this.onPageChange()},viewPopular(){this.search.order="view_down",this.onPageChange()}},async created(){this.onPageChange()}};function P(u,e,A,U,l,n){const V=_;return c(),m(C,null,{default:r(()=>[t(p,null,{default:r(()=>[t(o,{cols:"12"},{default:r(()=>[t(d,{modelValue:l.search.title,"onUpdate:modelValue":e[0]||(e[0]=a=>l.search.title=a),clearable:"",label:"作品名","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),t(o,{cols:"12"},{default:r(()=>[t(i,{variant:"text",onClick:n.toggleAdvancedSearch},{default:r(()=>[t(g,null,{default:r(()=>[s(w(l.showAdvancedSearch?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1}),e[7]||(e[7]=s(" 高级搜索 ",-1))]),_:1,__:[7]},8,["onClick"]),e[8]||(e[8]=h("br",null,null,-1)),e[9]||(e[9]=h("br",null,null,-1)),t(b,null,{default:r(()=>[l.showAdvancedSearch?(c(),m(p,{key:0},{default:r(()=>[t(o,{cols:"6"},{default:r(()=>[t(d,{modelValue:l.search.description,"onUpdate:modelValue":e[1]||(e[1]=a=>l.search.description=a),clearable:"",label:"作品描述","prepend-inner-icon":"mdi-text"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6"},{default:r(()=>[t(d,{modelValue:l.search.source,"onUpdate:modelValue":e[2]||(e[2]=a=>l.search.source=a),clearable:"",label:"作品内容","prepend-inner-icon":"mdi-file"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6"},{default:r(()=>[t(d,{modelValue:l.search.authorid,"onUpdate:modelValue":e[3]||(e[3]=a=>l.search.authorid=a),clearable:"",label:"用户ID","prepend-inner-icon":"mdi-account"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6"},{default:r(()=>[t(x,{modelValue:l.search.tag,"onUpdate:modelValue":e[4]||(e[4]=a=>l.search.tag=a),items:l.tags,clearable:"",label:"标签","prepend-inner-icon":"mdi-tag"},null,8,["modelValue","items"])]),_:1}),t(o,{cols:"4"},{default:r(()=>[t(f,{modelValue:l.search.order,"onUpdate:modelValue":e[5]||(e[5]=a=>l.search.order=a),items:l.orderitems,clearable:"","item-title":"name","item-value":"type",label:"排序","prepend-inner-icon":"mdi-sort"},null,8,["modelValue","items"])]),_:1}),t(o,{cols:"4"},{default:r(()=>[t(f,{modelValue:l.search.type,"onUpdate:modelValue":e[6]||(e[6]=a=>l.search.type=a),items:l.typeitems,clearable:"","item-title":"name","item-value":"type",label:"项目类型","prepend-inner-icon":"mdi-format-list-bulleted"},null,8,["modelValue","items"])]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1,__:[8,9]}),t(o,{class:"d-flex justify-end",cols:"12"},{default:r(()=>[t(i,{"append-icon":"mdi-magnify",class:"mr-2",color:"primary",onClick:n.onPageChange},{default:r(()=>e[10]||(e[10]=[s(" 搜索 ",-1)])),_:1,__:[10]},8,["onClick"]),t(i,{"append-icon":"mdi-refresh",onClick:n.resetSearch},{default:r(()=>e[11]||(e[11]=[s(" 重置 ",-1)])),_:1,__:[11]},8,["onClick"])]),_:1}),t(o,{class:"d-flex justify-end mt-4",cols:"12"},{default:r(()=>[t(i,{"append-icon":"mdi-new-box",class:"mr-2",color:"secondary",onClick:n.viewLatest},{default:r(()=>e[12]||(e[12]=[s(" 最新作品 ",-1)])),_:1,__:[12]},8,["onClick"]),t(i,{"append-icon":"mdi-fire",color:"secondary",onClick:n.viewPopular},{default:r(()=>e[13]||(e[13]=[s(" 最热门作品 ",-1)])),_:1,__:[13]},8,["onClick"])]),_:1})]),_:1}),t(V,{url:l.url},null,8,["url"])]),_:1})}const E=y(S,[["render",P]]);export{E as default};
