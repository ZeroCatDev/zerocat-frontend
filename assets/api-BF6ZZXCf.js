import{_ as B,ag as b,c as d,o as i,e as t,N as l,ae as c,L as n,aJ as w,aH as x,R as S,S as h,aF as v,i as y,al as N,am as k,X as V,a8 as T,F as D,W as C,P as E,f as r,T as M,Y as p,a5 as A,aa as H,a6 as O}from"./index-B1NM26Qy.js";import{V as F}from"./VSelect-BVxr1vwd.js";import{V as P}from"./VTextarea-QXKFkFpI.js";import"https://static.geetest.com/v4/gt4.js";import"./VCheckboxBtn-B2mM4JLw.js";import"./VSelectionControl-CQVLelAY.js";const G={name:"ApiDebugPage",data(){return{requestUrl:"http://localhost:3000",requestMethod:"GET",headers:[{key:"Content-Type",value:"application/json"}],requestBody:"",activeTab:0,loading:!1,responseData:null,responseStatus:null,responseTime:null,responseHeaders:{},error:null}},computed:{formattedResponse(){if(!this.responseData)return"";try{return JSON.stringify(this.responseData,null,2)}catch{return this.responseData}}},methods:{async sendRequest(){this.loading=!0,this.error=null,this.responseData=null;const u={};this.headers.forEach(a=>{a.key&&a.value&&(u[a.key]=a.value)});const e={url:this.requestUrl,method:this.requestMethod,headers:u,validateStatus:()=>!0};if(!["GET","HEAD"].includes(this.requestMethod)&&this.requestBody)try{e.data=JSON.parse(this.requestBody)}catch{e.data=this.requestBody}const q=Date.now();try{const a=await O(e);this.responseTime=Date.now()-q,this.responseStatus=a.status,this.responseHeaders=a.headers,this.responseData=a.data}catch(a){this.error=`Request Error: ${a.message}`}finally{this.loading=!1}},resetForm(){this.requestUrl="http://localhost:3000",this.requestMethod="GET",this.headers=[{key:"Content-Type",value:"application/json"}],this.requestBody="",this.responseData=null,this.error=null},addHeader(){this.headers.push({key:"",value:""})},removeHeader(u){this.headers.splice(u,1)},getStatusColor(u){return u?u<300?"success":u<400?"info":u<500?"warning":"error":"grey"}}},J={class:"api-debug-container"},L={key:0},I={class:"d-flex align-center mb-2"},j={key:1},W={key:2};function X(u,e,q,a,s,m){const g=b("v-tab-item"),U=b("v-tabs-items"),R=b("v-simple-table");return i(),d("div",J,[t(V,{class:"pa-4"},{default:l(()=>[t(c,null,{default:l(()=>e[5]||(e[5]=[n("API Debug Tool",-1)])),_:1,__:[5]}),t(w,{onSubmit:x(m.sendRequest,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{cols:"12"},{default:l(()=>[t(v,{modelValue:s.requestUrl,"onUpdate:modelValue":e[0]||(e[0]=o=>s.requestUrl=o),hint:"Enter the full URL including protocol",label:"Request URL",outlined:"","persistent-hint":"",placeholder:"http://localhost:3000",required:""},null,8,["modelValue"])]),_:1})]),_:1}),t(S,null,{default:l(()=>[t(h,{cols:"12",md:"4"},{default:l(()=>[t(F,{modelValue:s.requestMethod,"onUpdate:modelValue":e[1]||(e[1]=o=>s.requestMethod=o),items:["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"],label:"Method",outlined:"",required:""},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",md:"8"},{default:l(()=>[t(y,{loading:s.loading,class:"mr-4",color:"primary",type:"submit"},{default:l(()=>e[6]||(e[6]=[n(" Send Request ",-1)])),_:1,__:[6]},8,["loading"]),t(y,{color:"secondary",onClick:m.resetForm},{default:l(()=>e[7]||(e[7]=[n(" Reset ",-1)])),_:1,__:[7]},8,["onClick"])]),_:1})]),_:1}),t(N,{modelValue:s.activeTab,"onUpdate:modelValue":e[2]||(e[2]=o=>s.activeTab=o)},{default:l(()=>[t(k,null,{default:l(()=>e[8]||(e[8]=[n("Headers",-1)])),_:1,__:[8]}),t(k,null,{default:l(()=>e[9]||(e[9]=[n("Body",-1)])),_:1,__:[9]})]),_:1},8,["modelValue"]),t(U,{modelValue:s.activeTab,"onUpdate:modelValue":e[4]||(e[4]=o=>s.activeTab=o)},{default:l(()=>[t(g,null,{default:l(()=>[t(V,{flat:""},{default:l(()=>[t(T,null,{default:l(()=>[(i(!0),d(D,null,C(s.headers,(o,f)=>(i(),d("div",{key:f,class:"d-flex mb-3"},[t(v,{modelValue:o.key,"onUpdate:modelValue":_=>o.key=_,class:"mr-2",dense:"",label:"Header Name",outlined:""},null,8,["modelValue","onUpdate:modelValue"]),t(v,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,class:"mr-2",dense:"",label:"Value",outlined:""},null,8,["modelValue","onUpdate:modelValue"]),t(y,{color:"red",icon:"",onClick:_=>m.removeHeader(f)},{default:l(()=>[t(E,null,{default:l(()=>e[10]||(e[10]=[n("mdi-delete",-1)])),_:1,__:[10]})]),_:2},1032,["onClick"])]))),128)),t(y,{color:"success",text:"",onClick:m.addHeader},{default:l(()=>[t(E,{left:""},{default:l(()=>e[11]||(e[11]=[n("mdi-plus",-1)])),_:1,__:[11]}),e[12]||(e[12]=n(" Add Header ",-1))]),_:1,__:[12]},8,["onClick"])]),_:1})]),_:1})]),_:1}),t(g,null,{default:l(()=>[t(V,{flat:""},{default:l(()=>[t(T,null,{default:l(()=>[t(P,{modelValue:s.requestBody,"onUpdate:modelValue":e[3]||(e[3]=o=>s.requestBody=o),disabled:["GET","HEAD"].includes(s.requestMethod),hint:["GET","HEAD"].includes(s.requestMethod)?"Body not applicable for this method":"Enter JSON format data",label:"Request Body (JSON)",outlined:"","persistent-hint":"",rows:"8"},null,8,["modelValue","disabled","hint"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["onSubmit"]),t(c,{class:"mt-4"},{default:l(()=>e[13]||(e[13]=[n("Response",-1)])),_:1,__:[13]}),t(V,{class:"mt-2",outlined:""},{default:l(()=>[t(T,null,{default:l(()=>[s.responseData?(i(),d("div",L,[r("div",I,[e[14]||(e[14]=r("div",{class:"font-weight-bold mr-2"},"Status:",-1)),t(M,{color:m.getStatusColor(s.responseStatus),small:"","text-color":"white"},{default:l(()=>[n(p(s.responseStatus),1)]),_:1},8,["color"]),e[15]||(e[15]=r("div",{class:"ml-4 font-weight-bold mr-2"},"Time:",-1)),r("span",null,p(s.responseTime)+"ms",1)]),t(A,{class:"my-3"}),e[17]||(e[17]=r("div",{class:"font-weight-bold mb-2"},"Response Headers:",-1)),t(R,{class:"mb-4",dense:""},{default:l(()=>[e[16]||(e[16]=r("thead",null,[r("tr",null,[r("th",null,"Name"),r("th",null,"Value")])],-1)),r("tbody",null,[(i(!0),d(D,null,C(s.responseHeaders,(o,f)=>(i(),d("tr",{key:f},[r("td",null,p(f),1),r("td",null,p(o),1)]))),128))])]),_:1}),e[18]||(e[18]=r("div",{class:"font-weight-bold mb-2"},"Response Body:",-1)),t(V,{class:"response-body pa-3",outlined:""},{default:l(()=>[r("pre",null,p(m.formattedResponse),1)]),_:1})])):s.error?(i(),d("div",j,[t(H,{outlined:"",type:"error"},{default:l(()=>[n(p(s.error),1)]),_:1})])):(i(),d("div",W,[t(H,{outlined:"",type:"info"},{default:l(()=>e[19]||(e[19]=[n(" Send a request to see the response ",-1)])),_:1,__:[19]})]))]),_:1})]),_:1})]),_:1})])}const ee=B(G,[["render",X]]);export{ee as default};
