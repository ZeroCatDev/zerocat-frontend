import{_ as T}from"./UserBlocked-29q445LI.js";import{a as B,_ as S}from"./UserFollowers-CQ48RLPu.js";import{b as U,p as P,a0 as q,a1 as A,a6 as N,a3 as D,x as F,d as R,y as E,aK as K,f as W,h as o,m as $,D as j,a4 as H,a7 as M,_ as O,T as r,o as i,N as s,R as _,at as Y,K as d,O as z,au as G,Y as V,aq as J,ar as b,V as Q,s as v,M as n,ag as h,L as X}from"./index-BxEavA_P.js";import{g as Z}from"./accountService-BCwjekun.js";import{V as ee}from"./VContainer-DTlUtd82.js";import"./VRow-Cn2wrwA_.js";/* empty css              */import"./VSnackbar-BFgf620T.js";import"./VChip-D-oyIJaW.js";const te={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function ae(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return o("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function I(t){const[e,a]=t.split("@");return Array.from({length:a}).map(()=>m(e))}function m(t){let e=[];if(!t)return e;const a=te[t];if(t!==a){if(t.includes(","))return C(t);if(t.includes("@"))return I(t);a.includes(",")?e=C(a):a.includes("@")?e=I(a):a&&e.push(m(a))}return[ae(t,e)]}function C(t){return t.replace(/\s/g,"").split(",").map(m)}const oe=P({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...M(),...H(),...j()},"VSkeletonLoader"),k=U()({name:"VSkeletonLoader",props:oe(),setup(t,e){let{slots:a}=e;const{backgroundColorClasses:y,backgroundColorStyles:l}=q(A(t,"color")),{dimensionStyles:w}=N(t),{elevationClasses:p}=D(t),{themeClasses:c}=F(t),{t:f}=R(),u=E(()=>m(K(t.type).join(",")));return W(()=>{var x;const g=!a.default||t.loading,L=t.boilerplate||!g?{}:{ariaLive:"polite",ariaLabel:f(t.loadingText),role:"alert"};return o("div",$({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},c.value,y.value,p.value],style:[l.value,g?w.value:{}]},L),[g?u.value:(x=a.default)==null?void 0:x.call(a)])}),{}}}),se={components:{UserFollowing:S,UserFollowers:B,UserBlocked:T},data(){return{tab:"following",localuser:h,userInfo:{},loading:!1}},setup(){X({title:"用户关系"})},watch:{"$route.query.tab":{immediate:!0,handler(t){t&&["following","followers","blocked"].includes(t)&&(this.tab=t)}},tab(t){this.$route.query.tab!==t&&this.$router.replace({query:{...this.$route.query,tab:t}})}},async created(){h.isLogin.value?await this.getUserById():this.$router.push("/app/account/login")},methods:{async getUserById(){this.loading=!0;try{const t=await Z(h.user.value.id);this.userInfo=t.data.info}catch(t){this.showToast("error","获取用户信息失败",t.message)}finally{this.loading=!1}},showToast(t,e,a){this.$toast.add({severity:t,summary:e,detail:a,life:3e3})}}};function le(t,e,a,y,l,w){const p=S,c=B,f=T;return i(),r(ee,{fluid:"",class:"pa-4"},{default:s(()=>[o(_,{class:"mb-4",border:""},{default:s(()=>[o(Y,{class:"d-flex align-center"},{default:s(()=>[o(z,{icon:"mdi-account-group",class:"mr-2"}),e[2]||(e[2]=d(" 用户关系 "))]),_:1}),o(G,null,{default:s(()=>e[3]||(e[3]=[d(" 管理您的关注、粉丝和拉黑用户列表 ")])),_:1}),o(V)]),_:1}),o(_,{hover:"",border:""},{default:s(()=>[o(J,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=u=>l.tab=u),"bg-color":"primary"},{default:s(()=>[o(b,{value:"following","prepend-icon":"mdi-account-multiple"},{default:s(()=>e[4]||(e[4]=[d("我的关注")])),_:1}),o(b,{value:"followers","prepend-icon":"mdi-account-group"},{default:s(()=>e[5]||(e[5]=[d("我的粉丝")])),_:1}),o(b,{value:"blocked","prepend-icon":"mdi-account-cancel"},{default:s(()=>e[6]||(e[6]=[d("拉黑用户")])),_:1})]),_:1},8,["modelValue"]),o(V,{class:"pa-4"},{default:s(()=>[o(Q,{modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=u=>l.tab=u)},{default:s(()=>[o(v,{value:"following"},{default:s(()=>[e[7]||(e[7]=n("h3",{class:"text-h5 mb-4"},"我的关注",-1)),e[8]||(e[8]=n("p",{class:"text-subtitle-1 mb-4"},"您正在关注的用户列表，可以随时取消关注",-1)),l.userInfo.id?(i(),r(p,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(i(),r(k,{key:1,type:"list-item-three-line",loading:!0}))]),_:1}),o(v,{value:"followers"},{default:s(()=>[e[9]||(e[9]=n("h3",{class:"text-h5 mb-4"},"我的粉丝",-1)),e[10]||(e[10]=n("p",{class:"text-subtitle-1 mb-4"},"关注您的用户列表，您可以选择关注回去",-1)),l.userInfo.id?(i(),r(c,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(i(),r(k,{key:1,type:"list-item-three-line",loading:!0}))]),_:1}),o(v,{value:"blocked"},{default:s(()=>[e[11]||(e[11]=n("h3",{class:"text-h5 mb-4"},"拉黑用户",-1)),e[12]||(e[12]=n("p",{class:"text-subtitle-1 mb-4"},"您拉黑的用户列表，这些用户无法关注您或与您互动",-1)),l.userInfo.id?(i(),r(f,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(i(),r(k,{key:1,type:"list-item-three-line",loading:!0}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const ge=O(se,[["render",le],["__scopeId","data-v-6b7d5344"]]);export{ge as default};
