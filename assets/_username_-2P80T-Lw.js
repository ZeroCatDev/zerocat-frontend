import{_ as b}from"./Comment-fWetEztM.js";import{J as C,_ as P,o as d,c as g,w as e,K as l,a as t,U as _,O as x,T as n,ah as y,Y as u,L as a,a6 as h,P as p,e as j,S as L,R as k,M as f,ab as w,ac as S,ad as U}from"./index-D99aAHt4.js";import{_ as B}from"./43-lazyload-CBkwrR6M.js";import{V as m}from"./VChip-6XcPLImw.js";import{V as D,a as I}from"./VRow-CcowkCXt.js";import{V as T}from"./VContainer-BMeWRf_n.js";import"./VForm-Bj-7Ziom.js";import"./VTextarea-CHhCr_US.js";import"./VDialog-DmMVQ0YZ.js";/* empty css              */function z(i){return C.get(`https://scratch.192325.xyz/users/${i}`)}function M(i,s,c){return C.get(`https://scratch.192325.xyz/users/${i}/projects?&offset=${s*16-16}&limit=${c}`)}const N={components:{Comment:b},data(){return{UserCardLoading:!0,ProjectsLoading:!0,userid:this.$route.params.id,userinfo:{id:1,username:"加载中",scratchteam:!1,history:{joined:"2021-06-20T01:01:52.000Z"},profile:{id:1,images:{"90x90":"https://cdn2.scratch.mit.edu/get_image/user/78738602_90x90.png?v=","60x60":"https://cdn2.scratch.mit.edu/get_image/user/78738602_60x60.png?v=","55x55":"https://cdn2.scratch.mit.edu/get_image/user/78738602_55x55.png?v=","50x50":"https://cdn2.scratch.mit.edu/get_image/user/78738602_50x50.png?v=","32x32":"https://cdn2.scratch.mit.edu/get_image/user/78738602_32x32.png?v="},status:"加载中",bio:"加载中",country:"加载中"}},projects:[],scratchcount:0,usetime:0,curPage:1,totalPage:1,limit:40,scratch_proxy:"https://scratch.192325.xyz"}},async created(){await this.fetchUserData(),await this.onPageChange(1,!1)},methods:{async fetchUserData(){try{const i=await z(this.$route.params.username);this.userinfo=i.data}catch(i){console.log(i)}finally{this.UserCardLoading=!1}},async onPageChange(i,s){s&&(this.projects=[]),this.usetime=Date.now(),this.ProjectsLoading=!0;try{const c=await M(this.$route.params.username,i,this.limit);this.projects=this.projects.concat(c.data)}catch(c){console.log(c)}finally{this.ProjectsLoading=!1,this.usetime=Date.now()-this.usetime}this.curPage=i}}},R={class:"mb-2"},Z={class:"font-weight-black"},A={class:"mb-2"};function E(i,s,c,F,r,V){const v=b;return d(),g(T,null,{default:e(()=>[l("div",R,[t(p,{class:"mx-auto mb-4",disabled:r.UserCardLoading,loading:r.UserCardLoading},{prepend:e(()=>[t(_,{class:"mb-2"},{default:e(()=>[t(x,{alt:r.userinfo.username,src:this.scratch_proxy+"/avatars/"+r.userinfo.id},null,8,["alt","src"])]),_:1})]),title:e(()=>[l("span",Z,n(r.userinfo.username),1)]),loader:e(({isActive:o})=>[t(y,{active:o,height:"4",indeterminate:""},null,8,["active"])]),subtitle:e(()=>[t(m,null,{default:e(()=>[t(u,{icon:"mdi-account-circle",start:""}),a(" ID:"+n(r.userinfo.id),1)]),_:1}),t(m,null,{default:e(()=>[t(u,{icon:"mdi-clock",start:""}),a(" "+n(r.userinfo.history.joined)+"注册 ",1)]),_:1}),t(m,null,{default:e(()=>[t(u,{icon:"mdi-tag",start:""}),a(" "+n(i.scratchteam?"Scratch Team":"普通用户"),1)]),_:1}),t(m,null,{default:e(()=>[t(u,{icon:"mdi-earth",start:""}),a(" "+n(r.userinfo.profile.country),1)]),_:1}),s[1]||(s[1]=l("span",{class:""},null,-1))]),default:e(()=>[t(h,{class:"bg-surface-light pt-4"},{default:e(()=>[a(n(r.userinfo.profile.status),1)]),_:1}),t(h,{class:"bg-surface-light pt-4"},{default:e(()=>[a(n(r.userinfo.profile.bio),1)]),_:1})]),_:1},8,["disabled","loading"]),t(y,{active:r.ProjectsLoading,height:"4",indeterminate:""},null,8,["active"]),l("div",A,[t(m,null,{default:e(()=>[t(u,{icon:"mdi-clock",start:""}),a("本页加载用时"+n(Math.abs(r.usetime/1e3))+"秒 ",1)]),_:1})]),t(D,null,{default:e(()=>[(d(!0),j(k,null,L(r.projects,o=>(d(),g(I,{cols:"4",md:"2",key:o},{default:e(()=>[t(p,{to:"/app/proxy/"+o.id},{default:e(()=>[t(x,{src:`${r.scratch_proxy}/thumbnails/${o.id}`,cover:"","lazy-src":B},null,8,["src"]),t(w,null,{prepend:e(()=>[t(_,{image:`${this.scratch_proxy}/avatars/${o.actor_id}`},null,8,["image"])]),default:e(()=>[t(S,null,{default:e(()=>[a(n(o.title),1)]),_:2},1024),t(U,null,{default:e(()=>[a(n(o.username),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),s[6]||(s[6]=l("br",null,null,-1)),t(f,{onClick:s[0]||(s[0]=o=>V.onPageChange(r.curPage+1,!1))},{default:e(()=>s[2]||(s[2]=[a("继续加载")])),_:1}),t(p,{subtitle:"这是Scratch上的内容",title:"ZeroCatScratchMirror",border:""},{actions:e(()=>[t(f,{href:"https://scratch.mit.edu/users/"+r.userinfo.username,target:"_blank"},{default:e(()=>s[4]||(s[4]=[a("Scratch上的用户主页")])),_:1},8,["href"]),t(f,{href:"https://scratch.mit.edu/terms_of_use",target:"_blank"},{default:e(()=>s[5]||(s[5]=[a("Scratch使用条款")])),_:1})]),default:e(()=>[t(h,{class:"bg-surface-light pt-4"},{default:e(()=>s[3]||(s[3]=[a(" 我们使用这种方式促进Scratch及其社区的发展，这些内容是按照"),l("a",null,"署名-相同方式共享 2.0 通用",-1),a("协议传播的，您可以在"),l("a",null,"https://creativecommons.org/licenses/by-sa/2.0/",-1),a("查看协议全文。 ")])),_:1})]),_:1})]),t(v,{url:"scratchmiteduuser-"+r.userinfo.id,name:"Scratch官网用户"},null,8,["url"])]),_:1})}const $=P(N,[["render",E]]);export{$ as default};
