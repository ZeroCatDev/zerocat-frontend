import{_ as L,a as I}from"./Comment-RQUreZFz.js";import{_ as N,a as T}from"./ProjectPlayer-Bzfy534s.js";import{l as R}from"./licenses-DSftVfqA.js";import{_ as H,ah as U,o as c,c as _,e,N as s,a9 as E,f as B,U as i,Z as u,ai as y,F as j,X as w,Y as g,aj as V,ak as x,C as a,al as C,a0 as W,R as q,S as v,am as z,an as P,ac as Z,ad as k,W as X,ao as Y,ap as G,aq as J,ar as O,a7 as Q,as as $,ag as ee}from"./index-C30_-gqw.js";import{_ as K}from"./ProjectBranchNav-HE6YFFoG.js";import{_ as S}from"./PageAnalytics-CNvb4W87.js";/* empty css                        */import"./TimeAgo-CzotFqlb.js";import"./_commonjsHelpers-BosuxZz1.js";import"./VTextarea-DN100mDs.js";import"./UserRelationControls-Co7_4sLv.js";import"./projectListService-ClH4YOvD.js";import"./openEdit-BX8FwpvB.js";import"./CodeRunTerminal-DqsgppJr.js";import"./programming_languages-Aq2ViMcP.js";import"./ProjectSelector-yESpWGkB.js";import"./VRadioGroup-DagoucQM.js";import"./VSwitch-DwDDbyj9.js";import"./VTimeline-CH3vXYAs.js";import"https://static.geetest.com/v4/gt4.js";const te={"commercial-use":{label:"商业用途",description:"许可的材料和衍生品可用于商业目的。"},modifications:{label:"修改",description:"可以修改许可材料。"},distribution:{label:"分配",description:"可以分发许可材料。"},"private-use":{label:"私人使用",description:"可以私下使用和修改许可材料。"},"patent-use":{label:"专利使用",description:"该许可提供了贡献者的明确授予专利权。"}},se={"include-copyright":{label:"许可证和版权通知",description:"许可材料必须包含许可证和版权通知的副本。"},"include-copyright--source":{label:"来源的许可证和版权通知",description:"许可证和版权通知的副本必须包含在源形式的许可材料中，但二进制文件不需要。"},"document-changes":{label:"状态变化",description:"必须记录对许可材料的更改。"},"disclose-source":{label:"披露来源",description:"分发许可材料时必须提供源代码。"},"network-use-disclose":{label:"网络使用是分布",description:"通过网络与许可材料进行交互的用户有权接收源代码的副本。"},"same-license":{label:"相同的许可证",description:"在分发许可材料时，必须根据相同的许可发布修改。在某些情况下，可以使用类似或相关的许可证。"},"same-license--file":{label:"相同的许可证（文件）",description:"在分发许可材料时，必须根据相同的许可发布现有文件的修改。在某些情况下，可以使用类似或相关的许可证。"},"same-license--library":{label:"相同的许可证（库）",description:"在分发许可材料时，必须根据相同的许可发布修改。在某些情况下，可以使用类似或相关的许可证，或者此条件可能不适用于使用许可材料作为库的作品。"}},re={"trademark-use":{label:"商标使用",description:"该许可明确指出，即使没有这样的声明的许可证可能没有授予任何隐性商标权，它也不授予商标权。"},liability:{label:"责任",description:"该许可包括责任的限制。"},"patent-use":{label:"专利使用",description:"该许可明确指出，它不授予贡献者专利的任何权利。"},warranty:{label:"保修单",description:"该许可明确指出，它不提供任何保修。"}},ne={permissions:te,conditions:se,limitations:re},oe={name:"License",props:{licenseKey:{type:String,required:!0}},data(){return{license:null,rules:ne}},watch:{licenseKey:{handler(n){this.updateLicenseData(n)},immediate:!0}},methods:{updateLicenseData(n){this.license=R[n]||{title:"项目未指定许可证","spdx-id":"none",hidden:!1,description:"项目未指定许可证，一般来说这意味着作者保留了所有权利。在这种情况下，你应该尝试联系作者，向其获得私人授权或建议使用许可证。在ZeroCat上的项目被认为发布于中国大陆，至少需要遵守中华人民共和国法律。",how:"",permissions:[],conditions:[],limitations:[],body:""}}}},le={key:0};function ie(n,o,m,h,t,f){const d=U("v-list-item-content");return t.license?(c(),_("div",le,[e(u,{subtitle:m.licenseKey,title:t.license.title},{default:s(()=>[e(E,null,{default:s(()=>[B("p",null,i(t.license.description),1),e(u,{title:"限制"},{default:s(()=>[e(y,{dense:"",lines:"two"},{default:s(()=>[(c(!0),_(j,null,w(t.license.limitations,(l,p)=>(c(),g(V,{key:p},{default:s(()=>[e(d,null,{default:s(()=>[e(x,null,{default:s(()=>{var r;return[a(i(((r=t.rules.limitations[l])==null?void 0:r.label)||l),1)]}),_:2},1024),e(C,null,{default:s(()=>{var r;return[a(i(((r=t.rules.limitations[l])==null?void 0:r.description)||""),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(u,{title:"条件"},{default:s(()=>[e(y,{dense:"",lines:"two"},{default:s(()=>[(c(!0),_(j,null,w(t.license.conditions,(l,p)=>(c(),g(V,{key:p},{default:s(()=>[e(d,null,{default:s(()=>[e(x,null,{default:s(()=>{var r;return[a(i(((r=t.rules.conditions[l])==null?void 0:r.label)||l),1)]}),_:2},1024),e(C,null,{default:s(()=>{var r;return[a(i(((r=t.rules.conditions[l])==null?void 0:r.description)||""),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(u,{title:"权限"},{default:s(()=>[e(y,{dense:"",lines:"two"},{default:s(()=>[(c(!0),_(j,null,w(t.license.permissions,(l,p)=>(c(),g(V,{key:p},{default:s(()=>[e(d,null,{default:s(()=>[e(x,null,{default:s(()=>{var r;return[a(i(((r=t.rules.permissions[l])==null?void 0:r.label)||l),1)]}),_:2},1024),e(C,null,{default:s(()=>{var r;return[a(i(((r=t.rules.permissions[l])==null?void 0:r.description)||""),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(u,{title:"许可证原文"},{text:s(()=>[B("pre",null,i(t.license.body),1)]),_:1})]),_:1})]),_:1},8,["subtitle","title"])])):W("",!0)}const D=H(oe,[["render",ie],["__scopeId","data-v-ebe4140d"]]),ae={components:{Comment:I,Markdown:L,License:D,ProjectBranchNav:K,ProjectPlayer:T,ProjectInfoCard:N,PageAnalytics:S},data(){return{project:{},author:{},localuser:ee,tab:"readme",projectbranchs:[],projectbranchhistory:[],showplayer:!0,player:{branch:"main",commit:{id:"latest"},latest_commit_hash:"latest"},initProject:$}},async mounted(){this.initlizeProject()},methods:{async initlizeProject(){const n=this.$route.params.username,o=this.$route.params.projectname;this.$route.params.username=="proxy"&&this.$router.replace(`/app${this.$route.path}`);const m=await G(n,o);if(m.id==0){J.show404();return}this.project=m,this.project.id=this.project.id,this.project.default_branch==null&&(this.showplayer=!1),this.player.branch=this.project.default_branch;var h=await O(this.project.id);h.data.length==0&&(this.showplayer=!1),this.projectbranchs=h.data;const t=this.projectbranchs.find(f=>f.name===this.player.branch);t&&(this.player.commit.id=t.latest_commit_hash,this.player.latest_commit_hash=t.latest_commit_hash),this.loadBranchHistory(),Q({title:this.project.title}),this.author=this.project.author},async loadBranchHistory(){const n=await Y(this.project.id,this.player.latest_commit_hash);this.projectbranchhistory=n}},watch:{player:{handler:function(n,o){this.loadBranchHistory()},deep:!0}}};function ce(n,o,m,h,t,f){const d=S,l=K,p=T,r=L,A=D,F=N,M=I;return c(),_("div",null,[e(d,{"target-id":t.project.id,"target-type":"project"},null,8,["target-id"]),e(X,null,{default:s(()=>[e(q,null,{default:s(()=>[e(v,{cols:"12",lg:"8",md:"8",sm:"12",xl:"8",xs:"12",xxl:"8"},{default:s(()=>[e(l,{"branch-history":t.projectbranchhistory,branches:t.projectbranchs,"current-branch":t.player.branch,"current-commit-id":t.player.commit.id,projectname:n.$route.params.projectname,username:n.$route.params.username},null,8,["branch-history","branches","current-branch","current-commit-id","projectname","username"]),e(p,{branch:t.player.branch,"commit-id":t.player.commit.id,"project-id":t.project.id,showplayer:t.showplayer,type:t.project.type},null,8,["branch","commit-id","project-id","showplayer","type"]),o[4]||(o[4]=B("br",null,null,-1)),e(u,null,{default:s(()=>[e(z,{modelValue:t.tab,"onUpdate:modelValue":o[0]||(o[0]=b=>t.tab=b),"bg-color":"primary"},{default:s(()=>[e(P,{value:"readme"},{default:s(()=>[...o[2]||(o[2]=[a("README",-1)])]),_:1}),e(P,{value:"license"},{default:s(()=>[...o[3]||(o[3]=[a("LICENSE",-1)])]),_:1})]),_:1},8,["modelValue"]),e(E,{class:"markdown-body"},{default:s(()=>[e(Z,{modelValue:t.tab,"onUpdate:modelValue":o[1]||(o[1]=b=>t.tab=b)},{default:s(()=>[e(k,{value:"readme"},{default:s(()=>[e(r,null,{default:s(()=>[a(i(t.project.description),1)]),_:1})]),_:1}),e(k,{value:"license"},{default:s(()=>[e(A,{licenseKey:t.project.license||"none"},null,8,["licenseKey"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{cols:"12",lg:"4",md:"4",sm:"12",xl:"4",xs:"12",xxl:"8"},{default:s(()=>[e(F,{author:t.author,project:t.project,projectname:n.$route.params.projectname,username:n.$route.params.username},null,8,["author","project","projectname","username"])]),_:1}),e(v,{cols:"12",lg:"8",md:"8",sm:"12",xl:"8",xs:"12",xxl:"8"},{default:s(()=>[e(M,{url:"project-"+t.project.id,name:"项目"},null,8,["url"])]),_:1})]),_:1})]),_:1})])}const Ie=H(ae,[["render",ce]]);export{Ie as default};
