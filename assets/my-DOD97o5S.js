import{_ as Ce}from"./Projects-CUxG4d-P.js";import{o as Xe}from"./openEdit-AJJkPSPH.js";import{p as W,a4 as Ye,aN as $e,au as el,i as Z,ar as ll,I as q,aO as O,a6 as he,a9 as g,aP as tl,aq as al,aQ as nl,aR as ol,aS as z,aT as K,aU as be,aV as sl,k as J,a0 as F,a as l,T as te,aW as il,aa as R,ad as ul,S as xe,M as rl,Z as ue,aX as cl,at as de,O as M,aY as dl,ab as vl,aZ as ge,a_ as ml,m as ve,a$ as fl,b0 as ke,b1 as pl,ay as Se,az as hl,aL as bl,al as ye,f as xl,b2 as gl,z as Ie,u as yl,b3 as Vl,n as Pl,b4 as Cl,t as kl,v as we,b5 as Sl,C as Il,F as wl,b6 as jl,b7 as Tl,b8 as El,x as _l,b9 as Dl,y as Al,ba as Rl,A as k,_ as Fl,H as Ul,G as Bl,J as ie,o as Ll,c as Ml,w as v,N as L,L as le,R as Nl,$ as Ol,W as Ve,aE as zl,a3 as Kl}from"./index-D9HU68PH.js";import{a as V,V as Pe}from"./VRow-Bac-Pe45.js";import{m as Gl,u as ql,a as Hl,V as G}from"./VSelect-XhAvGWAF.js";import{m as Wl,u as Zl,V as Jl}from"./VAutocomplete-D92IE0jm.js";import{V as Ql}from"./VTextarea-BEdNRgm8.js";import{V as Xl}from"./VCheckboxBtn-UAWM0KRA.js";import{V as je}from"./VChip-BUVl66iQ.js";import{V as Yl}from"./VSpacer-BzQ7y9XJ.js";import{V as $l}from"./VDialog-CvvuVpen.js";import{V as et}from"./VContainer-D5rhaCxX.js";import"./showProjects-DUFR05jC.js";import"./project-Bz8EEpvv.js";import"./db-ko8tMDg3.js";import"./user-C9B0Boj-.js";import"./43-lazyload-CBkwrR6M.js";import"./VPagination-Cw1yPsKm.js";/* empty css              */import"./VSelectionControl-BE40c9fR.js";function lt(e,a,i){if(a==null)return e;if(Array.isArray(a))throw new Error("Multiple matches is not implemented");return typeof a=="number"&&~a?l(te,null,[l("span",{class:"v-combobox__unmask"},[e.substr(0,a)]),l("span",{class:"v-combobox__mask"},[e.substr(a,i)]),l("span",{class:"v-combobox__unmask"},[e.substr(a+i)])]):e}const tt=W({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Wl({filterKeys:["title"]}),...Gl({hideNoData:!0,returnObject:!0}),...Ye($e({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...el({transition:!1})},"VCombobox"),at=Z()({name:"VCombobox",props:tt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,a){var me;let{emit:i,slots:o}=a;const{t:n}=ll(),f=q(),h=O(!1),s=O(!0),S=O(!1),I=q(),w=q(),U=he(e,"menu"),m=g({get:()=>U.value,set:t=>{var u;U.value&&!t&&((u=I.value)!=null&&u.ΨopenChildren.size)||(U.value=t)}}),c=O(-1);let D=!1;const ae=g(()=>{var t;return(t=f.value)==null?void 0:t.color}),N=g(()=>m.value?e.closeText:e.openText),{items:De,transformIn:Ae,transformOut:Re}=tl(e),{textColorClasses:Fe,textColorStyles:Ue}=al(ae),d=he(e,"modelValue",[],t=>Ae(nl(t)),t=>{const u=Re(t);return e.multiple?u:u[0]??null}),Q=ol(e),X=g(()=>!!(e.chips||o.chip)),T=g(()=>X.value||!!o.selection),E=O(!e.multiple&&!T.value?((me=d.value[0])==null?void 0:me.title)??"":""),x=g({get:()=>E.value,set:t=>{var u;if(E.value=t??"",!e.multiple&&!T.value&&(d.value=[z(e,t)]),t&&e.multiple&&((u=e.delimiters)!=null&&u.length)){const b=t.split(new RegExp(`(?:${e.delimiters.join("|")})+`));b.length>1&&(b.forEach(r=>{r=r.trim(),r&&j(z(e,r))}),E.value="")}t||(c.value=-1),s.value=!t}}),Be=g(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?d.value.length:x.value.length);K(E,t=>{D?be(()=>D=!1):h.value&&!m.value&&(m.value=!0),i("update:search",t)}),K(d,t=>{var u;!e.multiple&&!T.value&&(E.value=((u=t[0])==null?void 0:u.title)??"")});const{filteredItems:Y,getMatches:Le}=Zl(e,De,()=>s.value?"":x.value),_=g(()=>e.hideSelected?Y.value.filter(t=>!d.value.some(u=>u.value===t.value)):Y.value),Me=g(()=>d.value.map(t=>t.value)),ne=g(()=>{var u;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&x.value===((u=_.value[0])==null?void 0:u.title))&&_.value.length>0&&!s.value&&!S.value}),oe=g(()=>e.hideNoData&&!_.value.length||Q.isReadonly.value||Q.isDisabled.value),se=q(),Ne=ql(se,f);function Oe(t){D=!0,e.openOnClear&&(m.value=!0)}function ze(){oe.value||(m.value=!0)}function Ke(t){oe.value||(h.value&&(t.preventDefault(),t.stopPropagation()),m.value=!m.value)}function Ge(t){var u;t.key!==" "&&ge(t)&&((u=f.value)==null||u.focus())}function qe(t){var r;if(ml(t)||Q.isReadonly.value)return;const u=f.value.selectionStart,b=d.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(m.value=!0),["Escape"].includes(t.key)&&(m.value=!1),["Enter","Escape","Tab"].includes(t.key)&&(ne.value&&["Enter","Tab"].includes(t.key)&&!d.value.some(p=>{let{value:C}=p;return C===_.value[0].value})&&j(Y.value[0]),s.value=!0),t.key==="ArrowDown"&&ne.value&&((r=se.value)==null||r.focus("next")),t.key==="Enter"&&x.value&&(j(z(e,x.value)),T.value&&(E.value="")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&T.value&&d.value.length>0&&!x.value)return j(d.value[0],!1);if(~c.value){t.preventDefault();const p=c.value;j(d.value[c.value],!1),c.value=p>=b-1?b-2:p}else t.key==="Backspace"&&!x.value&&(c.value=b-1);return}if(e.multiple)if(t.key==="ArrowLeft"){if(c.value<0&&u>0)return;const p=c.value>-1?c.value-1:b-1;d.value[p]?c.value=p:(c.value=-1,f.value.setSelectionRange(x.value.length,x.value.length))}else if(t.key==="ArrowRight"){if(c.value<0)return;const p=c.value+1;d.value[p]?c.value=p:(c.value=-1,f.value.setSelectionRange(0,0))}else~c.value&&ge(t)&&(c.value=-1)}function He(){var t;e.eager&&((t=w.value)==null||t.calculateVisibleItems())}function We(){var t;h.value&&(s.value=!0,(t=f.value)==null||t.focus())}function j(t){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){const b=d.value.findIndex(p=>e.valueComparator(p.value,t.value)),r=u??!~b;if(~b){const p=r?[...d.value,t]:[...d.value];p.splice(b,1),d.value=p}else r&&(d.value=[...d.value,t]);e.clearOnSelect&&(x.value="")}else{const b=u!==!1;d.value=b?[t]:[],E.value=b&&!T.value?t.title:"",be(()=>{m.value=!1,s.value=!0})}}function Ze(t){h.value=!0,setTimeout(()=>{S.value=!0})}function Je(t){S.value=!1}function Qe(t){(t==null||t===""&&!e.multiple&&!T.value)&&(d.value=[])}return K(h,(t,u)=>{if(!(t||t===u)&&(c.value=-1,m.value=!1,x.value)){if(e.multiple){j(z(e,x.value));return}if(!T.value)return;d.value.some(b=>{let{title:r}=b;return r===x.value})?E.value="":j(z(e,x.value))}}),K(m,()=>{if(!e.hideSelected&&m.value&&d.value.length){const t=_.value.findIndex(u=>d.value.some(b=>e.valueComparator(b.value,u.value)));sl&&window.requestAnimationFrame(()=>{var u;t>=0&&((u=w.value)==null||u.scrollToIndex(t))})}}),K(()=>e.items,(t,u)=>{m.value||h.value&&!u.length&&t.length&&(m.value=!0)}),J(()=>{const t=!!(!e.hideNoData||_.value.length||o["prepend-item"]||o["append-item"]||o["no-data"]),u=d.value.length>0,b=F.filterProps(e);return l(F,R({ref:f},b,{modelValue:x.value,"onUpdate:modelValue":[r=>x.value=r,Qe],focused:h.value,"onUpdate:focused":r=>h.value=r,validationValue:d.externalValue,counterValue:Be.value,dirty:u,class:["v-combobox",{"v-combobox--active-menu":m.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!T.value,"v-combobox--selecting-index":c.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:Q.isReadonly.value,placeholder:u?void 0:e.placeholder,"onClick:clear":Oe,"onMousedown:control":ze,onKeydown:qe}),{...o,default:()=>l(te,null,[l(il,R({ref:I,modelValue:m.value,"onUpdate:modelValue":r=>m.value=r,activator:"parent",contentClass:"v-combobox__content",disabled:oe.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:He,onAfterLeave:We},e.menuProps),{default:()=>[t&&l(ul,R({ref:se,selected:Me.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:r=>r.preventDefault(),onKeydown:Ge,onFocusin:Ze,onFocusout:Je,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Ne,e.listProps),{default:()=>{var r,p,C;return[(r=o["prepend-item"])==null?void 0:r.call(o),!_.value.length&&!e.hideNoData&&(((p=o["no-data"])==null?void 0:p.call(o))??l(xe,{key:"no-data",title:n(e.noDataText)},null)),l(Hl,{ref:w,renderless:!0,items:_.value},{default:A=>{var pe;let{item:y,index:B,itemRef:P}=A;const fe=R(y.props,{ref:P,key:y.value,active:ne.value&&B===0?!0:void 0,onClick:()=>j(y,null)});return((pe=o.item)==null?void 0:pe.call(o,{item:y,index:B,props:fe}))??l(xe,R(fe,{role:"option"}),{prepend:$=>{let{isSelected:ee}=$;return l(te,null,[e.multiple&&!e.hideSelected?l(Xl,{key:y.value,modelValue:ee,ripple:!1,tabindex:"-1"},null):void 0,y.props.prependAvatar&&l(rl,{image:y.props.prependAvatar},null),y.props.prependIcon&&l(ue,{icon:y.props.prependIcon},null)])},title:()=>{var $,ee;return s.value?y.title:lt(y.title,($=Le(y))==null?void 0:$.title,((ee=x.value)==null?void 0:ee.length)??0)}})}}),(C=o["append-item"])==null?void 0:C.call(o)]}})]}),d.value.map((r,p)=>{function C(P){P.stopPropagation(),P.preventDefault(),j(r,!1)}const A={"onClick:close":C,onKeydown(P){P.key!=="Enter"&&P.key!==" "||(P.preventDefault(),P.stopPropagation(),C(P))},onMousedown(P){P.preventDefault(),P.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},y=X.value?!!o.chip:!!o.selection,B=y?cl(X.value?o.chip({item:r,index:p,props:A}):o.selection({item:r,index:p})):void 0;if(!(y&&!B))return l("div",{key:r.value,class:["v-combobox__selection",p===c.value&&["v-combobox__selection--selected",Fe.value]],style:p===c.value?Ue.value:{}},[X.value?o.chip?l(de,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:r.title}}},{default:()=>[B]}):l(je,R({key:"chip",closable:e.closableChips,size:"small",text:r.title,disabled:r.props.disabled},A),null):B??l("span",{class:"v-combobox__selection-text"},[r.title,e.multiple&&p<d.value.length-1&&l("span",{class:"v-combobox__selection-comma"},[M(",")])])])})]),"append-inner":function(){var A;for(var r=arguments.length,p=new Array(r),C=0;C<r;C++)p[C]=arguments[C];return l(te,null,[(A=o["append-inner"])==null?void 0:A.call(o,...p),(!e.hideNoData||e.items.length)&&e.menuIcon?l(ue,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:Ke,onClick:dl,"aria-label":n(N.value),title:n(N.value),tabindex:"-1"},null):void 0])}})}),vl({isFocused:h,isPristine:s,menu:m,search:x,selectionIndex:c,filteredItems:Y,select:j},f)}}),H=Symbol.for("vuetify:v-expansion-panel"),Te=W({...ve(),...fl()},"VExpansionPanelText"),re=Z()({name:"VExpansionPanelText",props:Te(),setup(e,a){let{slots:i}=a;const o=ke(H);if(!o)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:n,onAfterLeave:f}=pl(e,o.isSelected);return J(()=>l(bl,{onAfterLeave:f},{default:()=>{var h;return[Se(l("div",{class:["v-expansion-panel-text",e.class],style:e.style},[i.default&&n.value&&l("div",{class:"v-expansion-panel-text__wrapper"},[(h=i.default)==null?void 0:h.call(i)])]),[[hl,o.isSelected.value]])]}})),{}}}),Ee=W({color:String,expandIcon:{type:ye,default:"$expand"},collapseIcon:{type:ye,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ve(),...xl()},"VExpansionPanelTitle"),ce=Z()({name:"VExpansionPanelTitle",directives:{Ripple:gl},props:Ee(),setup(e,a){let{slots:i}=a;const o=ke(H);if(!o)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:n,backgroundColorStyles:f}=Ie(e,"color"),{dimensionStyles:h}=yl(e),s=g(()=>({collapseIcon:e.collapseIcon,disabled:o.disabled.value,expanded:o.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),S=g(()=>o.isSelected.value?e.collapseIcon:e.expandIcon);return J(()=>{var I;return Se(l("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":o.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},n.value,e.class],style:[f.value,h.value,e.style],type:"button",tabindex:o.disabled.value?-1:void 0,disabled:o.disabled.value,"aria-expanded":o.isSelected.value,onClick:e.readonly?void 0:o.toggle},[l("span",{class:"v-expansion-panel-title__overlay"},null),(I=i.default)==null?void 0:I.call(i,s.value),!e.hideActions&&l(de,{defaults:{VIcon:{icon:S.value}}},{default:()=>{var w;return[l("span",{class:"v-expansion-panel-title__icon"},[((w=i.actions)==null?void 0:w.call(i,s.value))??l(ue,null,null)])]}})]),[[Vl("ripple"),e.ripple]])}),{}}}),_e=W({title:String,text:String,bgColor:String,...Pl(),...Cl(),...kl(),...we(),...Ee(),...Te()},"VExpansionPanel"),nt=Z()({name:"VExpansionPanel",props:_e(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:i}=a;const o=Sl(e,H),{backgroundColorClasses:n,backgroundColorStyles:f}=Ie(e,"bgColor"),{elevationClasses:h}=Il(e),{roundedClasses:s}=wl(e),S=g(()=>(o==null?void 0:o.disabled.value)||e.disabled),I=g(()=>o.group.items.value.reduce((m,c,D)=>(o.group.selected.value.includes(c.id)&&m.push(D),m),[])),w=g(()=>{const m=o.group.items.value.findIndex(c=>c.id===o.id);return!o.isSelected.value&&I.value.some(c=>c-m===1)}),U=g(()=>{const m=o.group.items.value.findIndex(c=>c.id===o.id);return!o.isSelected.value&&I.value.some(c=>c-m===-1)});return jl(H,o),J(()=>{const m=!!(i.text||e.text),c=!!(i.title||e.title),D=ce.filterProps(e),ae=re.filterProps(e);return l(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":o.isSelected.value,"v-expansion-panel--before-active":w.value,"v-expansion-panel--after-active":U.value,"v-expansion-panel--disabled":S.value},s.value,n.value,e.class],style:[f.value,e.style]},{default:()=>[l("div",{class:["v-expansion-panel__shadow",...h.value]},null),l(de,{defaults:{VExpansionPanelTitle:{...D},VExpansionPanelText:{...ae}}},{default:()=>{var N;return[c&&l(ce,{key:"title"},{default:()=>[i.title?i.title():e.title]}),m&&l(re,{key:"text"},{default:()=>[i.text?i.text():e.text]}),(N=i.default)==null?void 0:N.call(i)]}})]})}),{groupItem:o}}}),ot=["default","accordion","inset","popout"],st=W({flat:Boolean,...Tl(),...El(_e(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),..._l(),...ve(),...we(),variant:{type:String,default:"default",validator:e=>ot.includes(e)}},"VExpansionPanels"),it=Z()({name:"VExpansionPanels",props:st(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:i}=a;const{next:o,prev:n}=Dl(e,H),{themeClasses:f}=Al(e),h=g(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Rl({VExpansionPanel:{bgColor:k(e,"bgColor"),collapseIcon:k(e,"collapseIcon"),color:k(e,"color"),eager:k(e,"eager"),elevation:k(e,"elevation"),expandIcon:k(e,"expandIcon"),focusable:k(e,"focusable"),hideActions:k(e,"hideActions"),readonly:k(e,"readonly"),ripple:k(e,"ripple"),rounded:k(e,"rounded"),static:k(e,"static")}}),J(()=>l(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},f.value,h.value,e.class],style:e.style},{default:()=>{var s;return[(s=i.default)==null?void 0:s.call(i,{prev:n,next:o})]}})),{next:o,prev:n}}}),ut={components:{Projects:Ce},data(){return{localuser:Ul,projectstates:[{state:"私密",abbr:"private"},{state:"开源",abbr:"public"}],projecthistory:[{state:"关闭",abbr:"0"},{state:"开启",abbr:"1"}],searchstates:[{state:"所有",abbr:""},{state:"私密",abbr:"private"},{state:"开源",abbr:"public"}],typeitems:[{name:"所有",type:""},{name:"Scratch",type:"scratch"},{name:"Python",type:"python"}],orderitems:[{name:"观看量升序",type:"view_up"},{name:"观看量降序",type:"view_down"},{name:"时间升序",type:"time_up"},{name:"时间降序",type:"time_down"},{name:"序号升序",type:"id_up"},{name:"序号降序",type:"id_down"}],currentProjectID:0,dialog:!1,currentProject:{},previousProject:{},search:{title:"",type:"",description:"",source:"",order:"view_up",authorid:"",type:"",state:"",tag:""},aboutTags:{items:["动画","故事","音乐","硬核","艺术","水"],chips:q({}),selected:[]},url:""}},async created(){this.localuser.islogin==!1&&this.$router.push("/account/login"),await this.onPageChange()},setup(){Bl({title:"我的作品"})},methods:{removetag(e){chips.value.splice(chips.value.indexOf(e),1)},projecttypeProps(e){return{title:e.name,subtitle:e.department}},async onPageChange(e=1){this.url=`/searchapi?search_userid=${this.localuser.user.userid}&search_type=${this.search.type}&search_title=${this.search.title}&search_source=${this.search.source}&search_description=${this.search.description}&search_orderby=${this.search.order}&search_state=${this.search.state}&search_tag=${this.search.tag}`},resetSearch(){this.search={title:"",type:"scratch",description:"",source:"",order:"view_up",authorid:"",state:"public",tag:"",limit:20},this.onPageChange()},openinfo(e,a){this.currentProjectID=e,this.currentProject=a,this.previousProject={...a},this.aboutTags.chips=this.currentProject.tags.map(i=>i.name),this.dialog=!0},openpushpage(e){this.$router.push("/projects/"+e+"/push")},pushproject(e,a){ie({url:"/project/"+e+"/push",method:"post"}).then(i=>{console.log(i),this.$toast.add({severity:"info",summary:"info",detail:i.message,life:3e3}),this.onPageChange()}).catch(i=>{console.log(i),this.$toast.add({severity:"error",summary:"失败",detail:"失败",life:3e3})})},openedit(e,a){this.$toast.add({severity:"info",summary:"info",detail:`尝试打开${a.type}编辑器并编辑${e}号作品`,life:3e3}),Xe(e,a.type)},deleteProject(){this.$toast.add({severity:"error",summary:"info",detail:`尝试删除${this.currentProjectID}号作品`,life:3e3}),ie({url:"/project/"+this.currentProjectID,method:"delete"}).then(e=>{console.log(e),this.$toast.add({severity:"info",summary:"info",detail:e.message,life:3e3}),this.onPageChange(),this.dialog=!1}).catch(e=>{console.log(e),this.$toast.add({severity:"error",summary:"error",detail:"删除失败",life:3e3})})},SaveProjectsInfo(){this.currentProject.tags=this.aboutTags.chips.map(e=>e),ie({url:"/project/"+this.currentProjectID,method:"put",data:this.currentProject}).then(e=>{console.log(e),this.$toast.add({severity:"info",summary:"info",detail:e.message,life:3e3}),this.dialog=!1,this.onPageChange()}).catch(e=>{console.log(e),this.$toast.add({severity:"error",summary:"error",detail:"修改失败",life:3e3})})}}};function rt(e,a,i,o,n,f){const h=Ce;return Ll(),Ml(et,null,{default:v(()=>[l(Pe,null,{default:v(()=>[l(V,{cols:"6"},{default:v(()=>[l(F,{label:"作品名 包含："+n.search.title,modelValue:n.search.title,"onUpdate:modelValue":a[0]||(a[0]=s=>n.search.title=s)},null,8,["label","modelValue"])]),_:1}),l(V,{cols:"6"},{default:v(()=>[l(F,{label:"作品描述 包含："+n.search.description,modelValue:n.search.description,"onUpdate:modelValue":a[1]||(a[1]=s=>n.search.description=s)},null,8,["label","modelValue"])]),_:1}),l(V,{cols:"6"},{default:v(()=>[l(F,{label:"作品内容 包含："+n.search.source,modelValue:n.search.source,"onUpdate:modelValue":a[2]||(a[2]=s=>n.search.source=s)},null,8,["label","modelValue"])]),_:1}),l(V,{cols:"6"},{default:v(()=>[l(F,{"control-variant":"用户ID",label:"用户ID 为："+n.search.authorid,modelValue:n.localuser.user.userid,"onUpdate:modelValue":a[3]||(a[3]=s=>n.localuser.user.userid=s),disabled:""},null,8,["label","modelValue"])]),_:1}),l(V,{cols:"3"},{default:v(()=>[l(G,{modelValue:n.search.order,"onUpdate:modelValue":a[4]||(a[4]=s=>n.search.order=s),items:n.orderitems,"item-title":"name","item-value":"type",label:"排序"},null,8,["modelValue","items"])]),_:1}),l(V,{cols:"3"},{default:v(()=>[l(G,{modelValue:n.search.type,"onUpdate:modelValue":a[5]||(a[5]=s=>n.search.type=s),items:n.typeitems,"item-title":"name","item-value":"type",label:"项目类型"},null,8,["modelValue","items"])]),_:1}),l(V,{cols:"3"},{default:v(()=>[l(G,{modelValue:n.search.state,"onUpdate:modelValue":a[6]||(a[6]=s=>n.search.state=s),items:n.searchstates,"item-title":"state","item-value":"abbr",label:"项目状态"},null,8,["modelValue","items"])]),_:1}),l(V,{cols:"3"},{default:v(()=>[l(Jl,{label:"标签 为："+n.search.tag,items:["","动画","故事","音乐","硬核","艺术","水"],modelValue:n.search.tag,"onUpdate:modelValue":a[7]||(a[7]=s=>n.search.tag=s)},null,8,["label","modelValue"])]),_:1}),l(V,{cols:"12"},{default:v(()=>[l(L,{color:"primary",variant:"flat",rounded:"xl",onClick:a[8]||(a[8]=s=>f.onPageChange()),"append-icon":"mdi-magnify"},{default:v(()=>a[18]||(a[18]=[M("搜索")])),_:1}),l(L,{color:"",variant:"flat",rounded:"xl",onClick:a[9]||(a[9]=s=>{n.search.order="view_up",n.search.type="",n.search.authorid="",n.search.source="",n.search.description="",n.search.title="",n.search.state="public",f.onPageChange()})},{default:v(()=>a[19]||(a[19]=[M("重置")])),_:1})]),_:1})]),_:1}),a[23]||(a[23]=le("br",null,null,-1)),a[24]||(a[24]=le("br",null,null,-1)),l(h,{url:n.url,actions:[{name:"信息",function:f.openinfo},{name:"编辑",function:f.openedit},{name:"推送页",function:f.openpushpage}]},null,8,["url","actions"]),l($l,{modelValue:n.dialog,"onUpdate:modelValue":a[17]||(a[17]=s=>n.dialog=s),"max-width":"70vw",persistent:"",origin:"center center"},{default:v(()=>[l(Nl,{"prepend-icon":"mdi-xml",title:"作品信息"},{default:v(()=>[l(Ol,null,{default:v(()=>[l(Pe,{dense:""},{default:v(()=>[l(V,{cols:"12",md:"12",sm:"12"},{default:v(()=>[l(F,{label:"标题",required:"",modelValue:n.currentProject.title,"onUpdate:modelValue":a[10]||(a[10]=s=>n.currentProject.title=s),hint:"将会在首页展示"},null,8,["modelValue"])]),_:1}),l(V,{cols:"12",md:"12",sm:"12"},{default:v(()=>[l(Ql,{hint:"介绍作品类型，玩法，并向对这个作品有帮助的人致谢！",label:"简介",modelValue:n.currentProject.description,"onUpdate:modelValue":a[11]||(a[11]=s=>n.currentProject.description=s)},null,8,["modelValue"])]),_:1}),l(V,{cols:"12",sm:"6"},{default:v(()=>[l(G,{items:["scratch","python","text"],label:"类型",required:"",hint:"不建议你改",modelValue:n.currentProject.type,"onUpdate:modelValue":a[12]||(a[12]=s=>n.currentProject.type=s)},null,8,["modelValue"])]),_:1}),l(V,{cols:"12",sm:"6"},{default:v(()=>[l(G,{modelValue:n.currentProject.state,"onUpdate:modelValue":a[13]||(a[13]=s=>n.currentProject.state=s),items:n.projectstates,"item-title":"state","item-value":"abbr",label:"项目状态",hint:"我们鼓励开源"},null,8,["modelValue","items"])]),_:1}),l(V,{cols:"12"},{default:v(()=>[l(at,{modelValue:n.aboutTags.chips,"onUpdate:modelValue":a[14]||(a[14]=s=>n.aboutTags.chips=s),items:n.aboutTags.items,label:"标签","prepend-icon":"mdi-tag",variant:"solo",chips:"",multiple:""},{selection:v(({attrs:s,item:S,select:I,selected:w})=>[l(je,R(s,{"model-value":w,closable:"",onClick:I,"onClick:close":U=>f.removetag(S)}),{default:v(()=>[le("strong",null,Ve(S.name),1),a[20]||(a[20]=M("  ")),a[21]||(a[21]=le("span",null,"(interest)",-1))]),_:2},1040,["model-value","onClick","onClick:close"])]),_:1},8,["modelValue","items"])]),_:1}),l(it,null,{default:v(()=>[l(nt,null,{default:v(()=>[l(ce,null,{default:v(()=>a[22]||(a[22]=[M("详细数据")])),_:1}),l(re,null,{default:v(()=>[M(Ve(n.currentProject),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(zl),l(Kl,null,{default:v(()=>[l(L,{color:"error",text:"删除",variant:"tonal",onClick:f.deleteProject},null,8,["onClick"]),l(L,{color:"text",text:"一键推送",variant:"tonal",onClick:a[15]||(a[15]=s=>f.pushproject(n.currentProject.id))}),l(Yl),l(L,{text:"取消",variant:"plain",onClick:a[16]||(a[16]=s=>n.dialog=!1)}),l(L,{color:"primary",text:"保存",variant:"tonal",onClick:f.SaveProjectsInfo},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Et=Fl(ut,[["render",rt]]);export{Et as default};
