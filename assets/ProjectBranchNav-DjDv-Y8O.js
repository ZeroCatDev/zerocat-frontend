import{_ as b,c as i,o as r,f as k,e as a,N as t,ad as d,F as m,U as h,Y as _,ae as p,i as s,m as v,L as o,X as l,O as f,az as g}from"./index-CqDYMkg5.js";const B={name:"ProjectBranchNav",props:{username:{type:String,required:!0},projectname:{type:String,required:!0},currentBranch:{type:String,required:!0},currentCommitId:{type:String,default:"latest"},branches:{type:Array,required:!0},branchHistory:{type:Array,required:!0}},methods:{navigateToBranch(c){this.$router.push(`/${this.username}/${this.projectname}/tree/${c}`)},navigateToCommit(c){this.$router.push(`/${this.username}/${this.projectname}/commit/${c}`)}}},x={style:{display:"flex","justify-content":"space-between"},class:"mb-2"};function C(c,V,n,$,j,u){return r(),i("div",x,[k("div",null,[a(g,{"close-on-content-click":!1},{activator:t(({props:e})=>[a(s,v({rounded:"lg",variant:"tonal",class:"text-none","prepend-icon":"mdi-git","append-icon":"mdi-menu-down"},e),{prepend:t(()=>[a(f)]),default:t(()=>[o(" "+l(n.currentBranch),1)]),_:2},1040)]),default:t(()=>[a(d,{dense:""},{default:t(()=>[(r(!0),i(m,null,h(n.branches,e=>(r(),_(p,{key:e,title:e.name,subtitle:e.description,value:e.name,active:e.name===n.currentBranch,onClick:y=>u.navigateToBranch(e.name)},null,8,["title","subtitle","value","active","onClick"]))),128))]),_:1})]),_:1}),a(s,{class:"ml-2",variant:"text",to:`/${n.username}/${n.projectname}/branches`},{default:t(()=>[o(l(n.branches.length)+"个分支",1)]),_:1},8,["to"])]),a(g,{"close-on-content-click":!1},{activator:t(({props:e})=>[a(s,v({variant:"tonal",class:"text-none","prepend-icon":"mdi-history",rounded:"lg","append-icon":"mdi-menu-down"},e),{prepend:t(()=>[a(f)]),default:t(()=>[o(" "+l(n.branchHistory.length)+" 次提交 ",1)]),_:2},1040)]),default:t(()=>[a(d,{dense:""},{default:t(()=>[(r(!0),i(m,null,h(n.branchHistory,e=>(r(),_(p,{key:e,title:e.commit_message,subtitle:`${e.commit_date} - #${e.author_id}`,active:e.id===n.currentCommitId,onClick:y=>u.navigateToCommit(e.id)},null,8,["title","subtitle","active","onClick"]))),128))]),_:1})]),_:1})])}const N=b(B,[["render",C]]);export{N as _};
