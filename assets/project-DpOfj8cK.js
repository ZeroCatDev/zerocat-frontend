import{av as p,aK as w,R as i,au as y,c as r,o,w as a,a as n,K as V,aI as _,H as c,O as g,ab as h}from"./index-KvBOkYOg.js";import{c as x}from"./projectService-Bwb405Na.js";import{a as f}from"./user-0eg1TJXV.js";import{V as v,a as C}from"./VRow-BkGKqcrg.js";import{V as I}from"./VAlert-5gJikUM3.js";import{V as j}from"./VContainer-BK5TGkno.js";/* empty css              */const T={__name:"project",setup(k){const m=p(),d=w(),l=i(!0),s=i(null);return y(async()=>{try{const t=m.query.id;if(!t)throw new Error("项目ID不能为空");const e=await x(t);if(!e)throw new Error("项目不存在");console.log(await f(e.authorid));const u=await f(e.authorid);if(!u)throw new Error("作者信息不存在");await d.push(`/${u.username}/${e.name}`)}catch(t){s.value=t.message||"加载失败"}finally{l.value=!1}}),(t,e)=>(o(),r(j,{class:"fill-height",fluid:""},{default:a(()=>[n(v,{align:"center",justify:"center"},{default:a(()=>[n(C,{cols:"12",sm:"8",md:"6"},{default:a(()=>[n(V,{class:"text-center pa-4"},{default:a(()=>[l.value?(o(),r(_,{key:0,indeterminate:"",color:"primary"})):s.value?(o(),r(I,{key:1,type:"error",text:""},{default:a(()=>[c(g(s.value),1)]),_:1})):(o(),r(h,{key:2},{default:a(()=>e[0]||(e[0]=[c(" 正在跳转到项目页面... ")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{T as default};
