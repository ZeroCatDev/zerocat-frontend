import{_ as Ee}from"./OAuthManager-ClUqGBzF.js";import{_ as Pe}from"./EmailManager-CrbkzBqQ.js";import{_ as Me,t as be,o as ye,w as l,j as Y,f as o,q as ze,k as x,K as we,v as xe,a9 as We,x as Se,a5 as Ve,ai as He,aj as A,C as Ne,a3 as qe,a4 as R,af as _,l as j,a6 as Ge,A as J,B as Xe}from"./index-CyPq4ETE.js";import"https://static.geetest.com/v4/gt4.js";import{u as Ke,a as Ye,b as Je,g as Ze,c as Qe}from"./accountService-ClW9XXL4.js";import{V as Ue}from"./VChip-BqlhC76P.js";import{V as M}from"./VForm-Bn22Yng1.js";import{V as z,a as V}from"./VRow-B3Cnl8IH.js";import{V as $e}from"./VTextarea-B61Aqdbp.js";import{V as et}from"./VSelect-W0T-5qaX.js";import{V as tt}from"./VFileInput-DxguXP52.js";import{V as at}from"./VContainer-DbVyv94s.js";import"./verifyEmail-BtHlQ9ss.js";import"./VAlert-5sLVsbQZ.js";import"./VSpacer-B9n8JsoH.js";/* empty css              */import"./VDialog-D578l-cK.js";import"./VCheckboxBtn-fH1NHwkn.js";import"./VSelectionControl-Vjk0rzA-.js";/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function Be(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,i)}return a}function W(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Be(Object(a),!0).forEach(function(i){nt(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Oe(i.key),i)}}function it(t,e,a){return e&&Te(t.prototype,e),a&&Te(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function nt(t,e,a){return e=Oe(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},S.apply(this,arguments)}function ot(t,e){if(typeof t!="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var i=a.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Oe(t){var e=ot(t,"string");return typeof e=="symbol"?e:String(e)}var Le={exports:{}};(function(t){typeof window>"u"||function(e){var a=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,i=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),r=i&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),s=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,m=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,f=(i||s)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(n){var d,c,h,y,v,u,w,p,T;if(d=n.match(m),!d)throw new Error("invalid data URI");for(c=d[2]?d[1]:"text/plain"+(d[3]||";charset=US-ASCII"),h=!!d[4],y=n.slice(d[0].length),h?v=atob(y):v=decodeURIComponent(y),u=new ArrayBuffer(v.length),w=new Uint8Array(u),p=0;p<v.length;p+=1)w[p]=v.charCodeAt(p);return i?new Blob([r?w:u],{type:c}):(T=new s,T.append(u),T.getBlob(c))};e.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(n,d,c){var h=this;setTimeout(function(){c&&a.toDataURL&&f?n(f(h.toDataURL(d,c))):n(h.mozGetAsFile("blob",d))})}:a.toDataURL&&f&&(a.msToBlob?a.toBlob=function(n,d,c){var h=this;setTimeout(function(){(d&&d!=="image/png"||c)&&a.toDataURL&&f?n(f(h.toDataURL(d,c))):n(h.msToBlob(d))})}:a.toBlob=function(n,d,c){var h=this;setTimeout(function(){n(f(h.toDataURL(d,c)))})})),t.exports?t.exports=f:e.dataURLtoBlob=f}(window)})(Le);var Ce=Le.exports,st=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},Ie={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},lt=typeof window<"u"&&typeof window.document<"u",U=lt?window:{},H=function(e){return e>0&&e<1/0},ut=Array.prototype.slice;function $(t){return Array.from?Array.from(t):ut.call(t)}var dt=/^image\/.+$/;function Q(t){return dt.test(t)}function ft(t){var e=Q(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var ke=String.fromCharCode;function mt(t,e,a){var i="",r;for(a+=e,r=e;r<a;r+=1)i+=ke(t.getUint8(r));return i}var ct=U.btoa;function Ae(t,e){for(var a=[],i=8192,r=new Uint8Array(t);r.length>0;)a.push(ke.apply(null,$(r.subarray(0,i)))),r=r.subarray(i);return"data:".concat(e,";base64,").concat(ct(a.join("")))}function ht(t){var e=new DataView(t),a;try{var i,r,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var m=e.byteLength,f=2;f+1<m;){if(e.getUint8(f)===255&&e.getUint8(f+1)===225){r=f;break}f+=1}if(r){var n=r+4,d=r+10;if(mt(e,n,4)==="Exif"){var c=e.getUint16(d);if(i=c===18761,(i||c===19789)&&e.getUint16(d+2,i)===42){var h=e.getUint32(d+4,i);h>=8&&(s=d+h)}}}if(s){var y=e.getUint16(s,i),v,u;for(u=0;u<y;u+=1)if(v=s+u*12+2,e.getUint16(v,i)===274){v+=8,a=e.getUint16(v,i),e.setUint16(v,1,i);break}}}catch{a=1}return a}function vt(t){var e=0,a=1,i=1;switch(t){case 2:a=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:a,scaleY:i}}var pt=/\.\d*(?:0|9){12}\d*$/;function Re(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return pt.test(t)?Math.round(t*e)/e:t}function F(t){var e=t.aspectRatio,a=t.height,i=t.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",s=H(i),m=H(a);if(s&&m){var f=a*e;(r==="contain"||r==="none")&&f>i||r==="cover"&&f<i?a=i/e:i=a*e}else s?a=i/e:m&&(i=a*e);return{width:i,height:a}}function gt(t){for(var e=$(new Uint8Array(t)),a=e.length,i=[],r=0;r+3<a;){var s=e[r],m=e[r+1];if(s===255&&m===218)break;if(s===255&&m===216)r+=2;else{var f=e[r+2]*256+e[r+3],n=r+f+2,d=e.slice(r,n);i.push(d),r=n}}return i.reduce(function(c,h){return h[0]===255&&h[1]===225?c.concat(h):c},[])}function bt(t,e){var a=$(new Uint8Array(t));if(a[2]!==255||a[3]!==224)return t;var i=a[4]*256+a[5],r=[255,216].concat(e,a.slice(4+i));return new Uint8Array(r)}var yt=U.ArrayBuffer,Z=U.FileReader,B=U.URL||U.webkitURL,wt=/\.\w+$/,xt=U.Compressor,Vt=function(){function t(e,a){rt(this,t),this.file=e,this.exif=[],this.image=new Image,this.options=W(W({},Ie),a),this.aborted=!1,this.result=null,this.init()}return it(t,[{key:"init",value:function(){var a=this,i=this.file,r=this.options;if(!st(i)){this.fail(new Error("The first argument must be a File or Blob object."));return}var s=i.type;if(!Q(s)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!B||!Z){this.fail(new Error("The current browser does not support image compression."));return}yt||(r.checkOrientation=!1,r.retainExif=!1);var m=s==="image/jpeg",f=m&&r.checkOrientation,n=m&&r.retainExif;if(B&&!f&&!n)this.load({url:B.createObjectURL(i)});else{var d=new Z;this.reader=d,d.onload=function(c){var h=c.target,y=h.result,v={},u=1;f&&(u=ht(y),u>1&&S(v,vt(u))),n&&(a.exif=gt(y)),f||n?!B||u>1?v.url=Ae(y,s):v.url=B.createObjectURL(i):v.url=y,a.load(v)},d.onabort=function(){a.fail(new Error("Aborted to read the image with FileReader."))},d.onerror=function(){a.fail(new Error("Failed to read the image with FileReader."))},d.onloadend=function(){a.reader=null},f||n?d.readAsArrayBuffer(i):d.readAsDataURL(i)}}},{key:"load",value:function(a){var i=this,r=this.file,s=this.image;s.onload=function(){i.draw(W(W({},a),{},{naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight}))},s.onabort=function(){i.fail(new Error("Aborted to load the image."))},s.onerror=function(){i.fail(new Error("Failed to load the image."))},U.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(U.navigator.userAgent)&&(s.crossOrigin="anonymous"),s.alt=r.name,s.src=a.url}},{key:"draw",value:function(a){var i=this,r=a.naturalWidth,s=a.naturalHeight,m=a.rotate,f=m===void 0?0:m,n=a.scaleX,d=n===void 0?1:n,c=a.scaleY,h=c===void 0?1:c,y=this.file,v=this.image,u=this.options,w=document.createElement("canvas"),p=w.getContext("2d"),T=Math.abs(f)%180===90,N=(u.resize==="contain"||u.resize==="cover")&&H(u.width)&&H(u.height),E=Math.max(u.maxWidth,0)||1/0,P=Math.max(u.maxHeight,0)||1/0,O=Math.max(u.minWidth,0)||0,L=Math.max(u.minHeight,0)||0,C=r/s,g=u.width,b=u.height;if(T){var ee=[P,E];E=ee[0],P=ee[1];var te=[L,O];O=te[0],L=te[1];var ae=[b,g];g=ae[0],b=ae[1]}N&&(C=g/b);var re=F({aspectRatio:C,width:E,height:P},"contain");E=re.width,P=re.height;var ie=F({aspectRatio:C,width:O,height:L},"cover");if(O=ie.width,L=ie.height,N){var ne=F({aspectRatio:C,width:g,height:b},u.resize);g=ne.width,b=ne.height}else{var oe=F({aspectRatio:C,width:g,height:b}),se=oe.width;g=se===void 0?r:se;var le=oe.height;b=le===void 0?s:le}g=Math.floor(Re(Math.min(Math.max(g,O),E))),b=Math.floor(Re(Math.min(Math.max(b,L),P)));var De=-g/2,Fe=-b/2,_e=g,je=b,q=[];if(N){var ue=0,de=0,G=r,X=s,fe=F({aspectRatio:C,width:r,height:s},{contain:"cover",cover:"contain"}[u.resize]);G=fe.width,X=fe.height,ue=(r-G)/2,de=(s-X)/2,q.push(ue,de,G,X)}if(q.push(De,Fe,_e,je),T){var me=[b,g];g=me[0],b=me[1]}w.width=g,w.height=b,Q(u.mimeType)||(u.mimeType=y.type);var ce="transparent";y.size>u.convertSize&&u.convertTypes.indexOf(u.mimeType)>=0&&(u.mimeType="image/jpeg");var he=u.mimeType==="image/jpeg";if(he&&(ce="#fff"),p.fillStyle=ce,p.fillRect(0,0,g,b),u.beforeDraw&&u.beforeDraw.call(this,p,w),!this.aborted&&(p.save(),p.translate(g/2,b/2),p.rotate(f*Math.PI/180),p.scale(d,h),p.drawImage.apply(p,[v].concat(q)),p.restore(),u.drew&&u.drew.call(this,p,w),!this.aborted)){var ve=function(k){if(!i.aborted){var pe=function(D){return i.done({naturalWidth:r,naturalHeight:s,result:D})};if(k&&he&&u.retainExif&&i.exif&&i.exif.length>0){var ge=function(D){return pe(Ce(Ae(bt(D,i.exif),u.mimeType)))};if(k.arrayBuffer)k.arrayBuffer().then(ge).catch(function(){i.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var I=new Z;i.reader=I,I.onload=function(K){var D=K.target;ge(D.result)},I.onabort=function(){i.fail(new Error("Aborted to read the compressed image with FileReader."))},I.onerror=function(){i.fail(new Error("Failed to read the compressed image with FileReader."))},I.onloadend=function(){i.reader=null},I.readAsArrayBuffer(k)}}else pe(k)}};w.toBlob?w.toBlob(ve,u.mimeType,u.quality):ve(Ce(w.toDataURL(u.mimeType,u.quality)))}}},{key:"done",value:function(a){var i=a.naturalWidth,r=a.naturalHeight,s=a.result,m=this.file,f=this.image,n=this.options;if(B&&f.src.indexOf("blob:")===0&&B.revokeObjectURL(f.src),s)if(n.strict&&!n.retainExif&&s.size>m.size&&n.mimeType===m.type&&!(n.width>i||n.height>r||n.minWidth>i||n.minHeight>r||n.maxWidth<i||n.maxHeight<r))s=m;else{var d=new Date;s.lastModified=d.getTime(),s.lastModifiedDate=d,s.name=m.name,s.name&&s.type!==m.type&&(s.name=s.name.replace(wt,ft(s.type)))}else s=m;this.result=s,n.success&&n.success.call(this,s)}},{key:"fail",value:function(a){var i=this.options;if(i.error)i.error.call(this,a);else throw a}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=xt,t}},{key:"setDefaults",value:function(a){S(Ie,a)}}]),t}();const Ut={components:{EmailManager:Pe,OAuthManager:Ee},data(){return{userCardLoading:!1,localuser:J,userInfo:{},tab:null,select:{state:"未知",abbr:"3"},items:[{state:"男",abbr:"0"},{state:"女",abbr:"1"},{state:"猫娘",abbr:"2"},{state:"未知",abbr:"3"}],valid:!1,nameRules:[t=>t?!0:"Name is required.",t=>(t==null?void 0:t.length)<=10?!0:"Name must be less than 10 characters.",t=>/^[a-z]+$/.test(t)?!0:"仅小写字母"],passwordRules:[t=>t?!0:"password is required.",t=>(t==null?void 0:t.length)<=10?!0:"Name must be less than 10 characters.",t=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&\.])[A-Za-z\d$@$!%*?&\.]{8,}/.test(t)?!0:"密码必须由数字、大小写字母和特殊字符组成，且长度至少为8位"],avatarrules:[t=>!t||!t.length||t[0].size<2e6||"Avatar size should be less than 2 MB!"],oldPassword:"",newPassword:"",passwordvalid:!1,usernamevalid:!1,useravatarfile:null,previewImage:null,avatarvalid:!1,VITE_APP_S3_BUCKET:"https://zerocat-bitiful.houlangs.com"}},setup(){Xe({title:"账户"})},async created(){J.isLogin.value?await this.getUserById():this.$router.push("/app/account/login")},methods:{onFileChange(t){const e=t.target.files?t.target.files[0]:null;e instanceof File&&e.type.startsWith("image/")?new Vt(e,{quality:.8,maxWidth:500,maxHeight:500,success:a=>{this.previewImage=URL.createObjectURL(a),this.useravatarfile=a},error:a=>{console.error("图片压缩出错：",a.message),this.$toast.add({severity:"error",summary:"错误",detail:a.message,life:3e3})}}):(console.error("请选择有效的图片文件"),this.$toast.add({severity:"error",summary:"错误",detail:"请选择有效的图片文件",life:3e3}))},async uploadAvatar(){const t=new FormData;t.append("zcfile",this.useravatarfile);try{const e=await Qe("",t);this.showToast(e.data.status||"info","修改头像",e.data.message)}catch(e){this.showToast("error","错误",e.message)}},async getUserById(){this.userCardLoading=!0;try{const t=await Ze(J.user.value.id);this.userInfo=t.data.info,console.log(this.userInfo),this.select=this.items.find(e=>e.abbr==this.userInfo.sex)}catch(t){this.showToast("error","错误",t.message)}finally{this.userCardLoading=!1}},async submit(){this.userCardLoading=!0;try{const t=await Je({display_name:this.userInfo.display_name,aboutme:this.userInfo.motto,sex:this.select.abbr});this.showToast(t.data.status||"info","修改个人信息",t.data.message),await this.getUserById()}catch(t){this.showToast("error","错误",t.message)}finally{this.userCardLoading=!1}},async changeusername(){this.userCardLoading=!0;try{const t=await Ye({username:this.userInfo.username});this.showToast(t.data.status||"info","修改用户名",t.data.message),await this.getUserById()}catch(t){this.showToast("error","错误",t.message)}finally{this.userCardLoading=!1}},async changepassword(){this.userCardLoading=!0;try{const t=await Ke({oldpw:this.oldPassword,newpw:this.newPassword});this.showToast(t.data.status||"info","修改密码",t.data.message),await this.getUserById()}catch(t){this.showToast("error","错误",t.message)}finally{this.userCardLoading=!1}},showToast(t,e,a){this.$toast.add({severity:t,summary:e,detail:a,life:3e3})}}},Bt={class:"mb-2"},Tt={class:"font-weight-black"},Ct={border:"",class:"d-flex flex-row"};function It(t,e,a,i,r,s){const m=Pe,f=Ee;return ye(),be(at,null,{default:l(()=>[Y("div",Bt,[o(ze,{hover:"",border:"",class:"mx-auto",variant:"",disabled:r.userCardLoading,loading:r.userCardLoading},{prepend:l(()=>[o(Se,{class:"mb-2"},{default:l(()=>[o(Ve,{alt:r.userInfo.display_name,src:r.VITE_APP_S3_BUCKET+"/user/"+r.userInfo.images},null,8,["alt","src"])]),_:1})]),title:l(()=>[Y("span",Tt,xe(r.userInfo.display_name),1)]),loader:l(({isActive:n})=>[o(We,{active:n,height:"4",indeterminate:""},null,8,["active"])]),subtitle:l(()=>[o(Ue,null,{default:l(()=>[o(we,{icon:"mdi-account-circle",start:""}),x(" ID:"+xe(r.userInfo.id),1)]),_:1}),o(Ue,null,{default:l(()=>[o(we,{icon:"mdi-tag",start:""}),e[12]||(e[12]=x(" 创作者 "))]),_:1})]),_:1},8,["disabled","loading"])]),Y("div",Ct,[o(He,{modelValue:r.tab,"onUpdate:modelValue":e[0]||(e[0]=n=>r.tab=n),direction:"vertical"},{default:l(()=>[o(A,{value:"userInfo","prepend-icon":"mdi-account-circle"},{default:l(()=>e[13]||(e[13]=[x("用户信息")])),_:1}),o(A,{value:"username","prepend-icon":"mdi-cog"},{default:l(()=>e[14]||(e[14]=[x("账户")])),_:1}),o(A,{value:"password","prepend-icon":"mdi-lock"},{default:l(()=>e[15]||(e[15]=[x("密码")])),_:1}),o(A,{value:"avatar","prepend-icon":"mdi-image"},{default:l(()=>e[16]||(e[16]=[x("头像")])),_:1}),o(A,{value:"email","prepend-icon":"mdi-email"},{default:l(()=>e[17]||(e[17]=[x("邮箱")])),_:1}),o(A,{value:"oauth","prepend-icon":"mdi-account-circle"},{default:l(()=>e[18]||(e[18]=[x("OAuth")])),_:1})]),_:1},8,["modelValue"]),o(Ne,null,{default:l(()=>[o(qe,{modelValue:r.tab,"onUpdate:modelValue":e[11]||(e[11]=n=>r.tab=n),direction:"horizontal"},{default:l(()=>[o(R,{value:"userInfo"},{default:l(()=>[o(M,{modelValue:r.valid,"onUpdate:modelValue":e[4]||(e[4]=n=>r.valid=n)},{default:l(()=>[o(z,null,{default:l(()=>[o(V,{cols:"12",md:"4"},{default:l(()=>[o(_,{modelValue:r.userInfo.display_name,"onUpdate:modelValue":e[1]||(e[1]=n=>r.userInfo.display_name=n),counter:10,label:"显示名称",required:""},null,8,["modelValue"])]),_:1}),o(V,{cols:"12",md:"12"},{default:l(()=>[o($e,{label:"显示简介",modelValue:r.userInfo.motto,"onUpdate:modelValue":e[2]||(e[2]=n=>r.userInfo.motto=n),counter:500},null,8,["modelValue"])]),_:1}),o(V,{cols:"12",md:"4"},{default:l(()=>[o(et,{modelValue:r.select,"onUpdate:modelValue":e[3]||(e[3]=n=>r.select=n),items:r.items,"item-title":"state","item-value":"abbr",label:"性别","persistent-hint":"","return-object":""},null,8,["modelValue","items"])]),_:1}),o(V,{cols:"12"},{default:l(()=>[o(j,{onClick:s.submit,disabled:!r.valid,color:"primary",class:"mt-4"},{default:l(()=>e[19]||(e[19]=[x("提交")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(R,{value:"username"},{default:l(()=>[o(M,{modelValue:r.usernamevalid,"onUpdate:modelValue":e[6]||(e[6]=n=>r.usernamevalid=n)},{default:l(()=>[o(z,null,{default:l(()=>[o(V,{cols:"12",md:"4"},{default:l(()=>[o(_,{modelValue:r.userInfo.username,"onUpdate:modelValue":e[5]||(e[5]=n=>r.userInfo.username=n),counter:10,rules:r.nameRules,label:"用户名",required:""},null,8,["modelValue","rules"])]),_:1}),o(V,{cols:"12"},{default:l(()=>[o(j,{onClick:s.changeusername,disabled:!r.usernamevalid,color:"primary",class:"mt-4"},{default:l(()=>e[20]||(e[20]=[x("提交")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(R,{value:"password"},{default:l(()=>[o(M,{modelValue:r.passwordvalid,"onUpdate:modelValue":e[9]||(e[9]=n=>r.passwordvalid=n)},{default:l(()=>[o(z,null,{default:l(()=>[o(V,{cols:"12",md:"8"},{default:l(()=>[o(_,{modelValue:r.oldPassword,"onUpdate:modelValue":e[7]||(e[7]=n=>r.oldPassword=n),hint:"此框不验证输入值",label:"原密码",required:""},null,8,["modelValue"])]),_:1}),o(V,{cols:"12",md:"8"},{default:l(()=>[o(_,{modelValue:r.newPassword,"onUpdate:modelValue":e[8]||(e[8]=n=>r.newPassword=n),rules:r.passwordRules,label:"新密码",required:""},null,8,["modelValue","rules"])]),_:1}),o(V,{cols:"12"},{default:l(()=>[o(j,{onClick:s.changepassword,disabled:!r.passwordvalid,color:"primary",class:"mt-4"},{default:l(()=>e[21]||(e[21]=[x("提交")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(R,{value:"avatar"},{default:l(()=>[o(M,{modelValue:r.avatarvalid,"onUpdate:modelValue":e[10]||(e[10]=n=>r.avatarvalid=n)},{default:l(()=>[o(z,null,{default:l(()=>[o(V,{cols:"12",md:"8"},{default:l(()=>[o(tt,{label:"上传头像",accept:"image/*",onChange:s.onFileChange,placeholder:"头像会被压缩","prepend-icon":"mdi-account-circle"},null,8,["onChange"]),r.previewImage?(ye(),be(Ve,{key:0,src:r.previewImage,"max-height":"200","max-width":"200"},null,8,["src"])):Ge("",!0)]),_:1}),o(V,{cols:"12"},{default:l(()=>[o(j,{onClick:s.uploadAvatar,disabled:!r.avatarvalid,color:"primary",class:"mt-4"},{default:l(()=>e[22]||(e[22]=[x("提交")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(R,{value:"email"},{default:l(()=>[o(m,{ref:"emailManager"},null,512)]),_:1}),o(R,{value:"oauth"},{default:l(()=>[o(f)]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})}const Kt=Me(Ut,[["render",It]]);export{Kt as default};
