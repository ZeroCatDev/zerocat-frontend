import{o as p}from"./openEdit-AJJkPSPH.js";import{_ as f,G as m,H as c,J as V,o as x,c as b,w as l,a as e,a8 as i,L as j,P as s,K as w,a5 as y,a7 as v,a4 as C,M as n}from"./index-DSbNGMh9.js";import{V as _,a as d}from"./VRow-D-QjZavc.js";import{V as h}from"./VSelect-CDHDo2UI.js";import{V as k}from"./VSpacer-D8Vfj1cJ.js";import{V as B}from"./VContainer-8bK6gos6.js";/* empty css              */import"./VCheckboxBtn-DEBZHevb.js";import"./VSelectionControl-opYrf2aQ.js";import"./VChip-wi47Qqt9.js";const g={setup(){m({title:"新建作品"})},data(){return{localuser:c,projectinfo:{title:"新建作品",type:"scratch"},created:!1,newid:0,openEdit:p}},async created(){this.localuser.islogin==!1&&this.$router.push("/app/account/login")},methods:{async newProject(){await V.post("/project/",this.projectinfo).then(a=>{console.log(a.data),this.$toast.add({severity:"info",summary:"info",detail:a.data,life:3e3}),a.data.status=="1"&&(this.created=!0,this.newid=a.data.id)})}}};function N(a,t,P,T,o,u){return x(),b(B,null,{default:l(()=>[e(s,{hover:"",border:"",title:"新建作品"},{default:l(()=>[e(i,null,{default:l(()=>t[4]||(t[4]=[j(" 作品是你存储代码的地方，你可以选择你喜欢的类型以从模板创建，作品信息可以随时修改。 ")])),_:1})]),_:1}),t[5]||(t[5]=w("br",null,null,-1)),e(s,{hover:"",border:""},{default:l(()=>[e(i,null,{default:l(()=>[e(_,{dense:""},{default:l(()=>[e(d,{cols:"12",md:"12",sm:"12"},{default:l(()=>[e(y,{label:"标题",required:"",hint:"将会在首页展示",modelValue:o.projectinfo.title,"onUpdate:modelValue":t[0]||(t[0]=r=>o.projectinfo.title=r)},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:l(()=>[e(h,{items:["scratch","python","text"],label:"类型",required:"",hint:"可以随时修改",modelValue:o.projectinfo.type,"onUpdate:modelValue":t[1]||(t[1]=r=>o.projectinfo.type=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v),e(C,null,{default:l(()=>[e(n,{text:"打开",variant:"plain",onClick:t[2]||(t[2]=r=>o.openEdit(o.newid,o.projectinfo.type)),disabled:!o.created},null,8,["disabled"]),e(k),e(n,{border:"",color:"primary",text:"创建",variant:"tonal",onClick:t[3]||(t[3]=r=>u.newProject()),disabled:o.created},null,8,["disabled"])]),_:1})]),_:1})]),_:1})}const J=f(g,[["render",N]]);export{J as default};
