import{cF as ht,c5 as bt,p as C,u as z,x as T,w as ye,cG as Ae,y as fe,av as U,cH as J,g as Q,a as ue,d as Z,bM as Te,f as p,e as w,aC as Ne,m as R,by as he,I as N,cI as xt,k as E,D as re,r as K,ay as St,cJ as pt,cK as Pt,cn as ee,cL as wt,cs as Re,A as kt,bw as O,cM as oe,cN as te,cO as It,ce as Dt,bA as Tt,bW as be,ch as Vt,F as q,cP as Ft,cQ as xe,J as Se,T as Ct,P as Ve,ci as se,C as Ot,cR as Bt,i as He,L as Fe,cS as ae,aI as le,U as Et,cT as ge,bT as me,cD as ne,aw as _t,bS as At,a5 as Nt}from"./index-CMux7lMK.js";import{V as Ce,m as Rt}from"./VTable-BJIe602E.js";import{u as Ht,m as $t}from"./filter-Cu8FspOp.js";function Oe(e,a,l){return Object.keys(e).filter(t=>ht(t)&&t.endsWith(a)).reduce((t,n)=>(t[n.slice(0,-a.length)]=r=>bt(e[n],r,l(r)),t),{})}const Gt=C({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),$e=Symbol.for("vuetify:data-table-pagination");function Lt(e){const a=z(e,"page",void 0,t=>Number(t??1)),l=z(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:a,itemsPerPage:l}}function Mt(e){const{page:a,itemsPerPage:l,itemsLength:t}=e,n=T(()=>l.value===-1?0:l.value*(a.value-1)),r=T(()=>l.value===-1?t.value:Math.min(t.value,n.value+l.value)),o=T(()=>l.value===-1||t.value===0?1:Math.ceil(t.value/l.value));ye([a,o],()=>{a.value>o.value&&(a.value=o.value)});function d(g){l.value=g,a.value=1}function u(){a.value=fe(a.value+1,1,o.value)}function i(){a.value=fe(a.value-1,1,o.value)}function f(g){a.value=fe(g,1,o.value)}const m={page:a,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:o,itemsLength:t,nextPage:u,prevPage:i,setPage:f,setItemsPerPage:d};return J($e,m),m}function jt(){const e=U($e);if(!e)throw new Error("Missing pagination!");return e}function Wt(e){const a=Ae("usePaginatedItems"),{items:l,startIndex:t,stopIndex:n,itemsPerPage:r}=e,o=T(()=>r.value<=0?l.value:l.value.slice(t.value,n.value));return ye(o,d=>{a.emit("update:currentItems",d)},{immediate:!0}),{paginatedItems:o}}const Ge=C({color:String,prevIcon:{type:N,default:"$prev"},nextIcon:{type:N,default:"$next"},firstIcon:{type:N,default:"$first"},lastIcon:{type:N,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Be=Q()({name:"VDataTableFooter",props:Ge(),setup(e,a){let{slots:l}=a;const{t}=ue(),{page:n,pageCount:r,startIndex:o,stopIndex:d,itemsLength:u,itemsPerPage:i,setItemsPerPage:f}=jt(),m=T(()=>e.itemsPerPageOptions.map(g=>typeof g=="number"?{value:g,title:g===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(g)}:{...g,title:isNaN(Number(g.title))?t(g.title):g.title}));return Z(()=>{var S;const g=Te.filterProps(e);return p("div",{class:"v-data-table-footer"},[(S=l.prepend)==null?void 0:S.call(l),p("div",{class:"v-data-table-footer__items-per-page"},[p("span",null,[t(e.itemsPerPageText)]),w(Ne,{items:m.value,itemColor:e.color,modelValue:i.value,"onUpdate:modelValue":h=>f(Number(h)),density:"compact",variant:"outlined","aria-label":t(e.itemsPerPageText),hideDetails:!0},null)]),p("div",{class:"v-data-table-footer__info"},[p("div",null,[t(e.pageText,u.value?o.value+1:0,d.value,u.value)])]),p("div",{class:"v-data-table-footer__pagination"},[w(Te,R({modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},he(g,["color"])),null)])])}),{}}}),Y=xt({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,a)=>{let{slots:l}=a;const t=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return w(t,{class:re(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:E(e.height),width:E(e.width),maxWidth:E(e.maxWidth),left:n==="start"?E(e.fixedOffset||null):void 0,right:n==="end"?E(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?E(e.indent):void 0}},{default:()=>{var r;return[(r=l.default)==null?void 0:r.call(l)]}})}),Kt=C({headers:Array},"DataTable-header"),Le=Symbol.for("vuetify:data-table-headers"),Me={title:"",sortable:!1},zt={...Me,width:48};function qt(){const a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,t)=>{let n=!1;for(let r=0;r<a.length;r++)if(a[r].priority>t){a.splice(r,0,{element:l,priority:t}),n=!0;break}n||a.push({element:l,priority:t})},size:()=>a.length,count:()=>{let l=0;if(!a.length)return 0;const t=Math.floor(a[0].priority);for(let n=0;n<a.length;n++)Math.floor(a[n].priority)===t&&(l+=1);return l},dequeue:()=>a.shift()}}function ve(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)a.push(e);else for(const l of e.children)ve(l,a);return a}function je(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&a.add(l.key),l.children&&je(l.children,a);return a}function Ut(e){if(e.key){if(e.key==="data-table-group")return Me;if(["data-table-expand","data-table-select"].includes(e.key))return zt}}function pe(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(a,...e.children.map(l=>pe(l,a+1))):a}function Jt(e){let a=!1;function l(r,o){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(d!=="none"&&(r.fixed=d),r.fixed===!0&&(r.fixed="start"),r.fixed===o)if(r.children)if(o==="start")for(let u=r.children.length-1;u>=0;u--)l(r.children[u],o,o);else for(let u=0;u<r.children.length;u++)l(r.children[u],o,o);else!a&&o==="start"?r.lastFixed=!0:!a&&o==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?Pt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),a=!0;else if(r.children)if(o==="start")for(let u=r.children.length-1;u>=0;u--)l(r.children[u],o);else for(let u=0;u<r.children.length;u++)l(r.children[u],o);else a=!1}for(let r=e.length-1;r>=0;r--)l(e[r],"start");for(let r=0;r<e.length;r++)l(e[r],"end");let t=0;for(let r=0;r<e.length;r++)t=We(e[r],t);let n=0;for(let r=e.length-1;r>=0;r--)n=Ke(e[r],n)}function We(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return a;if(e.children){e.fixedOffset=a;for(const l of e.children)a=We(l,a)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=a,a+=parseFloat(e.width||"0")||0);return a}function Ke(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return a;if(e.children){e.fixedEndOffset=a;for(const l of e.children)a=Ke(l,a)}else e.fixed==="end"&&(e.fixedEndOffset=a,a+=parseFloat(e.width||"0")||0);return a}function Qt(e,a){const l=[];let t=0;const n=qt(e);for(;n.size()>0;){let o=n.count();const d=[];let u=1;for(;o>0;){const{element:i,priority:f}=n.dequeue(),m=a-t-pe(i);if(d.push({...i,rowspan:m??1,colspan:i.children?ve(i).length:1}),i.children)for(const g of i.children){const S=f%1+u/Math.pow(10,t+2);n.enqueue(g,t+m+S)}u+=1,o-=1}t+=1,l.push(d)}return{columns:e.map(o=>ve(o)).flat(),headers:l}}function ze(e){const a=[];for(const l of e){const t={...Ut(l),...l},n=t.key??(typeof t.value=="string"?t.value:null),r=t.value??n??null,o={...t,key:n,value:r,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?ze(t.children):void 0};a.push(o)}return a}function Xt(e,a){const l=K([]),t=K([]),n=K({}),r=K({}),o=K({});St(()=>{var y,c,x;const i=(e.headers||Object.keys(e.items[0]??{}).map(s=>({key:s,title:pt(s)}))).slice(),f=je(i);(y=a==null?void 0:a.groupBy)!=null&&y.value.length&&!f.has("data-table-group")&&i.unshift({key:"data-table-group",title:"Group"}),(c=a==null?void 0:a.showSelect)!=null&&c.value&&!f.has("data-table-select")&&i.unshift({key:"data-table-select"}),(x=a==null?void 0:a.showExpand)!=null&&x.value&&!f.has("data-table-expand")&&i.push({key:"data-table-expand"});const m=ze(i);Jt(m);const g=Math.max(...m.map(s=>pe(s)))+1,S=Qt(m,g);l.value=S.headers,t.value=S.columns;const h=S.headers.flat(1);for(const s of h)s.key&&(s.sortable&&(s.sort&&(n.value[s.key]=s.sort),s.sortRaw&&(r.value[s.key]=s.sortRaw)),s.filter&&(o.value[s.key]=s.filter))});const d={headers:l,columns:t,sortFunctions:n,sortRawFunctions:r,filterFunctions:o};return J(Le,d),d}function ie(){const e=U(Le);if(!e)throw new Error("Missing headers!");return e}const Yt={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:a,value:l}=e;return new Set(l?[(t=a[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:a}=e;return a}},qe={showSelectAll:!0,allSelected:e=>{let{currentPage:a}=e;return a},select:e=>{let{items:a,value:l,selected:t}=e;for(const n of a)l?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:a,currentPage:l,selected:t}=e;return qe.select({items:l,value:a,selected:t})}},Zt={showSelectAll:!0,allSelected:e=>{let{allItems:a}=e;return a},select:e=>{let{items:a,value:l,selected:t}=e;for(const n of a)l?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:a,allItems:l}=e;return new Set(a?l.map(t=>t.value):[])}},ea=C({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:Function},"DataTable-select"),Ue=Symbol.for("vuetify:data-table-selection");function ta(e,a){let{allItems:l,currentPage:t}=a;const n=z(e,"modelValue",e.modelValue,s=>{const b=e.valueComparator;return b?new Set(ee(s).map(I=>{var P;return((P=l.value.find(V=>b(I,V.value)))==null?void 0:P.value)??I})):new Set(ee(s).map(I=>{var P,V;return wt(I)?((P=l.value.find(F=>I===F.value))==null?void 0:P.value)??I:((V=l.value.find(F=>Re(I,F.value)))==null?void 0:V.value)??I}))},s=>[...s.values()]),r=T(()=>l.value.filter(s=>s.selectable)),o=T(()=>t.value.filter(s=>s.selectable)),d=T(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Yt;case"all":return Zt;case"page":default:return qe}}),u=kt(null);function i(s){return ee(s).every(b=>n.value.has(b.value))}function f(s){return ee(s).some(b=>n.value.has(b.value))}function m(s,b){const I=d.value.select({items:s,value:b,selected:new Set(n.value)});n.value=I}function g(s,b,I){const P=[];if(b=b??t.value.findIndex(V=>V.value===s.value),e.selectStrategy!=="single"&&(I!=null&&I.shiftKey)&&u.value!==null){const[V,F]=[u.value,b].sort((H,D)=>H-D);P.push(...t.value.slice(V,F+1).filter(H=>H.selectable))}else P.push(s),u.value=b;m(P,!i([s]))}function S(s){const b=d.value.selectAll({value:s,allItems:r.value,currentPage:o.value,selected:new Set(n.value)});n.value=b}const h=T(()=>n.value.size>0),y=T(()=>{const s=d.value.allSelected({allItems:r.value,currentPage:o.value});return!!s.length&&i(s)}),c=O(()=>d.value.showSelectAll),x={toggleSelect:g,select:m,selectAll:S,isSelected:i,isSomeSelected:f,someSelected:h,allSelected:y,showSelectAll:c,lastSelectedIndex:u,selectStrategy:d};return J(Ue,x),x}function de(){const e=U(Ue);if(!e)throw new Error("Missing selection!");return e}const aa=C({initialSortOrder:{type:String,default:"asc",validator:e=>!e||["asc","desc"].includes(e)},sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:{type:[Boolean,Object],default:!1},mustSort:Boolean},"DataTable-sort"),Je=Symbol.for("vuetify:data-table-sort");function la(e){const a=O(()=>e.initialSortOrder),l=z(e,"sortBy"),t=O(()=>e.mustSort),n=O(()=>e.multiSort);return{initialSortOrder:a,sortBy:l,multiSort:n,mustSort:t}}function na(e,a){if(!It(e))return{active:!!e};const{key:l,mode:t,modifier:n}=e,r=n==="alt"&&(a==null?void 0:a.altKey)||n==="shift"&&(a==null?void 0:a.shiftKey);return{active:!l||(a==null?void 0:a.ctrlKey)||(a==null?void 0:a.metaKey)||!1,mode:r?t==="append"?"prepend":"append":t}}function ra(e){const{initialSortOrder:a,sortBy:l,mustSort:t,multiSort:n,page:r}=e,o=(i,f)=>{if(i.key==null)return;let m=l.value.map(y=>({...y}))??[];const g=m.find(y=>y.key===i.key),S=a.value,h=a.value==="desc"?"asc":"desc";if(g)g.order===h?t.value&&m.length===1?g.order=a.value:m=m.filter(y=>y.key!==i.key):g.order=h;else{const{active:y,mode:c}=na(n.value,f);y?c==="prepend"?m.unshift({key:i.key,order:S}):m.push({key:i.key,order:S}):m=[{key:i.key,order:S}]}l.value=m,r&&(r.value=1)};function d(i){return!!l.value.find(f=>f.key===i.key)}const u={sortBy:l,toggleSort:o,isSorted:d};return J(Je,u),u}function Qe(){const e=U(Je);if(!e)throw new Error("Missing sort!");return e}function oa(e,a,l,t){const n=ue();return{sortedItems:T(()=>{var o,d;return l.value.length?sa(a.value,l.value,n.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(o=t==null?void 0:t.sortFunctions)==null?void 0:o.value},sortRawFunctions:(d=t==null?void 0:t.sortRawFunctions)==null?void 0:d.value}):a.value})}}function sa(e,a,l,t){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,t!=null&&t.transform?t.transform(o):o]).sort((o,d)=>{var u,i;for(let f=0;f<a.length;f++){let m=!1;const g=a[f].key,S=a[f].order??"asc";if(S===!1)continue;let h=oe(o[1],g),y=oe(d[1],g),c=o[0].raw,x=d[0].raw;if(S==="desc"&&([h,y]=[y,h],[c,x]=[x,c]),(u=t==null?void 0:t.sortRawFunctions)!=null&&u[g]){const s=t.sortRawFunctions[g](c,x);if(s==null)continue;if(m=!0,s)return s}if((i=t==null?void 0:t.sortFunctions)!=null&&i[g]){const s=t.sortFunctions[g](h,y);if(s==null)continue;if(m=!0,s)return s}if(!m&&(h instanceof Date&&y instanceof Date&&(h=h.getTime(),y=y.getTime()),[h,y]=[h,y].map(s=>s!=null?s.toString().toLocaleLowerCase():s),h!==y))return te(h)&&te(y)?0:te(h)?-1:te(y)?1:!isNaN(h)&&!isNaN(y)?Number(h)-Number(y):n.compare(h,y)}return 0}).map(o=>{let[d]=o;return d})}const Xe=C({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,initialSortOrder:String,sortAscIcon:{type:N,default:"$sortAsc"},sortDescIcon:{type:N,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Se(),...xe(),...Ft()},"VDataTableHeaders"),Ee=Q()({name:"VDataTableHeaders",props:Xe(),setup(e,a){let{slots:l}=a;const{t}=ue(),{toggleSort:n,sortBy:r,isSorted:o}=Qe(),{someSelected:d,allSelected:u,selectAll:i,showSelectAll:f}=de(),{columns:m,headers:g}=ie(),{loaderClasses:S}=Dt(e);function h(D,v){if(!(e.sticky||e.fixedHeader)&&!D.fixed)return;const k=typeof D.fixed=="string"?D.fixed:D.fixed?"start":"none";return{position:"sticky",left:k==="start"?E(D.fixedOffset):void 0,right:k==="end"?E(D.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${v})`:void 0}}function y(D,v){D.key==="Enter"&&!e.disableSort&&n(v,D)}function c(D){const v=r.value.find(k=>k.key===D.key);return!v&&e.initialSortOrder==="asc"||(v==null?void 0:v.order)==="asc"?e.sortAscIcon:e.sortDescIcon}const{backgroundColorClasses:x,backgroundColorStyles:s}=Tt(()=>e.color),{displayClasses:b,mobile:I}=be(e),P=T(()=>({headers:g.value,columns:m.value,toggleSort:n,isSorted:o,sortBy:r.value,someSelected:d.value,allSelected:u.value,selectAll:i,getSortIcon:c})),V=T(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},b.value,S.value]),F=D=>{let{column:v,x:k,y:B}=D;const $=v.key==="data-table-select"||v.key==="data-table-expand",L=v.key==="data-table-group"&&v.width===0&&!v.title,M=R(e.headerProps??{},v.headerProps??{});return w(Y,R({tag:"th",align:v.align,class:[{"v-data-table__th--sortable":v.sortable&&!e.disableSort,"v-data-table__th--sorted":o(v),"v-data-table__th--fixed":v.fixed},...V.value],style:{width:E(v.width),minWidth:E(v.minWidth),maxWidth:E(v.maxWidth),...h(v,B)},colspan:v.colspan,rowspan:v.rowspan,fixed:v.fixed,nowrap:v.nowrap,lastFixed:v.lastFixed,firstFixedEnd:v.firstFixedEnd,noPadding:$,empty:L,tabindex:v.sortable?0:void 0,onClick:v.sortable?_=>n(v,_):void 0,onKeydown:v.sortable?_=>y(_,v):void 0},M),{default:()=>{var W;const _=`header.${v.key}`,j={column:v,selectAll:i,isSorted:o,toggleSort:n,sortBy:r.value,someSelected:d.value,allSelected:u.value,getSortIcon:c};return l[_]?l[_](j):L?"":v.key==="data-table-select"?((W=l["header.data-table-select"])==null?void 0:W.call(l,j))??(f.value&&w(se,{color:e.color,density:e.density,modelValue:u.value,indeterminate:d.value&&!u.value,"onUpdate:modelValue":i},null)):p("div",{class:"v-data-table-header__content"},[p("span",null,[v.title]),v.sortable&&!e.disableSort&&w(Ve,{key:"icon",class:"v-data-table-header__sort-icon",icon:c(v)},null),e.multiSort&&o(v)&&p("div",{key:"badge",class:re(["v-data-table-header__sort-badge",...x.value]),style:Ot(s.value)},[r.value.findIndex(ce=>ce.key===v.key)+1])])}})},H=()=>{const D=T(()=>m.value.filter(k=>(k==null?void 0:k.sortable)&&!e.disableSort)),v=m.value.find(k=>k.key==="data-table-select");return w(Y,R({tag:"th",class:[...V.value],colspan:g.value.length+1},e.headerProps),{default:()=>[p("div",{class:"v-data-table-header__content"},[w(Ne,{chips:!0,color:e.color,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:D.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[]},{append:v?()=>w(se,{color:e.color,density:"compact",modelValue:u.value,indeterminate:d.value&&!u.value,"onUpdate:modelValue":()=>i(!u.value)},null):void 0,chip:k=>{var B;return w(Ct,{onClick:(B=k.item.raw)!=null&&B.sortable?()=>n(k.item.raw):void 0,onMousedown:$=>{$.preventDefault(),$.stopPropagation()}},{default:()=>[k.item.title,w(Ve,{class:re(["v-data-table__td-sort-icon",o(k.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:c(k.item.raw),size:"small"},null)]})}})])]})};Z(()=>I.value?p("tr",null,[w(H,null,null)]):p(q,null,[l.headers?l.headers(P.value):g.value.map((D,v)=>p("tr",null,[D.map((k,B)=>w(F,{column:k,x:B,y:v},null))])),e.loading&&p("tr",{class:"v-data-table-progress"},[p("th",{colspan:m.value.length},[w(Vt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"||e.loading==="true"?e.color:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),ua=C({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ye=Symbol.for("vuetify:data-table-group");function ia(e){return{groupBy:z(e,"groupBy")}}function da(e){const{disableSort:a,groupBy:l,sortBy:t}=e,n=K(new Set),r=T(()=>l.value.map(f=>({...f,order:f.order??!1})).concat(a!=null&&a.value?[]:t.value));function o(f){return n.value.has(f.id)}function d(f){const m=new Set(n.value);o(f)?m.delete(f.id):m.add(f.id),n.value=m}function u(f){function m(g){const S=[];for(const h of g.items)"type"in h&&h.type==="group"?S.push(...m(h)):S.push(h);return[...new Set(S)]}return m({items:f})}const i={sortByWithGroups:r,toggleGroup:d,opened:n,groupBy:l,extractRows:u,isGroupOpen:o};return J(Ye,i),i}function Ze(){const e=U(Ye);if(!e)throw new Error("Missing group!");return e}function ca(e,a){if(!e.length)return[];const l=new Map;for(const t of e){const n=oe(t.raw,a);l.has(n)||l.set(n,[]),l.get(n).push(t)}return l}function et(e,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!a.length)return[];const n=ca(e,a[0]),r=[],o=a.slice(1);return n.forEach((d,u)=>{const i=a[0],f=`${t}_${i}_${u}`;r.push({depth:l,id:f,key:i,value:u,items:o.length?et(d,o,l+1,f):d,type:"group"})}),r}function tt(e,a,l){const t=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&t.push(n),(a.has(n.id)||n.value==null)&&(t.push(...tt(n.items,a,l)),l&&t.push({...n,type:"group-summary"}))):t.push(n);return t}function fa(e,a,l,t){return{flatItems:T(()=>{if(!a.value.length)return e.value;const r=et(e.value,a.value.map(o=>o.key));return tt(r,l.value,Bt(t))})}}const at=C({item:{type:Object,required:!0},groupCollapseIcon:{type:N,default:"$tableGroupCollapse"},groupExpandIcon:{type:N,default:"$tableGroupExpand"},...Se()},"VDataTableGroupHeaderRow"),ga=Q()({name:"VDataTableGroupHeaderRow",props:at(),setup(e,a){let{slots:l}=a;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=Ze(),{isSelected:o,isSomeSelected:d,select:u}=de(),{columns:i}=ie(),f=T(()=>r([e.item])),m=O(()=>i.value.length-(i.value.some(g=>g.key==="data-table-select")?1:0));return()=>p("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(g=>{var S,h;if(g.key==="data-table-group"){const y=t(e.item)?e.groupCollapseIcon:e.groupExpandIcon,c=()=>n(e.item);return((S=l["data-table-group"])==null?void 0:S.call(l,{item:e.item,count:f.value.length,props:{icon:y,onClick:c}}))??w(Y,{class:"v-data-table-group-header-row__column",colspan:m.value},{default:()=>[w(He,{size:"small",variant:"text",icon:y,onClick:c},null),p("span",null,[e.item.value]),p("span",null,[Fe("("),f.value.length,Fe(")")])]})}else if(g.key==="data-table-select"){const y=f.value.filter(b=>b.selectable),c=y.length>0&&o(y),x=d(y)&&!c,s=b=>u(y,b);return((h=l["data-table-select"])==null?void 0:h.call(l,{props:{modelValue:c,indeterminate:x,"onUpdate:modelValue":s}}))??w(Y,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[w(se,{density:e.density,disabled:y.length===0,modelValue:c,indeterminate:x,"onUpdate:modelValue":s},null)]})}return""})])}}),ma=C({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),lt=Symbol.for("vuetify:datatable:expanded");function va(e){const a=O(()=>e.expandOnClick),l=z(e,"expanded",e.expanded,d=>new Set(d),d=>[...d.values()]);function t(d,u){const i=new Set(l.value),f=ae(d.value);if(u)i.add(f);else{const m=[...l.value].find(g=>ae(g)===f);i.delete(m)}l.value=i}function n(d){const u=ae(d.value);return[...l.value].some(i=>ae(i)===u)}function r(d){t(d,!n(d))}const o={expand:t,expanded:l,expandOnClick:a,isExpanded:n,toggleExpand:r};return J(lt,o),o}function nt(){const e=U(lt);if(!e)throw new Error("foo");return e}const rt=C({color:String,index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:N,default:"$collapse"},expandIcon:{type:N,default:"$expand"},onClick:ge(),onContextmenu:ge(),onDblclick:ge(),...Se(),...xe()},"VDataTableRow"),ya=Q()({name:"VDataTableRow",props:rt(),setup(e,a){let{slots:l}=a;const{displayClasses:t,mobile:n}=be(e,"v-data-table__tr"),{isSelected:r,toggleSelect:o,someSelected:d,allSelected:u,selectAll:i}=de(),{isExpanded:f,toggleExpand:m}=nt(),{toggleSort:g,sortBy:S,isSorted:h}=Qe(),{columns:y}=ie();Z(()=>p("tr",{class:re(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((c,x)=>{const s=e.item,b=`item.${c.key}`,I=`header.${c.key}`,P={index:e.index,item:s.raw,internalItem:s,value:oe(s.columns,c.key),column:c,isSelected:r,toggleSelect:o,isExpanded:f,toggleExpand:m},V={column:c,selectAll:i,isSorted:h,toggleSort:g,sortBy:S.value,someSelected:d.value,allSelected:u.value,getSortIcon:()=>""},F=typeof e.cellProps=="function"?e.cellProps({index:P.index,item:P.item,internalItem:P.internalItem,value:P.value,column:c}):e.cellProps,H=typeof c.cellProps=="function"?c.cellProps({index:P.index,item:P.item,internalItem:P.internalItem,value:P.value}):c.cellProps,D=c.key==="data-table-select"||c.key==="data-table-expand",v=c.key==="data-table-group"&&c.width===0&&!c.title;return w(Y,R({align:c.align,indent:c.indent,class:{"v-data-table__td--expanded-row":c.key==="data-table-expand","v-data-table__td--select-row":c.key==="data-table-select"},fixed:c.fixed,fixedOffset:c.fixedOffset,fixedEndOffset:c.fixedEndOffset,lastFixed:c.lastFixed,firstFixedEnd:c.firstFixedEnd,maxWidth:n.value?void 0:c.maxWidth,noPadding:D,empty:v,nowrap:c.nowrap,width:n.value?void 0:c.width},F,H),{default:()=>{var B,$,L,M;if(c.key==="data-table-select")return((B=l["item.data-table-select"])==null?void 0:B.call(l,{...P,props:{color:e.color,disabled:!s.selectable,modelValue:r([s]),onClick:le(()=>o(s),["stop"])}}))??w(se,{color:e.color,disabled:!s.selectable,density:e.density,modelValue:r([s]),onClick:le(_=>o(s,e.index,_),["stop"])},null);if(c.key==="data-table-expand")return(($=l["item.data-table-expand"])==null?void 0:$.call(l,{...P,props:{icon:f(s)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:le(()=>m(s),["stop"])}}))??w(He,{icon:f(s)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:le(()=>m(s),["stop"])},null);if(l[b]&&!n.value)return l[b](P);const k=Et(P.value);return n.value?p(q,null,[p("div",{class:"v-data-table__td-title"},[((L=l[I])==null?void 0:L.call(l,V))??c.title]),p("div",{class:"v-data-table__td-value"},[((M=l[b])==null?void 0:M.call(l,P))??k])]):k}})})]))}}),ot=C({color:String,loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...me(rt(),["collapseIcon","expandIcon","density"]),...me(at(),["groupCollapseIcon","groupExpandIcon","density"]),...xe()},"VDataTableRows"),_e=Q()({name:"VDataTableRows",inheritAttrs:!1,props:ot(),setup(e,a){let{attrs:l,slots:t}=a;const{columns:n}=ie(),{expandOnClick:r,toggleExpand:o,isExpanded:d}=nt(),{isSelected:u,toggleSelect:i}=de(),{toggleGroup:f,isGroupOpen:m}=Ze(),{t:g}=ue(),{mobile:S}=be(e);return Z(()=>{var y,c;const h=me(e,["groupCollapseIcon","groupExpandIcon","density"]);return e.loading&&(!e.items.length||t.loading)?p("tr",{class:"v-data-table-rows-loading",key:"loading"},[p("td",{colspan:n.value.length},[((y=t.loading)==null?void 0:y.call(t))??g(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?p("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[p("td",{colspan:n.value.length},[((c=t["no-data"])==null?void 0:c.call(t))??g(e.noDataText)])]):p(q,null,[e.items.map((x,s)=>{var P,V;if(x.type==="group"){const F={index:s,item:x,columns:n.value,isExpanded:d,toggleExpand:o,isSelected:u,toggleSelect:i,toggleGroup:f,isGroupOpen:m};return t["group-header"]?t["group-header"](F):w(ga,R({key:`group-header_${x.id}`,item:x},Oe(l,":groupHeader",()=>F),h),t)}if(x.type==="group-summary"){const F={index:s,item:x,columns:n.value,toggleGroup:f};return((P=t["group-summary"])==null?void 0:P.call(t,F))??""}const b={index:x.virtualIndex??s,item:x.raw,internalItem:x,columns:n.value,isExpanded:d,toggleExpand:o,isSelected:u,toggleSelect:i},I={...b,props:R({key:`item_${x.key??x.index}`,onClick:r.value?()=>{o(x)}:void 0,index:s,item:x,color:e.color,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:S.value},Oe(l,":row",()=>b),typeof e.rowProps=="function"?e.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):e.rowProps)};return p(q,{key:I.props.key},[t.item?t.item(I):w(ya,I.props,t),d(x)&&((V=t["expanded-row"])==null?void 0:V.call(t,b))])})])}),{}}}),ha=C({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function ba(e,a,l,t){const n=e.returnObject?a:ne(a,e.itemValue),r=ne(a,e.itemSelectable,!0),o=t.reduce((d,u)=>(u.key!=null&&(d[u.key]=ne(a,u.value)),d),{});return{type:"item",key:e.returnObject?ne(a,e.itemValue):n,index:l,value:n,selectable:r,columns:o,raw:a}}function xa(e,a,l){return a.map((t,n)=>ba(e,t,n,l))}function Sa(e,a){return{items:T(()=>xa(e,e.items,a.value))}}function pa(e){let{page:a,itemsPerPage:l,sortBy:t,groupBy:n,search:r}=e;const o=Ae("VDataTable"),d=()=>({page:a.value,itemsPerPage:l.value,sortBy:t.value,groupBy:n.value,search:r.value});let u=null;ye(d,i=>{Re(u,i)||(u&&u.search!==i.search&&(a.value=1),o.emit("update:options",i),u=i)},{deep:!0,immediate:!0})}const Pa=C({...ot(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...ma(),...ua(),...Kt(),...ha(),...ea(),...aa(),...he(Xe(),["multiSort","initialSortOrder"]),...Rt()},"DataTable"),wa=C({...Gt(),...Pa(),...$t(),...Ge()},"VDataTable"),Ta=Q()({name:"VDataTable",props:wa(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,a){let{attrs:l,slots:t}=a;const{groupBy:n}=ia(e),{initialSortOrder:r,sortBy:o,multiSort:d,mustSort:u}=la(e),{page:i,itemsPerPage:f}=Lt(e),{disableSort:m}=_t(e),{columns:g,headers:S,sortFunctions:h,sortRawFunctions:y,filterFunctions:c}=Xt(e,{groupBy:n,showSelect:O(()=>e.showSelect),showExpand:O(()=>e.showExpand)}),{items:x}=Sa(e,g),s=O(()=>e.search),{filteredItems:b}=Ht(e,x,s,{transform:G=>G.columns,customKeyFilter:c}),{toggleSort:I}=ra({initialSortOrder:r,sortBy:o,multiSort:d,mustSort:u,page:i}),{sortByWithGroups:P,opened:V,extractRows:F,isGroupOpen:H,toggleGroup:D}=da({groupBy:n,sortBy:o,disableSort:m}),{sortedItems:v}=oa(e,b,P,{transform:G=>({...G.raw,...G.columns}),sortFunctions:h,sortRawFunctions:y}),{flatItems:k}=fa(v,n,V,()=>!!t["group-summary"]),B=T(()=>k.value.length),{startIndex:$,stopIndex:L,pageCount:M,setItemsPerPage:_}=Mt({page:i,itemsPerPage:f,itemsLength:B}),{paginatedItems:j}=Wt({items:k,startIndex:$,stopIndex:L,itemsPerPage:f}),W=T(()=>F(j.value)),{isSelected:ce,select:st,selectAll:ut,toggleSelect:it,someSelected:dt,allSelected:ct}=ta(e,{allItems:x,currentPage:W}),{isExpanded:ft,toggleExpand:gt}=va(e);pa({page:i,itemsPerPage:f,sortBy:o,groupBy:n,search:s}),At({VDataTableRows:{hideNoData:O(()=>e.hideNoData),noDataText:O(()=>e.noDataText),loading:O(()=>e.loading),loadingText:O(()=>e.loadingText)}});const A=T(()=>({page:i.value,itemsPerPage:f.value,sortBy:o.value,pageCount:M.value,toggleSort:I,setItemsPerPage:_,someSelected:dt.value,allSelected:ct.value,isSelected:ce,select:st,selectAll:ut,toggleSelect:it,isExpanded:ft,toggleExpand:gt,isGroupOpen:H,toggleGroup:D,items:W.value.map(G=>G.raw),internalItems:W.value,groupedItems:j.value,columns:g.value,headers:S.value}));return Z(()=>{const G=Be.filterProps(e),mt=Ee.filterProps(he(e,["multiSort"])),vt=_e.filterProps(e),yt=Ce.filterProps(e);return w(Ce,R({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},yt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var X;return(X=t.top)==null?void 0:X.call(t,A.value)},default:()=>{var X,Pe,we,ke,Ie,De;return t.default?t.default(A.value):p(q,null,[(X=t.colgroup)==null?void 0:X.call(t,A.value),!e.hideDefaultHeader&&p("thead",{key:"thead"},[w(Ee,R(mt,{multiSort:!!e.multiSort}),t)]),(Pe=t.thead)==null?void 0:Pe.call(t,A.value),!e.hideDefaultBody&&p("tbody",null,[(we=t["body.prepend"])==null?void 0:we.call(t,A.value),t.body?t.body(A.value):w(_e,R(l,vt,{items:j.value}),t),(ke=t["body.append"])==null?void 0:ke.call(t,A.value)]),(Ie=t.tbody)==null?void 0:Ie.call(t,A.value),(De=t.tfoot)==null?void 0:De.call(t,A.value)])},bottom:()=>t.bottom?t.bottom(A.value):!e.hideDefaultFooter&&p(q,null,[w(Nt,null,null),w(Be,G,{prepend:t["footer.prepend"]})])})}),{}}});export{Ta as V,la as a,Lt as b,ia as c,Xt as d,da as e,Mt as f,fa as g,ta as h,va as i,pa as j,Be as k,Ee as l,_e as m,Ge as n,Pa as o,ra as p,Gt as q,Sa as u};
