import{aA as Ma,p as L,u as we,y as T,w as gt,aB as qt,z as lt,aC as pe,aD as xe,b as Pe,d as Ze,f as Ce,h as u,m as z,I as ge,aE as Oa,l as ae,r as he,aF as Va,aG as Ca,aH as Ia,aI as ut,B as _a,aJ as zt,a1 as U,aK as Ge,aL as Le,aM as Fa,a0 as Wa,aN as vt,aO as Ba,F as ne,aP as Aa,aQ as yt,O as ee,j as G,K as V,ak as Ne,S as N,aR as ct,aS as He,aT as Ea,aa as Ra,ag as La,_ as Gt,au as ve,a as ye,o as R,M as _,T as te,N as y,W as Xt,R as ft,as as Na,Y as $t,an as Ha,U as Ya,q as Pt,aU as Ua,k as ja,ai as qa,Q as kt,aj as za,al as Ga,ap as Xa,aq as $a,V as Qa,s as se,L as Ka}from"./index-BoardjOA.js";import{V as Ja}from"./VAlert-DKTv-pIZ.js";import{V as Ve}from"./VChip-Dy0NAZz2.js";import{V as St}from"./VPagination-B3lPp6Y8.js";import{V as bt}from"./VSelect-DrDGiuRO.js";import{V as wt}from"./VCheckboxBtn-B8zOAPkX.js";import{V as Dt,m as Za,_ as Qt}from"./EmailManager-BxVD4ByN.js";import{u as en,m as tn}from"./filter-CR-5Yzqa.js";import{V as an}from"./VSpacer-7bdtXO3d.js";import{V as nn}from"./VDialog-Bygrtth4.js";import{_ as Kt}from"./OAuthManager-DjCw4gjX.js";import"https://static.geetest.com/v4/gt4.js";import{u as rn,a as on,b as sn,g as ln,c as un}from"./accountService-BqbzEoeF.js";import{V as le,a as C}from"./VRow-DnCu-HME.js";import{V as Ye}from"./VForm-qIz-yzsX.js";import{V as Ue}from"./VTextField-huVeyDMJ.js";import{V as cn}from"./VTextarea-CQxw7NTr.js";import{V as dn}from"./VFileInput-DyJ7OgfU.js";import{V as Tt}from"./VSheet-B3qaObIQ.js";import{V as fn}from"./VContainer-DvmY3th9.js";import"./VInput-BSMIx3P2.js";import"./VSelectionControl-DKWpLVVs.js";import"./verifyEmail-B92dJPnc.js";/* empty css              *//* empty css                   */function Mt(e,t,a){return Object.keys(e).filter(n=>Ma(n)&&n.endsWith(t)).reduce((n,r)=>(n[r.slice(0,-t.length)]=i=>e[r](i,a(i)),n),{})}const Jt=6048e5,mn=864e5,je=43200,Ot=1440,Vt=Symbol.for("constructDateFrom");function re(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Vt in e?e[Vt](t):e instanceof Date?new e.constructor(t):new Date(t)}function I(e,t){return re(t||e,e)}let hn={};function Ie(){return hn}function de(e,t){var s,c,l,f;const a=Ie(),n=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??a.weekStartsOn??((f=(l=a.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??0,r=I(e,t==null?void 0:t.in),i=r.getDay(),o=(i<n?7:0)+i-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Xe(e,t){return de(e,{...t,weekStartsOn:1})}function Zt(e,t){const a=I(e,t==null?void 0:t.in),n=a.getFullYear(),r=re(a,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Xe(r),o=re(a,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Xe(o);return a.getTime()>=i.getTime()?n+1:a.getTime()>=s.getTime()?n:n-1}function $e(e){const t=I(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function _e(e,...t){const a=re.bind(null,e||t.find(n=>typeof n=="object"));return t.map(a)}function Ct(e,t){const a=I(e,t==null?void 0:t.in);return a.setHours(0,0,0,0),a}function gn(e,t,a){const[n,r]=_e(a==null?void 0:a.in,e,t),i=Ct(n),o=Ct(r),s=+i-$e(i),c=+o-$e(o);return Math.round((s-c)/mn)}function vn(e,t){const a=Zt(e,t),n=re(e,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),Xe(n)}function ze(e,t){const a=+I(e)-+I(t);return a<0?-1:a>0?1:a}function yn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bn(e){return!(!yn(e)&&typeof e!="number"||isNaN(+I(e)))}function wn(e,t,a){const[n,r]=_e(a==null?void 0:a.in,e,t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function pn(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function xn(e,t){return+I(e)-+I(t)}function Pn(e,t){const a=I(e,t==null?void 0:t.in);return a.setHours(23,59,59,999),a}function kn(e,t){const a=I(e,t==null?void 0:t.in),n=a.getMonth();return a.setFullYear(a.getFullYear(),n+1,0),a.setHours(23,59,59,999),a}function Sn(e,t){const a=I(e,t==null?void 0:t.in);return+Pn(a,t)==+kn(a,t)}function Dn(e,t,a){const[n,r,i]=_e(a==null?void 0:a.in,e,e,t),o=ze(r,i),s=Math.abs(wn(r,i));if(s<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*s);let c=ze(r,i)===-o;Sn(n)&&s===1&&ze(n,i)===1&&(c=!1);const l=o*(s-+c);return l===0?0:l}function Tn(e,t,a){const n=xn(e,t)/1e3;return pn(a==null?void 0:a.roundingMethod)(n)}function Mn(e,t){const a=I(e,t==null?void 0:t.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const On={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vn=(e,t,a)=>{let n;const r=On[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function be(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const Cn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},In={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_n={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fn={date:be({formats:Cn,defaultWidth:"full"}),time:be({formats:In,defaultWidth:"full"}),dateTime:be({formats:_n,defaultWidth:"full"})},Wn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bn=(e,t,a,n)=>Wn[e];function j(e){return(t,a)=>{const n=a!=null&&a.context?String(a.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=a!=null&&a.width?String(a.width):o;r=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=a!=null&&a.width?String(a.width):e.defaultWidth;r=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const An={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},En={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ln={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Hn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yn=(e,t)=>{const a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Un={ordinalNumber:Yn,era:j({values:An,defaultWidth:"wide"}),quarter:j({values:En,defaultWidth:"wide",argumentCallback:e=>e-1}),month:j({values:Rn,defaultWidth:"wide"}),day:j({values:Ln,defaultWidth:"wide"}),dayPeriod:j({values:Nn,defaultWidth:"wide",formattingValues:Hn,defaultFormattingWidth:"wide"})};function q(e){return(t,a={})=>{const n=a.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?qn(s,m=>m.test(o)):jn(s,m=>m.test(o));let l;l=e.valueCallback?e.valueCallback(c):c,l=a.valueCallback?a.valueCallback(l):l;const f=t.slice(o.length);return{value:l,rest:f}}}function jn(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}function qn(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}function ea(e){return(t,a={})=>{const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=a.valueCallback?a.valueCallback(o):o;const s=t.slice(r.length);return{value:o,rest:s}}}const zn=/^(\d+)(th|st|nd|rd)?/i,Gn=/\d+/i,Xn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$n={any:[/^b/i,/^(a|c)/i]},Qn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kn={any:[/1/i,/2/i,/3/i,/4/i]},Jn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},er={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ar={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rr={ordinalNumber:ea({matchPattern:zn,parsePattern:Gn,valueCallback:e=>parseInt(e,10)}),era:q({matchPatterns:Xn,defaultMatchWidth:"wide",parsePatterns:$n,defaultParseWidth:"any"}),quarter:q({matchPatterns:Qn,defaultMatchWidth:"wide",parsePatterns:Kn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:q({matchPatterns:Jn,defaultMatchWidth:"wide",parsePatterns:Zn,defaultParseWidth:"any"}),day:q({matchPatterns:er,defaultMatchWidth:"wide",parsePatterns:tr,defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:ar,defaultMatchWidth:"any",parsePatterns:nr,defaultParseWidth:"any"})},ta={code:"en-US",formatDistance:Vn,formatLong:Fn,formatRelative:Bn,localize:Un,match:rr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ir(e,t){const a=I(e,t==null?void 0:t.in);return gn(a,Mn(a))+1}function or(e,t){const a=I(e,t==null?void 0:t.in),n=+Xe(a)-+vn(a);return Math.round(n/Jt)+1}function aa(e,t){var f,m,g,w;const a=I(e,t==null?void 0:t.in),n=a.getFullYear(),r=Ie(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(g=r.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,o=re((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=de(o,t),c=re((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const l=de(c,t);return+a>=+s?n+1:+a>=+l?n:n-1}function sr(e,t){var s,c,l,f;const a=Ie(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(l=a.locale)==null?void 0:l.options)==null?void 0:f.firstWeekContainsDate)??1,r=aa(e,t),i=re((t==null?void 0:t.in)||e,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),de(i,t)}function lr(e,t){const a=I(e,t==null?void 0:t.in),n=+de(a,t)-+sr(a,t);return Math.round(n/Jt)+1}function S(e,t){const a=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return a+n}const Z={y(e,t){const a=e.getFullYear(),n=a>0?a:1-a;return S(t==="yy"?n%100:n,t.length)},M(e,t){const a=e.getMonth();return t==="M"?String(a+1):S(a+1,2)},d(e,t){return S(e.getDate(),t.length)},a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,t){return S(e.getHours()%12||12,t.length)},H(e,t){return S(e.getHours(),t.length)},m(e,t){return S(e.getMinutes(),t.length)},s(e,t){return S(e.getSeconds(),t.length)},S(e,t){const a=t.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,a-3));return S(r,t.length)}},me={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},It={G:function(e,t,a){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return a.ordinalNumber(r,{unit:"year"})}return Z.y(e,t)},Y:function(e,t,a,n){const r=aa(e,n),i=r>0?r:1-r;if(t==="YY"){const o=i%100;return S(o,2)}return t==="Yo"?a.ordinalNumber(i,{unit:"year"}):S(i,t.length)},R:function(e,t){const a=Zt(e);return S(a,t.length)},u:function(e,t){const a=e.getFullYear();return S(a,t.length)},Q:function(e,t,a){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return S(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,a){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return S(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,a){const n=e.getMonth();switch(t){case"M":case"MM":return Z.M(e,t);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,a){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return S(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,a,n){const r=lr(e,n);return t==="wo"?a.ordinalNumber(r,{unit:"week"}):S(r,t.length)},I:function(e,t,a){const n=or(e);return t==="Io"?a.ordinalNumber(n,{unit:"week"}):S(n,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):Z.d(e,t)},D:function(e,t,a){const n=ir(e);return t==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):S(n,t.length)},E:function(e,t,a){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,a,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return S(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,a,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return S(i,t.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,a){const n=e.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return S(r,t.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,a){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,a){const n=e.getHours();let r;switch(n===12?r=me.noon:n===0?r=me.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,a){const n=e.getHours();let r;switch(n>=17?r=me.evening:n>=12?r=me.afternoon:n>=4?r=me.morning:r=me.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return Z.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):Z.H(e,t)},K:function(e,t,a){const n=e.getHours()%12;return t==="Ko"?a.ordinalNumber(n,{unit:"hour"}):S(n,t.length)},k:function(e,t,a){let n=e.getHours();return n===0&&(n=24),t==="ko"?a.ordinalNumber(n,{unit:"hour"}):S(n,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):Z.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):Z.s(e,t)},S:function(e,t){return Z.S(e,t)},X:function(e,t,a){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ft(n);case"XXXX":case"XX":return ce(n);case"XXXXX":case"XXX":default:return ce(n,":")}},x:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"x":return Ft(n);case"xxxx":case"xx":return ce(n);case"xxxxx":case"xxx":default:return ce(n,":")}},O:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_t(n,":");case"OOOO":default:return"GMT"+ce(n,":")}},z:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_t(n,":");case"zzzz":default:return"GMT"+ce(n,":")}},t:function(e,t,a){const n=Math.trunc(+e/1e3);return S(n,t.length)},T:function(e,t,a){return S(+e,t.length)}};function _t(e,t=""){const a=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),i=n%60;return i===0?a+String(r):a+String(r)+t+S(i,2)}function Ft(e,t){return e%60===0?(e>0?"-":"+")+S(Math.abs(e)/60,2):ce(e,t)}function ce(e,t=""){const a=e>0?"-":"+",n=Math.abs(e),r=S(Math.trunc(n/60),2),i=S(n%60,2);return a+r+t+i}const Wt=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},na=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ur=(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],n=a[1],r=a[2];if(!r)return Wt(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Wt(n,t)).replace("{{time}}",na(r,t))},cr={p:na,P:ur},dr=/^D+$/,fr=/^Y+$/,mr=["D","DD","YY","YYYY"];function hr(e){return dr.test(e)}function gr(e){return fr.test(e)}function vr(e,t,a){const n=yr(e,t,a);if(console.warn(n),mr.includes(e))throw new RangeError(n)}function yr(e,t,a){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const br=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pr=/^'([^]*?)'?$/,xr=/''/g,Pr=/[a-zA-Z]/;function kr(e,t,a){var f,m,g,w;const n=Ie(),r=n.locale??ta,i=n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=n.weekStartsOn??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,s=I(e,a==null?void 0:a.in);if(!bn(s))throw new RangeError("Invalid time value");let c=t.match(wr).map(d=>{const b=d[0];if(b==="p"||b==="P"){const v=cr[b];return v(d,r.formatLong)}return d}).join("").match(br).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const b=d[0];if(b==="'")return{isToken:!1,value:Sr(d)};if(It[b])return{isToken:!0,value:d};if(b.match(Pr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:d}});r.localize.preprocessor&&(c=r.localize.preprocessor(s,c));const l={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return c.map(d=>{if(!d.isToken)return d.value;const b=d.value;(gr(b)||hr(b))&&vr(b,t,String(e));const v=It[b[0]];return v(s,b,r.localize,l)}).join("")}function Sr(e){const t=e.match(pr);return t?t[1].replace(xr,"'"):e}function Dr(e,t,a){const n=Ie(),r=(a==null?void 0:a.locale)??n.locale??ta,i=2520,o=ze(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const s=Object.assign({},a,{addSuffix:a==null?void 0:a.addSuffix,comparison:o}),[c,l]=_e(a==null?void 0:a.in,...o>0?[t,e]:[e,t]),f=Tn(l,c),m=($e(l)-$e(c))/1e3,g=Math.round((f-m)/60);let w;if(g<2)return a!=null&&a.includeSeconds?f<5?r.formatDistance("lessThanXSeconds",5,s):f<10?r.formatDistance("lessThanXSeconds",10,s):f<20?r.formatDistance("lessThanXSeconds",20,s):f<40?r.formatDistance("halfAMinute",0,s):f<60?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",1,s):g===0?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",g,s);if(g<45)return r.formatDistance("xMinutes",g,s);if(g<90)return r.formatDistance("aboutXHours",1,s);if(g<Ot){const d=Math.round(g/60);return r.formatDistance("aboutXHours",d,s)}else{if(g<i)return r.formatDistance("xDays",1,s);if(g<je){const d=Math.round(g/Ot);return r.formatDistance("xDays",d,s)}else if(g<je*2)return w=Math.round(g/je),r.formatDistance("aboutXMonths",w,s)}if(w=Dn(l,c),w<12){const d=Math.round(g/je);return r.formatDistance("xMonths",d,s)}else{const d=w%12,b=Math.trunc(w/12);return d<3?r.formatDistance("aboutXYears",b,s):d<9?r.formatDistance("overXYears",b,s):r.formatDistance("almostXYears",b+1,s)}}function Tr(e,t,a){const[n,r]=_e(a==null?void 0:a.in,e,t);return+de(n,a)==+de(r,a)}const Mr={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},Or=(e,t,a)=>{let n;const r=Mr[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",String(t)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?n+"内":n+"前":n},Vr={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},Cr={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Ir={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},_r={date:be({formats:Vr,defaultWidth:"full"}),time:be({formats:Cr,defaultWidth:"full"}),dateTime:be({formats:Ir,defaultWidth:"full"})};function Bt(e,t,a){const n="eeee p";return Tr(e,t,a)?n:e.getTime()>t.getTime()?"'下个'"+n:"'上个'"+n}const Fr={lastWeek:Bt,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:Bt,other:"PP p"},Wr=(e,t,a,n)=>{const r=Fr[e];return typeof r=="function"?r(t,a,n):r},Br={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},Ar={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},Er={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},Rr={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},Lr={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},Nr={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},Hr=(e,t)=>{const a=Number(e);switch(t==null?void 0:t.unit){case"date":return a.toString()+"日";case"hour":return a.toString()+"时";case"minute":return a.toString()+"分";case"second":return a.toString()+"秒";default:return"第 "+a.toString()}},Yr={ordinalNumber:Hr,era:j({values:Br,defaultWidth:"wide"}),quarter:j({values:Ar,defaultWidth:"wide",argumentCallback:e=>e-1}),month:j({values:Er,defaultWidth:"wide"}),day:j({values:Rr,defaultWidth:"wide"}),dayPeriod:j({values:Lr,defaultWidth:"wide",formattingValues:Nr,defaultFormattingWidth:"wide"})},Ur=/^(第\s*)?\d+(日|时|分|秒)?/i,jr=/\d+/i,qr={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},zr={any:[/^(前)/i,/^(公元)/i]},Gr={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},Xr={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},$r={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},Qr={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},Kr={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},Jr={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},Zr={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},ei={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},ti={ordinalNumber:ea({matchPattern:Ur,parsePattern:jr,valueCallback:e=>parseInt(e,10)}),era:q({matchPatterns:qr,defaultMatchWidth:"wide",parsePatterns:zr,defaultParseWidth:"any"}),quarter:q({matchPatterns:Gr,defaultMatchWidth:"wide",parsePatterns:Xr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:q({matchPatterns:$r,defaultMatchWidth:"wide",parsePatterns:Qr,defaultParseWidth:"any"}),day:q({matchPatterns:Kr,defaultMatchWidth:"wide",parsePatterns:Jr,defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:Zr,defaultMatchWidth:"any",parsePatterns:ei,defaultParseWidth:"any"})},ai={code:"zh-CN",formatDistance:Or,formatLong:_r,formatRelative:Wr,localize:Yr,match:ti,options:{weekStartsOn:1,firstWeekContainsDate:4}},ni=L({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),ra=Symbol.for("vuetify:data-table-pagination");function ri(e){const t=we(e,"page",void 0,n=>Number(n??1)),a=we(e,"itemsPerPage",void 0,n=>Number(n??10));return{page:t,itemsPerPage:a}}function ii(e){const{page:t,itemsPerPage:a,itemsLength:n}=e,r=T(()=>a.value===-1?0:a.value*(t.value-1)),i=T(()=>a.value===-1?n.value:Math.min(n.value,r.value+a.value)),o=T(()=>a.value===-1||n.value===0?1:Math.ceil(n.value/a.value));gt([t,o],()=>{t.value>o.value&&(t.value=o.value)});function s(g){a.value=g,t.value=1}function c(){t.value=lt(t.value+1,1,o.value)}function l(){t.value=lt(t.value-1,1,o.value)}function f(g){t.value=lt(g,1,o.value)}const m={page:t,itemsPerPage:a,startIndex:r,stopIndex:i,pageCount:o,itemsLength:n,nextPage:c,prevPage:l,setPage:f,setItemsPerPage:s};return xe(ra,m),m}function oi(){const e=pe(ra);if(!e)throw new Error("Missing pagination!");return e}function si(e){const t=qt("usePaginatedItems"),{items:a,startIndex:n,stopIndex:r,itemsPerPage:i}=e,o=T(()=>i.value<=0?a.value:a.value.slice(n.value,r.value));return gt(o,s=>{t.emit("update:currentItems",s)},{immediate:!0}),{paginatedItems:o}}const ia=L({prevIcon:{type:ge,default:"$prev"},nextIcon:{type:ge,default:"$next"},firstIcon:{type:ge,default:"$first"},lastIcon:{type:ge,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),At=Pe()({name:"VDataTableFooter",props:ia(),setup(e,t){let{slots:a}=t;const{t:n}=Ze(),{page:r,pageCount:i,startIndex:o,stopIndex:s,itemsLength:c,itemsPerPage:l,setItemsPerPage:f}=oi(),m=T(()=>e.itemsPerPageOptions.map(g=>typeof g=="number"?{value:g,title:g===-1?n("$vuetify.dataFooter.itemsPerPageAll"):String(g)}:{...g,title:isNaN(Number(g.title))?n(g.title):g.title}));return Ce(()=>{var w;const g=St.filterProps(e);return u("div",{class:"v-data-table-footer"},[(w=a.prepend)==null?void 0:w.call(a),u("div",{class:"v-data-table-footer__items-per-page"},[u("span",null,[n(e.itemsPerPageText)]),u(bt,{items:m.value,modelValue:l.value,"onUpdate:modelValue":d=>f(Number(d)),density:"compact",variant:"outlined","hide-details":!0},null)]),u("div",{class:"v-data-table-footer__info"},[u("div",null,[n(e.pageText,c.value?o.value+1:0,s.value,c.value)])]),u("div",{class:"v-data-table-footer__pagination"},[u(St,z({modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:i.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},g),null)])])}),{}}}),Qe=Oa({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const n=e.tag??"td";return u(n,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:ae(e.height),width:ae(e.width),maxWidth:ae(e.maxWidth),left:ae(e.fixedOffset||null)}},{default:()=>{var r;return[(r=a.default)==null?void 0:r.call(a)]}})}),li=L({headers:Array},"DataTable-header"),oa=Symbol.for("vuetify:data-table-headers"),sa={title:"",sortable:!1},ui={...sa,width:48};function ci(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,n)=>{let r=!1;for(let i=0;i<t.length;i++)if(t[i].priority>n){t.splice(i,0,{element:a,priority:n}),r=!0;break}r||t.push({element:a,priority:n})},size:()=>t.length,count:()=>{let a=0;if(!t.length)return 0;const n=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===n&&(a+=1);return a},dequeue:()=>t.shift()}}function mt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const a of e.children)mt(a,t);return t}function la(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&la(a.children,t);return t}function di(e){if(e.key){if(e.key==="data-table-group")return sa;if(["data-table-expand","data-table-select"].includes(e.key))return ui}}function pt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(a=>pt(a,t+1))):t}function fi(e){let t=!1;function a(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i)if(o&&(i.fixed=!0),i.fixed)if(i.children)for(let s=i.children.length-1;s>=0;s--)a(i.children[s],!0);else t?isNaN(Number(i.width))?Ia(`Multiple fixed columns should have a static width (key: ${i.key})`):i.minWidth=Math.max(Number(i.width)||0,Number(i.minWidth)||0):i.lastFixed=!0,t=!0;else if(i.children)for(let s=i.children.length-1;s>=0;s--)a(i.children[s]);else t=!1}for(let i=e.length-1;i>=0;i--)a(e[i]);function n(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!i)return o;if(i.children){i.fixedOffset=o;for(const s of i.children)o=n(s,o)}else i.fixed&&(i.fixedOffset=o,o+=parseFloat(i.width||"0")||0);return o}let r=0;for(const i of e)r=n(i,r)}function mi(e,t){const a=[];let n=0;const r=ci(e);for(;r.size()>0;){let o=r.count();const s=[];let c=1;for(;o>0;){const{element:l,priority:f}=r.dequeue(),m=t-n-pt(l);if(s.push({...l,rowspan:m??1,colspan:l.children?mt(l).length:1}),l.children)for(const g of l.children){const w=f%1+c/Math.pow(10,n+2);r.enqueue(g,n+m+w)}c+=1,o-=1}n+=1,a.push(s)}return{columns:e.map(o=>mt(o)).flat(),headers:a}}function ua(e){const t=[];for(const a of e){const n={...di(a),...a},r=n.key??(typeof n.value=="string"?n.value:null),i=n.value??r??null,o={...n,key:r,value:i,sortable:n.sortable??(n.key!=null||!!n.sort),children:n.children?ua(n.children):void 0};t.push(o)}return t}function hi(e,t){const a=he([]),n=he([]),r=he({}),i=he({}),o=he({});Va(()=>{var b,v,D;const l=(e.headers||Object.keys(e.items[0]??{}).map(h=>({key:h,title:Ca(h)}))).slice(),f=la(l);(b=t==null?void 0:t.groupBy)!=null&&b.value.length&&!f.has("data-table-group")&&l.unshift({key:"data-table-group",title:"Group"}),(v=t==null?void 0:t.showSelect)!=null&&v.value&&!f.has("data-table-select")&&l.unshift({key:"data-table-select"}),(D=t==null?void 0:t.showExpand)!=null&&D.value&&!f.has("data-table-expand")&&l.push({key:"data-table-expand"});const m=ua(l);fi(m);const g=Math.max(...m.map(h=>pt(h)))+1,w=mi(m,g);a.value=w.headers,n.value=w.columns;const d=w.headers.flat(1);for(const h of d)h.key&&(h.sortable&&(h.sort&&(r.value[h.key]=h.sort),h.sortRaw&&(i.value[h.key]=h.sortRaw)),h.filter&&(o.value[h.key]=h.filter))});const s={headers:a,columns:n,sortFunctions:r,sortRawFunctions:i,filterFunctions:o};return xe(oa,s),s}function et(){const e=pe(oa);if(!e)throw new Error("Missing headers!");return e}const gi={showSelectAll:!1,allSelected:()=>[],select:e=>{var n;let{items:t,value:a}=e;return new Set(a?[(n=t[0])==null?void 0:n.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},ca={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:n}=e;for(const r of t)a?n.add(r.value):n.delete(r.value);return n},selectAll:e=>{let{value:t,currentPage:a,selected:n}=e;return ca.select({items:a,value:t,selected:n})}},da={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:n}=e;for(const r of t)a?n.add(r.value):n.delete(r.value);return n},selectAll:e=>{let{value:t,allItems:a,selected:n}=e;return da.select({items:a,value:t,selected:n})}},vi=L({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:zt}},"DataTable-select"),fa=Symbol.for("vuetify:data-table-selection");function yi(e,t){let{allItems:a,currentPage:n}=t;const r=we(e,"modelValue",e.modelValue,h=>new Set(ut(h).map(P=>{var M;return((M=a.value.find(k=>e.valueComparator(P,k.value)))==null?void 0:M.value)??P})),h=>[...h.values()]),i=T(()=>a.value.filter(h=>h.selectable)),o=T(()=>n.value.filter(h=>h.selectable)),s=T(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return gi;case"all":return da;case"page":default:return ca}}),c=_a(null);function l(h){return ut(h).every(P=>r.value.has(P.value))}function f(h){return ut(h).some(P=>r.value.has(P.value))}function m(h,P){const M=s.value.select({items:h,value:P,selected:new Set(r.value)});r.value=M}function g(h,P,M){const k=[];if(P=P??a.value.findIndex(F=>F.value===h.value),e.selectStrategy!=="single"&&(M!=null&&M.shiftKey)&&c.value!==null){const[F,B]=[c.value,P].sort((x,p)=>x-p);k.push(...a.value.slice(F,B+1))}else k.push(h),c.value=P;m(k,!l([h]))}function w(h){const P=s.value.selectAll({value:h,allItems:i.value,currentPage:o.value,selected:new Set(r.value)});r.value=P}const d=T(()=>r.value.size>0),b=T(()=>{const h=s.value.allSelected({allItems:i.value,currentPage:o.value});return!!h.length&&l(h)}),v=T(()=>s.value.showSelectAll),D={toggleSelect:g,select:m,selectAll:w,isSelected:l,isSomeSelected:f,someSelected:d,allSelected:b,showSelectAll:v,lastSelectedIndex:c,selectStrategy:s};return xe(fa,D),D}function tt(){const e=pe(fa);if(!e)throw new Error("Missing selection!");return e}const bi=L({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),ma=Symbol.for("vuetify:data-table-sort");function wi(e){const t=we(e,"sortBy"),a=U(e,"mustSort"),n=U(e,"multiSort");return{sortBy:t,mustSort:a,multiSort:n}}function pi(e){const{sortBy:t,mustSort:a,multiSort:n,page:r}=e,i=c=>{if(c.key==null)return;let l=t.value.map(m=>({...m}))??[];const f=l.find(m=>m.key===c.key);f?f.order==="desc"?a.value&&l.length===1?f.order="asc":l=l.filter(m=>m.key!==c.key):f.order="desc":n.value?l.push({key:c.key,order:"asc"}):l=[{key:c.key,order:"asc"}],t.value=l,r&&(r.value=1)};function o(c){return!!t.value.find(l=>l.key===c.key)}const s={sortBy:t,toggleSort:i,isSorted:o};return xe(ma,s),s}function ha(){const e=pe(ma);if(!e)throw new Error("Missing sort!");return e}function xi(e,t,a,n){const r=Ze();return{sortedItems:T(()=>{var o,s;return a.value.length?Pi(t.value,a.value,r.current.value,{transform:n==null?void 0:n.transform,sortFunctions:{...e.customKeySort,...(o=n==null?void 0:n.sortFunctions)==null?void 0:o.value},sortRawFunctions:(s=n==null?void 0:n.sortRawFunctions)==null?void 0:s.value}):t.value})}}function Pi(e,t,a,n){const r=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,n!=null&&n.transform?n.transform(o):o]).sort((o,s)=>{var c,l;for(let f=0;f<t.length;f++){let m=!1;const g=t[f].key,w=t[f].order??"asc";if(w===!1)continue;let d=Ge(o[1],g),b=Ge(s[1],g),v=o[0].raw,D=s[0].raw;if(w==="desc"&&([d,b]=[b,d],[v,D]=[D,v]),(c=n==null?void 0:n.sortRawFunctions)!=null&&c[g]){const h=n.sortRawFunctions[g](v,D);if(h==null)continue;if(m=!0,h)return h}if((l=n==null?void 0:n.sortFunctions)!=null&&l[g]){const h=n.sortFunctions[g](d,b);if(h==null)continue;if(m=!0,h)return h}if(!m){if(d instanceof Date&&b instanceof Date)return d.getTime()-b.getTime();if([d,b]=[d,b].map(h=>h!=null?h.toString().toLocaleLowerCase():h),d!==b)return Le(d)&&Le(b)?0:Le(d)?-1:Le(b)?1:!isNaN(d)&&!isNaN(b)?Number(d)-Number(b):r.compare(d,b)}}return 0}).map(o=>{let[s]=o;return s})}const ga=L({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:ge,default:"$sortAsc"},sortDescIcon:{type:ge,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...yt(),...Aa()},"VDataTableHeaders"),Et=Pe()({name:"VDataTableHeaders",props:ga(),setup(e,t){let{slots:a}=t;const{t:n}=Ze(),{toggleSort:r,sortBy:i,isSorted:o}=ha(),{someSelected:s,allSelected:c,selectAll:l,showSelectAll:f}=tt(),{columns:m,headers:g}=et(),{loaderClasses:w}=Fa(e);function d(x,p){if(!(!(e.sticky||e.fixedHeader)&&!x.fixed))return{position:"sticky",left:x.fixed?ae(x.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${p})`:void 0}}function b(x){const p=i.value.find(W=>W.key===x.key);return p?p.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:v,backgroundColorStyles:D}=Wa(e,"color"),{displayClasses:h,mobile:P}=vt(e),M=T(()=>({headers:g.value,columns:m.value,toggleSort:r,isSorted:o,sortBy:i.value,someSelected:s.value,allSelected:c.value,selectAll:l,getSortIcon:b})),k=T(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},h.value,w.value]),F=x=>{let{column:p,x:W,y:O}=x;const A=p.key==="data-table-select"||p.key==="data-table-expand",H=z(e.headerProps??{},p.headerProps??{});return u(Qe,z({tag:"th",align:p.align,class:[{"v-data-table__th--sortable":p.sortable&&!e.disableSort,"v-data-table__th--sorted":o(p),"v-data-table__th--fixed":p.fixed},...k.value],style:{width:ae(p.width),minWidth:ae(p.minWidth),maxWidth:ae(p.maxWidth),...d(p,O)},colspan:p.colspan,rowspan:p.rowspan,onClick:p.sortable?()=>r(p):void 0,fixed:p.fixed,nowrap:p.nowrap,lastFixed:p.lastFixed,noPadding:A},H),{default:()=>{var $;const X=`header.${p.key}`,oe={column:p,selectAll:l,isSorted:o,toggleSort:r,sortBy:i.value,someSelected:s.value,allSelected:c.value,getSortIcon:b};return a[X]?a[X](oe):p.key==="data-table-select"?(($=a["header.data-table-select"])==null?void 0:$.call(a,oe))??(f.value&&u(wt,{modelValue:c.value,indeterminate:s.value&&!c.value,"onUpdate:modelValue":l},null)):u("div",{class:"v-data-table-header__content"},[u("span",null,[p.title]),p.sortable&&!e.disableSort&&u(ee,{key:"icon",class:"v-data-table-header__sort-icon",icon:b(p)},null),e.multiSort&&o(p)&&u("div",{key:"badge",class:["v-data-table-header__sort-badge",...v.value],style:D.value},[i.value.findIndex(Q=>Q.key===p.key)+1])])}})},B=()=>{const x=z(e.headerProps??{}??{}),p=T(()=>m.value.filter(O=>(O==null?void 0:O.sortable)&&!e.disableSort)),W=T(()=>{if(m.value.find(A=>A.key==="data-table-select")!=null)return c.value?"$checkboxOn":s.value?"$checkboxIndeterminate":"$checkboxOff"});return u(Qe,z({tag:"th",class:[...k.value],colspan:g.value.length+1},x),{default:()=>[u("div",{class:"v-data-table-header__content"},[u(bt,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:p.value,label:n("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>i.value=[],appendIcon:W.value,"onClick:append":()=>l(!c.value)},{...a,chip:O=>{var A;return u(Ve,{onClick:(A=O.item.raw)!=null&&A.sortable?()=>r(O.item.raw):void 0,onMousedown:H=>{H.preventDefault(),H.stopPropagation()}},{default:()=>[O.item.title,u(ee,{class:["v-data-table__td-sort-icon",o(O.item.raw)&&"v-data-table__td-sort-icon-active"],icon:b(O.item.raw),size:"small"},null)]})}})])]})};Ce(()=>P.value?u("tr",null,[u(B,null,null)]):u(ne,null,[a.headers?a.headers(M.value):g.value.map((x,p)=>u("tr",null,[x.map((W,O)=>u(F,{column:W,x:O,y:p},null))])),e.loading&&u("tr",{class:"v-data-table-progress"},[u("th",{colspan:m.value.length},[u(Ba,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),ki=L({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),va=Symbol.for("vuetify:data-table-group");function Si(e){return{groupBy:we(e,"groupBy")}}function Di(e){const{disableSort:t,groupBy:a,sortBy:n}=e,r=he(new Set),i=T(()=>a.value.map(f=>({...f,order:f.order??!1})).concat(t!=null&&t.value?[]:n.value));function o(f){return r.value.has(f.id)}function s(f){const m=new Set(r.value);o(f)?m.delete(f.id):m.add(f.id),r.value=m}function c(f){function m(g){const w=[];for(const d of g.items)"type"in d&&d.type==="group"?w.push(...m(d)):w.push(d);return[...new Set(w)]}return m({items:f})}const l={sortByWithGroups:i,toggleGroup:s,opened:r,groupBy:a,extractRows:c,isGroupOpen:o};return xe(va,l),l}function ya(){const e=pe(va);if(!e)throw new Error("Missing group!");return e}function Ti(e,t){if(!e.length)return[];const a=new Map;for(const n of e){const r=Ge(n.raw,t);a.has(r)||a.set(r,[]),a.get(r).push(n)}return a}function ba(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=Ti(e,t[0]),i=[],o=t.slice(1);return r.forEach((s,c)=>{const l=t[0],f=`${n}_${l}_${c}`;i.push({depth:a,id:f,key:l,value:c,items:o.length?ba(s,o,a+1,f):s,type:"group"})}),i}function wa(e,t){const a=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(t.has(n.id)||n.value==null)&&a.push(...wa(n.items,t))):a.push(n);return a}function Mi(e,t,a){return{flatItems:T(()=>{if(!t.value.length)return e.value;const r=ba(e.value,t.value.map(i=>i.key));return wa(r,a.value)})}}const Oi=L({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Vi=Pe()({name:"VDataTableGroupHeaderRow",props:Oi(),setup(e,t){let{slots:a}=t;const{isGroupOpen:n,toggleGroup:r,extractRows:i}=ya(),{isSelected:o,isSomeSelected:s,select:c}=tt(),{columns:l}=et(),f=T(()=>i([e.item]));return()=>u("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[l.value.map(m=>{var g,w;if(m.key==="data-table-group"){const d=n(e.item)?"$expand":"$next",b=()=>r(e.item);return((g=a["data-table-group"])==null?void 0:g.call(a,{item:e.item,count:f.value.length,props:{icon:d,onClick:b}}))??u(Qe,{class:"v-data-table-group-header-row__column"},{default:()=>[u(G,{size:"small",variant:"text",icon:d,onClick:b},null),u("span",null,[e.item.value]),u("span",null,[V("("),f.value.length,V(")")])]})}if(m.key==="data-table-select"){const d=o(f.value),b=s(f.value)&&!d,v=D=>c(f.value,D);return((w=a["data-table-select"])==null?void 0:w.call(a,{props:{modelValue:d,indeterminate:b,"onUpdate:modelValue":v}}))??u("td",null,[u(wt,{modelValue:d,indeterminate:b,"onUpdate:modelValue":v},null)])}return u("td",null,null)})])}}),Ci=L({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),pa=Symbol.for("vuetify:datatable:expanded");function Ii(e){const t=U(e,"expandOnClick"),a=we(e,"expanded",e.expanded,s=>new Set(s),s=>[...s.values()]);function n(s,c){const l=new Set(a.value);c?l.add(s.value):l.delete(s.value),a.value=l}function r(s){return a.value.has(s.value)}function i(s){n(s,!r(s))}const o={expand:n,expanded:a,expandOnClick:t,isExpanded:r,toggleExpand:i};return xe(pa,o),o}function xa(){const e=pe(pa);if(!e)throw new Error("foo");return e}const _i=L({index:Number,item:Object,cellProps:[Object,Function],onClick:ct(),onContextmenu:ct(),onDblclick:ct(),...yt()},"VDataTableRow"),Fi=Pe()({name:"VDataTableRow",props:_i(),setup(e,t){let{slots:a}=t;const{displayClasses:n,mobile:r}=vt(e,"v-data-table__tr"),{isSelected:i,toggleSelect:o,someSelected:s,allSelected:c,selectAll:l}=tt(),{isExpanded:f,toggleExpand:m}=xa(),{toggleSort:g,sortBy:w,isSorted:d}=ha(),{columns:b}=et();Ce(()=>u("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},n.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&b.value.map((v,D)=>{const h=e.item,P=`item.${v.key}`,M=`header.${v.key}`,k={index:e.index,item:h.raw,internalItem:h,value:Ge(h.columns,v.key),column:v,isSelected:i,toggleSelect:o,isExpanded:f,toggleExpand:m},F={column:v,selectAll:l,isSorted:d,toggleSort:g,sortBy:w.value,someSelected:s.value,allSelected:c.value,getSortIcon:()=>""},B=typeof e.cellProps=="function"?e.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value,column:v}):e.cellProps,x=typeof v.cellProps=="function"?v.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value}):v.cellProps;return u(Qe,z({align:v.align,class:{"v-data-table__td--expanded-row":v.key==="data-table-expand","v-data-table__td--select-row":v.key==="data-table-select"},fixed:v.fixed,fixedOffset:v.fixedOffset,lastFixed:v.lastFixed,maxWidth:r.value?void 0:v.maxWidth,noPadding:v.key==="data-table-select"||v.key==="data-table-expand",nowrap:v.nowrap,width:r.value?void 0:v.width},B,x),{default:()=>{var W,O,A,H;if(v.key==="data-table-select")return((W=a["item.data-table-select"])==null?void 0:W.call(a,{...k,props:{disabled:!h.selectable,modelValue:i([h]),onClick:Ne(()=>o(h),["stop"])}}))??u(wt,{disabled:!h.selectable,modelValue:i([h]),onClick:Ne(X=>o(h,e.index,X),["stop"])},null);if(v.key==="data-table-expand")return((O=a["item.data-table-expand"])==null?void 0:O.call(a,{...k,props:{icon:f(h)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ne(()=>m(h),["stop"])}}))??u(G,{icon:f(h)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ne(()=>m(h),["stop"])},null);if(a[P]&&!r.value)return a[P](k);const p=N(k.value);return r.value?u(ne,null,[u("div",{class:"v-data-table__td-title"},[((A=a[M])==null?void 0:A.call(a,F))??v.title]),u("div",{class:"v-data-table__td-value"},[((H=a[P])==null?void 0:H.call(a,k))??p])]):p}})})]))}}),Pa=L({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...yt()},"VDataTableRows"),Rt=Pe()({name:"VDataTableRows",inheritAttrs:!1,props:Pa(),setup(e,t){let{attrs:a,slots:n}=t;const{columns:r}=et(),{expandOnClick:i,toggleExpand:o,isExpanded:s}=xa(),{isSelected:c,toggleSelect:l}=tt(),{toggleGroup:f,isGroupOpen:m}=ya(),{t:g}=Ze(),{mobile:w}=vt(e);return Ce(()=>{var d,b;return e.loading&&(!e.items.length||n.loading)?u("tr",{class:"v-data-table-rows-loading",key:"loading"},[u("td",{colspan:r.value.length},[((d=n.loading)==null?void 0:d.call(n))??g(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?u("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[u("td",{colspan:r.value.length},[((b=n["no-data"])==null?void 0:b.call(n))??g(e.noDataText)])]):u(ne,null,[e.items.map((v,D)=>{var M;if(v.type==="group"){const k={index:D,item:v,columns:r.value,isExpanded:s,toggleExpand:o,isSelected:c,toggleSelect:l,toggleGroup:f,isGroupOpen:m};return n["group-header"]?n["group-header"](k):u(Vi,z({key:`group-header_${v.id}`,item:v},Mt(a,":group-header",()=>k)),n)}const h={index:D,item:v.raw,internalItem:v,columns:r.value,isExpanded:s,toggleExpand:o,isSelected:c,toggleSelect:l},P={...h,props:z({key:`item_${v.key??v.index}`,onClick:i.value?()=>{o(v)}:void 0,index:D,item:v,cellProps:e.cellProps,mobile:w.value},Mt(a,":row",()=>h),typeof e.rowProps=="function"?e.rowProps({item:h.item,index:h.index,internalItem:h.internalItem}):e.rowProps)};return u(ne,{key:P.props.key},[n.item?n.item(P):u(Fi,P.props,n),s(v)&&((M=n["expanded-row"])==null?void 0:M.call(n,h))])})])}),{}}}),Wi=L({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Bi(e,t,a,n){const r=e.returnObject?t:He(t,e.itemValue),i=He(t,e.itemSelectable,!0),o=n.reduce((s,c)=>(c.key!=null&&(s[c.key]=He(t,c.value)),s),{});return{type:"item",key:e.returnObject?He(t,e.itemValue):r,index:a,value:r,selectable:i,columns:o,raw:t}}function Ai(e,t,a){return t.map((n,r)=>Bi(e,n,r,a))}function Ei(e,t){return{items:T(()=>Ai(e,e.items,t.value))}}function Ri(e){let{page:t,itemsPerPage:a,sortBy:n,groupBy:r,search:i}=e;const o=qt("VDataTable"),s=T(()=>({page:t.value,itemsPerPage:a.value,sortBy:n.value,groupBy:r.value,search:i.value}));let c=null;gt(s,()=>{zt(c,s.value)||(c&&c.search!==s.value.search&&(t.value=1),o.emit("update:options",s.value),c=s.value)},{deep:!0,immediate:!0})}const Li=L({...Pa(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Ci(),...ki(),...li(),...Wi(),...vi(),...bi(),...ga(),...Za()},"DataTable"),Ni=L({...ni(),...Li(),...tn(),...ia()},"VDataTable"),Hi=Pe()({name:"VDataTable",props:Ni(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{groupBy:r}=Si(e),{sortBy:i,multiSort:o,mustSort:s}=wi(e),{page:c,itemsPerPage:l}=ri(e),{disableSort:f}=Ea(e),{columns:m,headers:g,sortFunctions:w,sortRawFunctions:d,filterFunctions:b}=hi(e,{groupBy:r,showSelect:U(e,"showSelect"),showExpand:U(e,"showExpand")}),{items:v}=Ei(e,m),D=U(e,"search"),{filteredItems:h}=en(e,v,D,{transform:Y=>Y.columns,customKeyFilter:b}),{toggleSort:P}=pi({sortBy:i,multiSort:o,mustSort:s,page:c}),{sortByWithGroups:M,opened:k,extractRows:F,isGroupOpen:B,toggleGroup:x}=Di({groupBy:r,sortBy:i,disableSort:f}),{sortedItems:p}=xi(e,h,M,{transform:Y=>({...Y.raw,...Y.columns}),sortFunctions:w,sortRawFunctions:d}),{flatItems:W}=Mi(p,r,k),O=T(()=>W.value.length),{startIndex:A,stopIndex:H,pageCount:X,setItemsPerPage:oe}=ii({page:c,itemsPerPage:l,itemsLength:O}),{paginatedItems:$}=si({items:W,startIndex:A,stopIndex:H,itemsPerPage:l}),Q=T(()=>F($.value)),{isSelected:Fe,select:at,selectAll:nt,toggleSelect:rt,someSelected:it,allSelected:ke}=yi(e,{allItems:v,currentPage:Q}),{isExpanded:We,toggleExpand:Be}=Ii(e);Ri({page:c,itemsPerPage:l,sortBy:i,groupBy:r,search:D}),Ra({VDataTableRows:{hideNoData:U(e,"hideNoData"),noDataText:U(e,"noDataText"),loading:U(e,"loading"),loadingText:U(e,"loadingText")}});const E=T(()=>({page:c.value,itemsPerPage:l.value,sortBy:i.value,pageCount:X.value,toggleSort:P,setItemsPerPage:oe,someSelected:it.value,allSelected:ke.value,isSelected:Fe,select:at,selectAll:nt,toggleSelect:rt,isExpanded:We,toggleExpand:Be,isGroupOpen:B,toggleGroup:x,items:Q.value.map(Y=>Y.raw),internalItems:Q.value,groupedItems:$.value,columns:m.value,headers:g.value}));return Ce(()=>{const Y=At.filterProps(e),Ae=Et.filterProps(e),Ee=Rt.filterProps(e),Re=Dt.filterProps(e);return u(Dt,z({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Re,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var K;return(K=n.top)==null?void 0:K.call(n,E.value)},default:()=>{var K,Se,ot,J,De,Te;return n.default?n.default(E.value):u(ne,null,[(K=n.colgroup)==null?void 0:K.call(n,E.value),!e.hideDefaultHeader&&u("thead",{key:"thead"},[u(Et,Ae,n)]),(Se=n.thead)==null?void 0:Se.call(n,E.value),!e.hideDefaultBody&&u("tbody",null,[(ot=n["body.prepend"])==null?void 0:ot.call(n,E.value),n.body?n.body(E.value):u(Rt,z(a,Ee,{items:$.value}),n),(J=n["body.append"])==null?void 0:J.call(n,E.value)]),(De=n.tbody)==null?void 0:De.call(n,E.value),(Te=n.tfoot)==null?void 0:Te.call(n,E.value)])},bottom:()=>n.bottom?n.bottom(E.value):!e.hideDefaultFooter&&u(ne,null,[u(La,null,null),u(At,Y,{prepend:n["footer.prepend"]})])})}),{}}}),Yi={name:"SecurityManager",data(){return{activeTokens:[],isLoadingTokens:!1,isLoggingOutAll:!1,loadingTokenId:null,isPerformingAction:!1,showConfirmDialog:!1,confirmDialogTitle:"",confirmDialogText:"",confirmedAction:null,tokenHeaders:[{title:"创建时间",key:"created_at",sortable:!0},{title:"设备信息",key:"device_info",sortable:!1},{title:"IP地址",key:"ip_address",sortable:!0},{title:"IP属地",key:"ip_location",sortable:!0},{title:"操作",key:"actions",sortable:!1}]}},mounted(){this.loadData()},methods:{async loadData(){await this.loadActiveTokens()},async loadActiveTokens(){this.isLoadingTokens=!0;try{this.activeTokens=await ve.getActiveTokens()}catch(e){console.error("获取会话列表失败:",e),this.$toast.add({severity:"error",summary:"错误",detail:"获取会话列表失败",life:3e3})}finally{this.isLoadingTokens=!1}},getActivityColor(e){return e?e<5?"info":e<20?"primary":e<50?"success":"purple":"grey"},formatIpLocation(e){if(!e)return"-";let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{return e}let a="";return t.country&&(a+=t.country),t.region&&(a+=" "+t.region),t.city&&t.city!==t.region&&(a+=" "+t.city),t.isp&&(a+=` (${t.isp})`),a||"-"},formatDate(e){if(!e)return"-";const t=new Date(e),n=Dr(t,new Date,{addSuffix:!0,locale:ai}),r=kr(t,"yyyy-MM-dd HH:mm:ss");return`${n} (${r})`},async handleRevokeToken(e){this.loadingTokenId=e,this.isPerformingAction=!0;try{await ve.revokeToken(e)?(this.$toast.add({severity:"success",summary:"成功",detail:"会话已成功结束",life:3e3}),await this.loadActiveTokens()):this.$toast.add({severity:"error",summary:"错误",detail:"会话结束失败",life:3e3})}catch(t){console.error("会话结束失败:",t),this.$toast.add({severity:"error",summary:"错误",detail:"会话结束失败",life:3e3})}finally{this.loadingTokenId=null,this.isPerformingAction=!1}},confirmLogoutAll(){this.confirmDialogTitle="确认退出所有会话",this.confirmDialogText="这将使所有会话立即失效，包括当前会话。您需要重新登录才能继续使用。确定要执行此操作吗？",this.confirmedAction=this.logoutAllSessions,this.showConfirmDialog=!0},async logoutAllSessions(){this.isLoggingOutAll=!0;try{await ve.logoutAllDevices()?(this.$toast.add({severity:"success",summary:"成功",detail:"已成功退出所有会话",life:3e3}),this.$router.push("/app/account/login")):this.$toast.add({severity:"error",summary:"错误",detail:"退出所有会话失败",life:3e3})}catch(e){console.error("退出所有会话失败:",e),this.$toast.add({severity:"error",summary:"错误",detail:"退出所有会话失败",life:3e3})}finally{this.isLoggingOutAll=!1}},executeConfirmedAction(){typeof this.confirmedAction=="function"&&this.confirmedAction(),this.showConfirmDialog=!1}}},Ui={class:"mb-6"},ji={class:"d-flex align-center"},qi={key:0},zi={key:1},Gi={class:"d-flex gap-4 mt-6"};function Xi(e,t,a,n,r,i){return R(),ye("div",null,[_("div",Ui,[t[4]||(t[4]=_("h4",{class:"text-h6 mb-3"},"登录设备",-1)),r.activeTokens.length===0&&!r.isLoadingTokens?(R(),te(Ja,{key:0,type:"info",text:"没有活跃的会话",class:"mb-3"})):(R(),te(Hi,{key:1,headers:r.tokenHeaders,items:r.activeTokens,loading:r.isLoadingTokens,"loading-text":"加载会话列表...","no-data-text":"没有找到活跃会话",class:"elevation-1 rounded-lg"},{"item.created_at":y(({item:o})=>[V(N(i.formatDate(o.created_at)),1)]),"item.device_info":y(({item:o})=>{var s,c;return[_("div",ji,[V(N(((s=o.device_info)==null?void 0:s.os)||"未知")+" ("+N(((c=o.device_info)==null?void 0:c.browser)||"未知")+") ",1),o.is_current?(R(),te(Ve,{key:0,color:"success",size:"small",text:"当前"})):Xt("",!0)])]}),"item.ip_address":y(({item:o})=>[V(N(o.ip_address),1)]),"item.ip_location":y(({item:o})=>[o.ip_location?(R(),ye("span",qi,N(i.formatIpLocation(o.ip_location)),1)):(R(),ye("span",zi,"-"))]),"item.activity_count":y(({item:o})=>[u(Ve,{color:i.getActivityColor(o.activity_count),size:"small",text:e.getActivityText(o.activity_count)},null,8,["color","text"])]),"item.actions":y(({item:o})=>[u(G,{onClick:s=>i.handleRevokeToken(o.id),size:"small",color:"error",variant:"text",loading:r.loadingTokenId===o.id,disabled:r.isLoadingTokens||r.isPerformingAction},{default:y(()=>[u(ee,null,{default:y(()=>t[2]||(t[2]=[V("mdi-logout")])),_:1}),t[3]||(t[3]=V(" 结束会话 "))]),_:2},1032,["onClick","loading","disabled"])]),_:1},8,["headers","items","loading"]))]),_("div",Gi,[u(G,{color:"error","prepend-icon":"mdi-logout-variant",onClick:i.confirmLogoutAll,loading:r.isLoggingOutAll,disabled:r.isPerformingAction||r.isLoadingTokens},{default:y(()=>t[5]||(t[5]=[V(" 退出所有会话 ")])),_:1},8,["onClick","loading","disabled"])]),u(nn,{modelValue:r.showConfirmDialog,"onUpdate:modelValue":t[1]||(t[1]=o=>r.showConfirmDialog=o),"max-width":"500"},{default:y(()=>[u(ft,null,{default:y(()=>[u(Na,{class:"text-h5"},{default:y(()=>[V(N(r.confirmDialogTitle),1)]),_:1}),u($t,null,{default:y(()=>[V(N(r.confirmDialogText),1)]),_:1}),u(Ha,null,{default:y(()=>[u(an),u(G,{color:"primary",variant:"text",onClick:t[0]||(t[0]=o=>r.showConfirmDialog=!1)},{default:y(()=>t[6]||(t[6]=[V("取消")])),_:1}),u(G,{color:"error",variant:"flat",onClick:i.executeConfirmedAction},{default:y(()=>t[7]||(t[7]=[V("确认")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const ka=Gt(Yi,[["render",Xi]]);/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Lt(Object(a),!0).forEach(function(n){Ki(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sa(n.key),n)}}function Qi(e,t,a){return t&&Nt(e.prototype,t),a&&Nt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ki(e,t,a){return t=Sa(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ke.apply(this,arguments)}function Ji(e,t){if(typeof e!="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sa(e){var t=Ji(e,"string");return typeof t=="symbol"?t:String(t)}var Da={exports:{}};(function(e){typeof window>"u"||function(t){var a=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,n=t.Blob&&function(){try{return!!new Blob}catch{return!1}}(),r=n&&t.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),i=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||i)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(c){var l,f,m,g,w,d,b,v,D;if(l=c.match(o),!l)throw new Error("invalid data URI");for(f=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),m=!!l[4],g=c.slice(l[0].length),m?w=atob(g):w=decodeURIComponent(g),d=new ArrayBuffer(w.length),b=new Uint8Array(d),v=0;v<w.length;v+=1)b[v]=w.charCodeAt(v);return n?new Blob([r?b:d],{type:f}):(D=new i,D.append(d),D.getBlob(f))};t.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(c,l,f){var m=this;setTimeout(function(){f&&a.toDataURL&&s?c(s(m.toDataURL(l,f))):c(m.mozGetAsFile("blob",l))})}:a.toDataURL&&s&&(a.msToBlob?a.toBlob=function(c,l,f){var m=this;setTimeout(function(){(l&&l!=="image/png"||f)&&a.toDataURL&&s?c(s(m.toDataURL(l,f))):c(m.msToBlob(l))})}:a.toBlob=function(c,l,f){var m=this;setTimeout(function(){c(s(m.toDataURL(l,f)))})})),e.exports?e.exports=s:t.dataURLtoBlob=s}(window)})(Da);var Ht=Da.exports,Zi=function(t){return typeof Blob>"u"?!1:t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"},Yt={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},eo=typeof window<"u"&&typeof window.document<"u",ie=eo?window:{},Je=function(t){return t>0&&t<1/0},to=Array.prototype.slice;function xt(e){return Array.from?Array.from(e):to.call(e)}var ao=/^image\/.+$/;function ht(e){return ao.test(e)}function no(e){var t=ht(e)?e.substr(6):"";return t==="jpeg"&&(t="jpg"),".".concat(t)}var Ta=String.fromCharCode;function ro(e,t,a){var n="",r;for(a+=t,r=t;r<a;r+=1)n+=Ta(e.getUint8(r));return n}var io=ie.btoa;function Ut(e,t){for(var a=[],n=8192,r=new Uint8Array(e);r.length>0;)a.push(Ta.apply(null,xt(r.subarray(0,n)))),r=r.subarray(n);return"data:".concat(t,";base64,").concat(io(a.join("")))}function oo(e){var t=new DataView(e),a;try{var n,r,i;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,s=2;s+1<o;){if(t.getUint8(s)===255&&t.getUint8(s+1)===225){r=s;break}s+=1}if(r){var c=r+4,l=r+10;if(ro(t,c,4)==="Exif"){var f=t.getUint16(l);if(n=f===18761,(n||f===19789)&&t.getUint16(l+2,n)===42){var m=t.getUint32(l+4,n);m>=8&&(i=l+m)}}}if(i){var g=t.getUint16(i,n),w,d;for(d=0;d<g;d+=1)if(w=i+d*12+2,t.getUint16(w,n)===274){w+=8,a=t.getUint16(w,n),t.setUint16(w,1,n);break}}}catch{a=1}return a}function so(e){var t=0,a=1,n=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:a,scaleY:n}}var lo=/\.\d*(?:0|9){12}\d*$/;function jt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return lo.test(e)?Math.round(e*t)/t:e}function Oe(e){var t=e.aspectRatio,a=e.height,n=e.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",i=Je(n),o=Je(a);if(i&&o){var s=a*t;(r==="contain"||r==="none")&&s>n||r==="cover"&&s<n?a=n/t:n=a*t}else i?a=n/t:o&&(n=a*t);return{width:n,height:a}}function uo(e){for(var t=xt(new Uint8Array(e)),a=t.length,n=[],r=0;r+3<a;){var i=t[r],o=t[r+1];if(i===255&&o===218)break;if(i===255&&o===216)r+=2;else{var s=t[r+2]*256+t[r+3],c=r+s+2,l=t.slice(r,c);n.push(l),r=c}}return n.reduce(function(f,m){return m[0]===255&&m[1]===225?f.concat(m):f},[])}function co(e,t){var a=xt(new Uint8Array(e));if(a[2]!==255||a[3]!==224)return e;var n=a[4]*256+a[5],r=[255,216].concat(t,a.slice(4+n));return new Uint8Array(r)}var fo=ie.ArrayBuffer,dt=ie.FileReader,ue=ie.URL||ie.webkitURL,mo=/\.\w+$/,ho=ie.Compressor,go=function(){function e(t,a){$i(this,e),this.file=t,this.exif=[],this.image=new Image,this.options=qe(qe({},Yt),a),this.aborted=!1,this.result=null,this.init()}return Qi(e,[{key:"init",value:function(){var a=this,n=this.file,r=this.options;if(!Zi(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var i=n.type;if(!ht(i)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!ue||!dt){this.fail(new Error("The current browser does not support image compression."));return}fo||(r.checkOrientation=!1,r.retainExif=!1);var o=i==="image/jpeg",s=o&&r.checkOrientation,c=o&&r.retainExif;if(ue&&!s&&!c)this.load({url:ue.createObjectURL(n)});else{var l=new dt;this.reader=l,l.onload=function(f){var m=f.target,g=m.result,w={},d=1;s&&(d=oo(g),d>1&&Ke(w,so(d))),c&&(a.exif=uo(g)),s||c?!ue||d>1?w.url=Ut(g,i):w.url=ue.createObjectURL(n):w.url=g,a.load(w)},l.onabort=function(){a.fail(new Error("Aborted to read the image with FileReader."))},l.onerror=function(){a.fail(new Error("Failed to read the image with FileReader."))},l.onloadend=function(){a.reader=null},s||c?l.readAsArrayBuffer(n):l.readAsDataURL(n)}}},{key:"load",value:function(a){var n=this,r=this.file,i=this.image;i.onload=function(){n.draw(qe(qe({},a),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){n.fail(new Error("Aborted to load the image."))},i.onerror=function(){n.fail(new Error("Failed to load the image."))},ie.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ie.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=r.name,i.src=a.url}},{key:"draw",value:function(a){var n=this,r=a.naturalWidth,i=a.naturalHeight,o=a.rotate,s=o===void 0?0:o,c=a.scaleX,l=c===void 0?1:c,f=a.scaleY,m=f===void 0?1:f,g=this.file,w=this.image,d=this.options,b=document.createElement("canvas"),v=b.getContext("2d"),D=Math.abs(s)%180===90,h=(d.resize==="contain"||d.resize==="cover")&&Je(d.width)&&Je(d.height),P=Math.max(d.maxWidth,0)||1/0,M=Math.max(d.maxHeight,0)||1/0,k=Math.max(d.minWidth,0)||0,F=Math.max(d.minHeight,0)||0,B=r/i,x=d.width,p=d.height;if(D){var W=[M,P];P=W[0],M=W[1];var O=[F,k];k=O[0],F=O[1];var A=[p,x];x=A[0],p=A[1]}h&&(B=x/p);var H=Oe({aspectRatio:B,width:P,height:M},"contain");P=H.width,M=H.height;var X=Oe({aspectRatio:B,width:k,height:F},"cover");if(k=X.width,F=X.height,h){var oe=Oe({aspectRatio:B,width:x,height:p},d.resize);x=oe.width,p=oe.height}else{var $=Oe({aspectRatio:B,width:x,height:p}),Q=$.width;x=Q===void 0?r:Q;var Fe=$.height;p=Fe===void 0?i:Fe}x=Math.floor(jt(Math.min(Math.max(x,k),P))),p=Math.floor(jt(Math.min(Math.max(p,F),M)));var at=-x/2,nt=-p/2,rt=x,it=p,ke=[];if(h){var We=0,Be=0,E=r,Y=i,Ae=Oe({aspectRatio:B,width:r,height:i},{contain:"cover",cover:"contain"}[d.resize]);E=Ae.width,Y=Ae.height,We=(r-E)/2,Be=(i-Y)/2,ke.push(We,Be,E,Y)}if(ke.push(at,nt,rt,it),D){var Ee=[p,x];x=Ee[0],p=Ee[1]}b.width=x,b.height=p,ht(d.mimeType)||(d.mimeType=g.type);var Re="transparent";g.size>d.convertSize&&d.convertTypes.indexOf(d.mimeType)>=0&&(d.mimeType="image/jpeg");var K=d.mimeType==="image/jpeg";if(K&&(Re="#fff"),v.fillStyle=Re,v.fillRect(0,0,x,p),d.beforeDraw&&d.beforeDraw.call(this,v,b),!this.aborted&&(v.save(),v.translate(x/2,p/2),v.rotate(s*Math.PI/180),v.scale(l,m),v.drawImage.apply(v,[w].concat(ke)),v.restore(),d.drew&&d.drew.call(this,v,b),!this.aborted)){var Se=function(J){if(!n.aborted){var De=function(Me){return n.done({naturalWidth:r,naturalHeight:i,result:Me})};if(J&&K&&d.retainExif&&n.exif&&n.exif.length>0){var Te=function(Me){return De(Ht(Ut(co(Me,n.exif),d.mimeType)))};if(J.arrayBuffer)J.arrayBuffer().then(Te).catch(function(){n.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var fe=new dt;n.reader=fe,fe.onload=function(st){var Me=st.target;Te(Me.result)},fe.onabort=function(){n.fail(new Error("Aborted to read the compressed image with FileReader."))},fe.onerror=function(){n.fail(new Error("Failed to read the compressed image with FileReader."))},fe.onloadend=function(){n.reader=null},fe.readAsArrayBuffer(J)}}else De(J)}};b.toBlob?b.toBlob(Se,d.mimeType,d.quality):Se(Ht(b.toDataURL(d.mimeType,d.quality)))}}},{key:"done",value:function(a){var n=a.naturalWidth,r=a.naturalHeight,i=a.result,o=this.file,s=this.image,c=this.options;if(ue&&s.src.indexOf("blob:")===0&&ue.revokeObjectURL(s.src),i)if(c.strict&&!c.retainExif&&i.size>o.size&&c.mimeType===o.type&&!(c.width>n||c.height>r||c.minWidth>n||c.minHeight>r||c.maxWidth<n||c.maxHeight<r))i=o;else{var l=new Date;i.lastModified=l.getTime(),i.lastModifiedDate=l,i.name=o.name,i.name&&i.type!==o.type&&(i.name=i.name.replace(mo,no(i.type)))}else i=o;this.result=i,c.success&&c.success.call(this,i)}},{key:"fail",value:function(a){var n=this.options;if(n.error)n.error.call(this,a);else throw a}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=ho,e}},{key:"setDefaults",value:function(a){Ke(Yt,a)}}]),e}();const vo={components:{EmailManager:Qt,OAuthManager:Kt,SecurityManager:ka},data(){return{userCardLoading:!1,localuser:ve,userInfo:{},tab:"userInfo",tabItems:[{title:"用户信息",value:"userInfo",icon:"mdi-account-circle"},{title:"账户",value:"username",icon:"mdi-cog"},{title:"密码",value:"password",icon:"mdi-lock"},{title:"头像",value:"avatar",icon:"mdi-image"},{title:"邮箱",value:"email",icon:"mdi-email"},{title:"OAuth",value:"oauth",icon:"mdi-link-variant"},{title:"安全",value:"security",icon:"mdi-security"}],select:{state:"未知",abbr:"3"},items:[{state:"男",abbr:"0"},{state:"女",abbr:"1"},{state:"猫娘",abbr:"2"},{state:"未知",abbr:"3"}],valid:!1,nameRules:[e=>e?!0:"Name is required.",e=>(e==null?void 0:e.length)<=10?!0:"Name must be less than 10 characters.",e=>/^[a-z]+$/.test(e)?!0:"仅小写字母"],passwordRules:[e=>e?!0:"password is required.",e=>(e==null?void 0:e.length)<=10?!0:"Name must be less than 10 characters.",e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&\.])[A-Za-z\d$@$!%*?&\.]{8,}/.test(e)?!0:"密码必须由数字、大小写字母和特殊字符组成，且长度至少为8位"],avatarrules:[e=>!e||!e.length||e[0].size<2e6||"Avatar size should be less than 2 MB!"],oldPassword:"",newPassword:"",passwordvalid:!1,usernamevalid:!1,useravatarfile:null,previewImage:null,avatarvalid:!1,VITE_APP_S3_BUCKET:"https://zerocat-bitiful.houlangs.com"}},setup(){Ka({title:"账户"})},async created(){ve.isLogin.value?await this.getUserById():this.$router.push("/app/account/login")},methods:{onFileChange(e){const t=e.target.files?e.target.files[0]:null;t instanceof File&&t.type.startsWith("image/")?new go(t,{quality:.8,maxWidth:500,maxHeight:500,success:a=>{this.previewImage=URL.createObjectURL(a),this.useravatarfile=a},error:a=>{console.error("图片压缩出错：",a.message),this.$toast.add({severity:"error",summary:"错误",detail:a.message,life:3e3})}}):(console.error("请选择有效的图片文件"),this.$toast.add({severity:"error",summary:"错误",detail:"请选择有效的图片文件",life:3e3}))},async uploadAvatar(){const e=new FormData;e.append("zcfile",this.useravatarfile);try{const t=await un("",e);this.showToast(t.data.status||"info","修改头像",t.data.message)}catch(t){this.showToast("error","错误",t.message)}},async getUserById(){this.userCardLoading=!0;try{const e=await ln(ve.user.value.id);this.userInfo=e.data.info,console.log(this.userInfo),this.select=this.items.find(t=>t.abbr==this.userInfo.sex)}catch(e){this.showToast("error","错误",e.message)}finally{this.userCardLoading=!1}},async submit(){this.userCardLoading=!0;try{const e=await sn({display_name:this.userInfo.display_name,aboutme:this.userInfo.motto,sex:this.select.abbr});this.showToast(e.data.status||"info","修改个人信息",e.data.message),await this.getUserById()}catch(e){this.showToast("error","错误",e.message)}finally{this.userCardLoading=!1}},async changeusername(){this.userCardLoading=!0;try{const e=await on({username:this.userInfo.username});this.showToast(e.data.status||"info","修改用户名",e.data.message),await this.getUserById()}catch(e){this.showToast("error","错误",e.message)}finally{this.userCardLoading=!1}},async changepassword(){this.userCardLoading=!0;try{const e=await rn({oldpw:this.oldPassword,newpw:this.newPassword});this.showToast(e.data.status||"info","修改密码",e.data.message),await this.getUserById()}catch(e){this.showToast("error","错误",e.message)}finally{this.userCardLoading=!1}},showToast(e,t,a){this.$toast.add({severity:e,summary:t,detail:a,life:3e3})}}},yo={class:"text-h4 font-weight-bold mb-2"},bo={class:"d-flex flex-wrap gap-2 mb-2"},wo={key:0,class:"mt-3 text-body-1 text-medium-emphasis"};function po(e,t,a,n,r,i){const o=Qt,s=Kt,c=ka;return R(),te(fn,{fluid:"",class:"pa-4"},{default:y(()=>[u(le,null,{default:y(()=>[u(C,{cols:"12",md:"10",lg:"8",class:"mx-auto"},{default:y(()=>[u(ft,{hover:"",class:"mb-6 elevation-2",disabled:r.userCardLoading,loading:r.userCardLoading},{loader:y(({isActive:l})=>[u(ja,{active:l,height:"4",indeterminate:"",color:"primary"},null,8,["active"])]),default:y(()=>[u(le,{"no-gutters":"",align:"center"},{default:y(()=>[u(C,{cols:"12",sm:"4",md:"3",class:"pa-4 text-center"},{default:y(()=>[u(Ya,{size:"120",class:"mb-2 elevation-2"},{default:y(()=>[u(Pt,{alt:r.userInfo.display_name,src:r.VITE_APP_S3_BUCKET+"/user/"+r.userInfo.images,cover:""},null,8,["alt","src"])]),_:1})]),_:1}),u(C,{cols:"12",sm:"8",md:"9",class:"pa-4"},{default:y(()=>[_("h2",yo,N(r.userInfo.display_name),1),_("div",bo,[u(Ve,{color:"primary",variant:"outlined"},{default:y(()=>[u(ee,{start:"",icon:"mdi-account-circle"}),V(" ID: "+N(r.userInfo.id),1)]),_:1}),u(Ve,{color:"success",variant:"outlined"},{default:y(()=>[u(ee,{start:"",icon:"mdi-tag"}),t[12]||(t[12]=V(" 创作者 "))]),_:1})]),u(Ua,null,{default:y(()=>[r.userInfo.motto?(R(),ye("div",wo,N(r.userInfo.motto),1)):Xt("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"]),u(ft,{class:"elevation-2"},{default:y(()=>[u(le,{"no-gutters":""},{default:y(()=>[u(C,{cols:"12",md:"3",class:"hidden-sm-and-down"},{default:y(()=>[u(qa,{"bg-color":"background",class:"py-0 h-100"},{default:y(()=>[(R(!0),ye(ne,null,kt(r.tabItems,l=>(R(),te(za,{key:l.value,value:l.value,active:r.tab===l.value,onClick:f=>r.tab=l.value,color:"primary",class:"mb-1",rounded:"lg"},{prepend:y(()=>[u(ee,{icon:l.icon},null,8,["icon"])]),default:y(()=>[u(Ga,null,{default:y(()=>[V(N(l.title),1)]),_:2},1024)]),_:2},1032,["value","active","onClick"]))),128))]),_:1})]),_:1}),u(C,{cols:"12",class:"hidden-md-and-up"},{default:y(()=>[u(Xa,{modelValue:r.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>r.tab=l),"show-arrows":"",density:"compact","bg-color":"background","slider-color":"primary","align-tabs":"center"},{default:y(()=>[(R(!0),ye(ne,null,kt(r.tabItems,l=>(R(),te($a,{key:l.value,value:l.value},{default:y(()=>[u(ee,{icon:l.icon,class:"mr-1"},null,8,["icon"]),V(" "+N(l.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(C,{cols:"12",md:"9"},{default:y(()=>[u($t,{class:"pa-4"},{default:y(()=>[u(Qa,{modelValue:r.tab,"onUpdate:modelValue":t[11]||(t[11]=l=>r.tab=l)},{default:y(()=>[u(se,{value:"userInfo"},{default:y(()=>[t[14]||(t[14]=_("h3",{class:"text-h5 mb-4"},"个人资料",-1)),u(Ye,{modelValue:r.valid,"onUpdate:modelValue":t[4]||(t[4]=l=>r.valid=l)},{default:y(()=>[u(le,null,{default:y(()=>[u(C,{cols:"12",md:"6"},{default:y(()=>[u(Ue,{modelValue:r.userInfo.display_name,"onUpdate:modelValue":t[1]||(t[1]=l=>r.userInfo.display_name=l),counter:10,label:"显示名称",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue"])]),_:1}),u(C,{cols:"12",md:"6"},{default:y(()=>[u(bt,{modelValue:r.select,"onUpdate:modelValue":t[2]||(t[2]=l=>r.select=l),items:r.items,"item-title":"state","item-value":"abbr",label:"性别",variant:"outlined",density:"comfortable","persistent-hint":"","return-object":""},null,8,["modelValue","items"])]),_:1}),u(C,{cols:"12"},{default:y(()=>[u(cn,{label:"个人简介",modelValue:r.userInfo.motto,"onUpdate:modelValue":t[3]||(t[3]=l=>r.userInfo.motto=l),counter:500,variant:"outlined","auto-grow":"",rows:"3"},null,8,["modelValue"])]),_:1}),u(C,{cols:"12"},{default:y(()=>[u(G,{onClick:i.submit,disabled:!r.valid,color:"primary",size:"large","prepend-icon":"mdi-content-save",class:"px-6"},{default:y(()=>t[13]||(t[13]=[V(" 保存资料 ")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(se,{value:"username"},{default:y(()=>[t[17]||(t[17]=_("h3",{class:"text-h5 mb-4"},"修改用户名",-1)),u(Ye,{modelValue:r.usernamevalid,"onUpdate:modelValue":t[6]||(t[6]=l=>r.usernamevalid=l)},{default:y(()=>[u(le,null,{default:y(()=>[u(C,{cols:"12",md:"8"},{default:y(()=>[u(Ue,{modelValue:r.userInfo.username,"onUpdate:modelValue":t[5]||(t[5]=l=>r.userInfo.username=l),counter:10,rules:r.nameRules,label:"用户名",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","rules"]),t[15]||(t[15]=_("div",{class:"text-caption text-medium-emphasis"},"用户名只能包含小写字母",-1))]),_:1}),u(C,{cols:"12"},{default:y(()=>[u(G,{onClick:i.changeusername,disabled:!r.usernamevalid,color:"primary",size:"large","prepend-icon":"mdi-check",class:"px-6"},{default:y(()=>t[16]||(t[16]=[V(" 保存用户名 ")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(se,{value:"password"},{default:y(()=>[t[20]||(t[20]=_("h3",{class:"text-h5 mb-4"},"修改密码",-1)),u(Ye,{modelValue:r.passwordvalid,"onUpdate:modelValue":t[9]||(t[9]=l=>r.passwordvalid=l)},{default:y(()=>[u(le,null,{default:y(()=>[u(C,{cols:"12",md:"8"},{default:y(()=>[u(Ue,{modelValue:r.oldPassword,"onUpdate:modelValue":t[7]||(t[7]=l=>r.oldPassword=l),label:"当前密码",variant:"outlined",density:"comfortable",type:"password",required:""},null,8,["modelValue"])]),_:1}),u(C,{cols:"12",md:"8"},{default:y(()=>[u(Ue,{modelValue:r.newPassword,"onUpdate:modelValue":t[8]||(t[8]=l=>r.newPassword=l),rules:r.passwordRules,label:"新密码",variant:"outlined",density:"comfortable",type:"password",required:""},null,8,["modelValue","rules"]),t[18]||(t[18]=_("div",{class:"text-caption text-medium-emphasis"}," 密码必须由数字、大小写字母和特殊字符组成，且长度至少为8位 ",-1))]),_:1}),u(C,{cols:"12"},{default:y(()=>[u(G,{onClick:i.changepassword,disabled:!r.passwordvalid,color:"primary",size:"large","prepend-icon":"mdi-lock-reset",class:"px-6"},{default:y(()=>t[19]||(t[19]=[V(" 更新密码 ")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(se,{value:"avatar"},{default:y(()=>[t[23]||(t[23]=_("h3",{class:"text-h5 mb-4"},"更新头像",-1)),u(Ye,{modelValue:r.avatarvalid,"onUpdate:modelValue":t[10]||(t[10]=l=>r.avatarvalid=l)},{default:y(()=>[u(le,null,{default:y(()=>[u(C,{cols:"12",md:"6"},{default:y(()=>[u(dn,{label:"上传头像",accept:"image/*",onChange:i.onFileChange,placeholder:"选择图片上传","prepend-icon":"mdi-camera",variant:"outlined",density:"comfortable","show-size":""},null,8,["onChange"]),t[21]||(t[21]=_("div",{class:"text-caption text-medium-emphasis"},"图片将被自动压缩",-1))]),_:1}),u(C,{cols:"12",md:"6",class:"d-flex align-center justify-center"},{default:y(()=>[r.previewImage?(R(),te(Tt,{key:0,class:"elevation-2 rounded-lg overflow-hidden",width:"150",height:"150"},{default:y(()=>[u(Pt,{src:r.previewImage,height:"150",width:"150",cover:""},null,8,["src"])]),_:1})):(R(),te(Tt,{key:1,class:"d-flex align-center justify-center bg-grey-lighten-3 rounded-lg",width:"150",height:"150"},{default:y(()=>[u(ee,{icon:"mdi-image",size:"64",color:"grey-darken-1"})]),_:1}))]),_:1}),u(C,{cols:"12"},{default:y(()=>[u(G,{onClick:i.uploadAvatar,disabled:!r.previewImage,color:"primary",size:"large","prepend-icon":"mdi-cloud-upload",class:"px-6"},{default:y(()=>t[22]||(t[22]=[V(" 上传头像 ")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(se,{value:"email"},{default:y(()=>[t[24]||(t[24]=_("h3",{class:"text-h5 mb-4"},"邮箱管理",-1)),u(o,{ref:"emailManager"},null,512)]),_:1}),u(se,{value:"oauth"},{default:y(()=>[t[25]||(t[25]=_("h3",{class:"text-h5 mb-4"},"第三方账号关联",-1)),u(s)]),_:1}),u(se,{value:"security"},{default:y(()=>[t[26]||(t[26]=_("h3",{class:"text-h5 mb-4"},"安全管理",-1)),u(c)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const zo=Gt(vo,[["render",po]]);export{zo as default};
