import{_ as p,y as f,t as o,o as i,w as t,a as h,f as e,F as _,s as m,aa as g,r as x,ac as y,k as l,v as c,ad as V,x as L,ae as k,l as b,q as C}from"./index-YEMYjwFY.js";const S={props:{url:{type:String,required:!0},title:{type:String,required:!1},subtitle:{type:String,required:!1}},data(){return{users:[],page:0,canLoad:!0,scratch_proxy:"https://scratch.192325.xyz",limit:20}},methods:{async fetchUsers(){await f.get(`${this.scratch_proxy}${this.url}limit=${this.limit}&offset=${this.page*this.limit}`).then(s=>{this.users=this.users.concat(s.data),this.page+=1,s.data.length===0&&(this.canLoad=!1)})}},created(){this.fetchUsers()}};function $(s,n,d,q,r,u){return i(),o(C,{title:d.title,border:"",hover:""},{default:t(()=>[(i(!0),h(_,null,m(r.users,a=>(i(),o(g,{key:a.id},{default:t(()=>[e(x,{to:"/app/proxy/user/"+a.username},{prepend:t(()=>[e(L,{image:`${r.scratch_proxy}/avatars/${a.id}`},null,8,["image"])]),default:t(()=>[e(y,null,{default:t(()=>[l(c(a.username),1)]),_:2},1024),e(V,null,{default:t(()=>[l(c(a.profile.bio),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128)),e(k,null,{default:t(()=>[e(b,{onClick:u.fetchUsers,disabled:!r.canLoad},{default:t(()=>n[0]||(n[0]=[l("继续加载")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1},8,["title"])}const B=p(S,[["render",$]]);export{B as _};
