import{_ as h,r as p,b as k,Y as i,o,N as e,e as t,R as _,S as V,f as l,O as w,i as x,L as d,Z as b,a9 as y,aa as C,P as f,ai as L,c as S,F as z,X as A,aj as I,C as B,ak as N,a0 as O,U as u,T,al as D,$ as F,aY as E,W as P,a6 as R}from"./index-DHBb6a3D.js";import"https://static.geetest.com/v4/gt4.js";const U={class:"d-flex align-center"},Y={class:"d-flex align-center text-grey"},$={class:"mr-4"},j={class:"mt-1"},M={__name:"index",setup(W){const c=p([]),m=p(!1),n=p({show:!1,text:"",color:"error"}),g=async()=>{m.value=!0;try{const r=await R.get("/oauth/applications");c.value=r.data}catch(r){v("加载应用列表失败"),console.error("Failed to load applications:",r)}m.value=!1},v=r=>{n.value={show:!0,text:r,color:"error"}};return k(()=>{g()}),(r,a)=>(o(),i(P,{fluid:""},{default:e(()=>[t(_,{class:"mb-4"},{default:e(()=>[t(V,null,{default:e(()=>[l("div",U,[a[2]||(a[2]=l("h1",{class:"text-h4"},"OAuth 应用",-1)),t(w),t(x,{to:"/app/oauth/applications/new",color:"primary","prepend-icon":"mdi-plus"},{default:e(()=>[...a[1]||(a[1]=[d(" 新建应用 ",-1)])]),_:1})])]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(V,null,{default:e(()=>[t(b,null,{default:e(()=>[m.value?(o(),i(y,{key:0,class:"text-center py-8"},{default:e(()=>[t(C,{indeterminate:""})]),_:1})):c.value.length===0?(o(),i(y,{key:1,class:"text-center py-8"},{default:e(()=>[t(f,{class:"mb-4",color:"grey",icon:"mdi-apps",size:"64"}),a[4]||(a[4]=l("h3",{class:"text-h6 mb-2"},"还没有OAuth应用",-1)),a[5]||(a[5]=l("p",{class:"text-body-1 text-grey"}," 创建一个新的OAuth应用来让其他用户通过OAuth授权访问你的应用。 ",-1)),t(x,{to:"/app/oauth/applications/new",class:"mt-4",color:"primary"},{default:e(()=>[...a[3]||(a[3]=[d(" 创建第一个应用 ",-1)])]),_:1})]),_:1})):(o(),i(L,{key:2,lines:"two"},{default:e(()=>[(o(!0),S(z,null,A(c.value,s=>(o(),i(I,{key:s.client_id,style:B({display:s.status=="deleted"?"none":""}),to:`/app/oauth/applications/${s.client_id}`,class:"app-list-item"},{prepend:e(()=>[t(F,{image:s.logo_url||"/default-app-logo.png",class:"mr-4",size:"48"},null,8,["image"])]),default:e(()=>[t(N,{class:"text-h6 mb-1"},{default:e(()=>[d(u(s.name)+" ",1),s.is_verified?(o(),i(T,{key:0,class:"ml-2",color:"success",size:"small"},{default:e(()=>[...a[6]||(a[6]=[d(" 已验证 ",-1)])]),_:1})):O("",!0)]),_:2},1024),t(D,null,{default:e(()=>[l("div",Y,[t(f,{class:"mr-1",icon:"mdi-identifier",size:"small"}),l("span",$,u(s.client_id),1),t(f,{class:"mr-1",icon:"mdi-clock-outline",size:"small"}),l("span",null,"创建于 "+u(new Date(s.created_at).toLocaleDateString()),1)]),l("div",j,u(s.description||"暂无描述"),1)]),_:2},1024)]),_:2},1032,["style","to"]))),128))]),_:1}))]),_:1})]),_:1})]),_:1}),t(E,{modelValue:n.value.show,"onUpdate:modelValue":a[0]||(a[0]=s=>n.value.show=s),color:n.value.color,timeout:3e3},{default:e(()=>[d(u(n.value.text),1)]),_:1},8,["modelValue","color"])]),_:1}))}},q=h(M,[["__scopeId","data-v-3fb53010"]]);export{q as default};
