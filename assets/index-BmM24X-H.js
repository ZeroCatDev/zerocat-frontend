import{_ as V}from"./Projects-BXrA4lVn.js";import{_ as w,Y as p,o as c,N as l,e as t,R as h,S as r,aG as u,f as m,i as d,L as n,P as v,U as f,aU as C,a0 as b,aj as _,ak as k,aC as g,aH as x,W as P,a7 as S}from"./index-sIbGf8Dn.js";import{l as U}from"./programming_languages-Aq2ViMcP.js";import{s as j}from"./special_languages-1P7AwNtB.js";import{V as A}from"./VCombobox-DRoHa0nc.js";import"./ProjectCard-Dw7nOQQV.js";import"https://static.geetest.com/v4/gt4.js";import"./filter-DOcUrmYf.js";const N={components:{Projects:V},setup(){S({title:"项目"})},data(){return{search:{title:"",type:"",description:"",source:"",order:"view_up",authorid:"",state:"public",tag:[],limit:40},showAdvancedSearch:!1,typeitems:[{name:"所有",type:""}],orderitems:[{name:"观看量升序",type:"view_up"},{name:"观看量降序",type:"view_down"},{name:"星标升序",type:"star_up"},{name:"星标降序",type:"star_down"},{name:"时间升序",type:"time_up"},{name:"时间降序",type:"time_down"},{name:"序号升序",type:"id_up"},{name:"序号降序",type:"id_down"}],tags:["动画","故事","音乐","硬核","艺术","水"],url:""}},methods:{toggleAdvancedSearch(){this.showAdvancedSearch=!this.showAdvancedSearch},onPageChange(){const o=new Date().getTime();this.url=`/searchapi?search_userid=${this.search.authorid}&search_type=${this.search.type}&search_title=${this.search.title}&search_source=${this.search.source}&search_description=${this.search.description}&search_orderby=${this.search.order}&search_state=${this.search.state}&search_tag=${this.search.tag}&timestamp=${o}`},resetSearch(){this.search={title:"",type:"scratch",description:"",source:"",order:"view_up",authorid:"",state:"public",tag:[],limit:40},this.onPageChange()},viewLatest(){this.search.order="time_down",this.onPageChange()},viewPopular(){this.search.order="view_down",this.onPageChange()},viewStar(){this.search.order="star_down",this.onPageChange()}},async created(){this.onPageChange(),Object.entries(U).forEach(([o,e])=>{this.typeitems.push({name:e.name,type:o})}),Object.entries(j).forEach(([o,e])=>{this.typeitems.push({name:e.name,type:o})})}};function T(o,e,L,B,a,i){const y=V;return c(),p(P,null,{default:l(()=>[t(h,null,{default:l(()=>[t(r,{cols:"12"},{default:l(()=>[t(u,{modelValue:a.search.title,"onUpdate:modelValue":e[0]||(e[0]=s=>a.search.title=s),clearable:"",label:"作品名","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12"},{default:l(()=>[t(d,{variant:"text",onClick:i.toggleAdvancedSearch},{default:l(()=>[t(v,null,{default:l(()=>[n(f(a.showAdvancedSearch?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1}),e[7]||(e[7]=n(" 高级搜索 ",-1))]),_:1},8,["onClick"]),e[12]||(e[12]=m("br",null,null,-1)),e[13]||(e[13]=m("br",null,null,-1)),t(C,null,{default:l(()=>[a.showAdvancedSearch?(c(),p(h,{key:0},{default:l(()=>[t(r,{cols:"6"},{default:l(()=>[t(u,{modelValue:a.search.description,"onUpdate:modelValue":e[1]||(e[1]=s=>a.search.description=s),clearable:"",label:"作品描述","prepend-inner-icon":"mdi-text"},null,8,["modelValue"])]),_:1}),t(r,{cols:"6"},{default:l(()=>[t(u,{modelValue:a.search.source,"onUpdate:modelValue":e[2]||(e[2]=s=>a.search.source=s),clearable:"",label:"作品内容","prepend-inner-icon":"mdi-file"},null,8,["modelValue"])]),_:1}),t(r,{cols:"6"},{default:l(()=>[t(u,{modelValue:a.search.authorid,"onUpdate:modelValue":e[3]||(e[3]=s=>a.search.authorid=s),clearable:"",label:"用户ID","prepend-inner-icon":"mdi-account"},null,8,["modelValue"])]),_:1}),t(r,{cols:"6"},{default:l(()=>[t(A,{modelValue:a.search.tag,"onUpdate:modelValue":e[4]||(e[4]=s=>a.search.tag=s),"hide-no-data":!1,items:a.tags,label:"标签",chips:"","hide-selected":"",multiple:"","persistent-hint":""},{"no-data":l(()=>[t(_,null,{default:l(()=>[t(k,null,{default:l(()=>[e[8]||(e[8]=n(' No results matching "',-1)),m("strong",null,f(a.search.tag),1),e[9]||(e[9]=n('". Press ',-1)),e[10]||(e[10]=m("kbd",null,"enter",-1)),e[11]||(e[11]=n(" to create a new one ",-1))]),_:1})]),_:1})]),_:1},8,["modelValue","items"])]),_:1}),t(r,{cols:"4"},{default:l(()=>[t(g,{modelValue:a.search.order,"onUpdate:modelValue":e[5]||(e[5]=s=>a.search.order=s),items:a.orderitems,clearable:"","item-title":"name","item-value":"type",label:"排序","prepend-inner-icon":"mdi-sort"},null,8,["modelValue","items"])]),_:1}),t(r,{cols:"4"},{default:l(()=>[t(g,{modelValue:a.search.type,"onUpdate:modelValue":e[6]||(e[6]=s=>a.search.type=s),items:a.typeitems,clearable:"","item-title":"name","item-value":"type",label:"项目类型","prepend-inner-icon":"mdi-format-list-bulleted"},null,8,["modelValue","items"])]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1}),t(r,{class:"d-flex justify-end",cols:"12"},{default:l(()=>[t(d,{"append-icon":"mdi-magnify",class:"mr-2",color:"primary",onClick:i.onPageChange,onKeydown:x(i.onPageChange,["enter"])},{default:l(()=>[...e[14]||(e[14]=[n(" 搜索 ",-1)])]),_:1},8,["onClick","onKeydown"]),t(d,{"append-icon":"mdi-refresh",onClick:i.resetSearch},{default:l(()=>[...e[15]||(e[15]=[n(" 重置 ",-1)])]),_:1},8,["onClick"])]),_:1}),t(r,{class:"d-flex justify-end mt-4",cols:"12"},{default:l(()=>[t(d,{"append-icon":"mdi-new-box",class:"mr-2",variant:"tonal",onClick:i.viewLatest},{default:l(()=>[...e[16]||(e[16]=[n(" 最新作品 ",-1)])]),_:1},8,["onClick"]),t(d,{"append-icon":"mdi-fire",class:"mr-2",variant:"tonal",onClick:i.viewPopular},{default:l(()=>[...e[17]||(e[17]=[n(" 最热门作品 ",-1)])]),_:1},8,["onClick"]),t(d,{"append-icon":"mdi-star",variant:"tonal",onClick:i.viewStar},{default:l(()=>[...e[18]||(e[18]=[n(" 最多收藏 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1}),t(y,{url:a.url},null,8,["url"])]),_:1})}const G=w(N,[["render",T]]);export{G as default};
