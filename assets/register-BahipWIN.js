import{_ as B}from"./LoadingDialog-B5sacSsV.js";import{p as N,a8 as F,a9 as D,i as H,aa as K,ab as M,ac as q,ad as p,H as E,ae as m,k as G,Z as P,a as t,af as L,_ as W,G as R,I as j,r as Q,o as J,e as X,K as n,w as l,P as O,Q as u,a2 as S,M as d,O as s,ag as Y,T,a1 as _,ah as C,a6 as $,a7 as ee,W as te}from"./index-DGh90Ang.js";import"https://static.geetest.com/v4/gt4.js";import{i as U,g as Z,r as ae}from"./useRecaptcha-D4VPpSaq.js";import{u as le}from"./vue.8fc199ce-Cv1XXqEr.js";import{V as re}from"./VForm-CjVhl4tx.js";import{V as x}from"./VCheckbox-Cc8GShNy.js";const oe=N({id:String,text:String,...F(D({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),w=H()({name:"VTooltip",props:oe(),emits:{"update:modelValue":a=>!0},setup(a,e){let{slots:f}=e;const v=K(a,"modelValue"),{scopeId:r}=M(),b=q(),g=p(()=>a.id||`v-tooltip-${b}`),c=E(),i=p(()=>a.location.split(" ").length>1?a.location:a.location+" center"),o=p(()=>a.origin==="auto"||a.origin==="overlap"||a.origin.split(" ").length>1||a.location.split(" ").length>1?a.origin:a.origin+" center"),z=p(()=>a.transition?a.transition:v.value?"scale-transition":"fade-transition"),A=p(()=>m({"aria-describedby":g.value},a.activatorProps));return G(()=>{const I=P.filterProps(a);return t(P,m({ref:c,class:["v-tooltip",a.class],style:a.style,id:g.value},I,{modelValue:v.value,"onUpdate:modelValue":V=>v.value=V,transition:z.value,absolute:!0,location:i.value,origin:o.value,persistent:!0,role:"tooltip",activatorProps:A.value,_disableGlobalStack:!0},r),{activator:f.activator,default:function(){var h;for(var V=arguments.length,k=new Array(V),y=0;y<V;y++)k[y]=arguments[y];return((h=f.default)==null?void 0:h.call(f,...k))??a.text}})}),L({},c)}}),ne={components:{LoadingDialog:B},setup(){le({title:"ZeroCat - Register",meta:[{name:"description",content:"Create a new ZeroCat account."},{name:"keywords",content:"ZeroCat, register, account"}]})},data(){return{BASE_API:"https://zerocat-api.houlangs.com",email:"",username:"",tryinguser:{},loading:!1,initRecaptcha:U,getResponse:Z,resetCaptcha:ae,agreement:{privacy:!1,terms:!1,rules:!1,datadelete:!1},emailRules:[a=>a?!0:"å¿…é¡»å¡«å†™é‚®ç®±",a=>/.+@.+\..+/.test(a)?!0:"ä¸ç¬¦åˆæ ¼å¼"],usernameRules:[a=>a?!0:"å¿…é¡»å¡«å†™ç”¨æˆ·å"]}},created(){R.islogin.value==!0&&this.$router.push("/")},setup(){U("recaptcha-div","float")},methods:{async register(){for(const a in this.agreement)if(this.agreement[a]===!1){this.addtoast("è¯·å…ˆé˜…è¯»å¹¶åŒæ„æœ‰å…³åè®®");return}if(this.loading=!0,this.tryinguser=await j({url:"/account/register",method:"post",data:{captcha:Z(),un:this.email,pw:this.username}}),this.tryinguser.message!="OK"){this.loading=!1,this.$toast.add({severity:"info",summary:"info",detail:this.tryinguser.msg||this.tryinguser.message,life:3e3});return}this.loading=!1,R.setuser(this.tryinguser.token),console.log(this.tryinguser),(this.tryinguser.msg||this.tryinguser.message=="OK")&&this.$router.push("/")},addtoast(a){this.$toast.add({severity:"info",summary:"info",detail:a,life:3e3})}}},ie={class:"auth-wrapper d-flex align-center justify-center pa-4"};function se(a,e,f,v,r,b){const g=Q("v-cardtext"),c=B;return J(),X(te,null,[n("div",ie,[t(T,{class:"auth-card pa-4 pt-7","max-width":"448",border:""},{default:l(()=>[t(O,null,{default:l(()=>[t(u,{cols:"12"},{default:l(()=>[t(g,null,{default:l(()=>e[10]||(e[10]=[n("h5",{class:"text-h5 font-weight-semibold mb-1"}," æ¬¢è¿æ¥åˆ°ZeroCatNextï¼ ğŸ‘‹ğŸ» ",-1),n("p",{class:"mb-0"},"åˆ›å»ºä½ çš„è´¦æˆ·",-1)])),_:1})]),_:1})]),_:1}),t(g,null,{default:l(()=>[t(re,null,{default:l(()=>[t(O,null,{default:l(()=>[t(u,{cols:"12"},{default:l(()=>[t(S,{label:"é‚®ç®±",type:"email",modelValue:r.email,"onUpdate:modelValue":e[0]||(e[0]=i=>r.email=i),variant:"outlined",required:"",rules:r.emailRules},null,8,["modelValue","rules"]),t(S,{label:"ç”¨æˆ·å",type:"text",modelValue:r.username,"onUpdate:modelValue":e[1]||(e[1]=i=>r.username=i),variant:"outlined",required:"",rules:r.usernameRules},null,8,["modelValue","rules"])]),_:1}),t(u,{cols:"9"},{default:l(()=>e[11]||(e[11]=[n("div",{id:"recaptcha-div"},null,-1)])),_:1}),t(u,{cols:"3"},{default:l(()=>[t(d,{onClick:e[2]||(e[2]=i=>r.resetCaptcha()),variant:"text"},{default:l(()=>e[12]||(e[12]=[s("åˆ·æ–°")])),_:1})]),_:1}),t(u,{cols:"12"},{default:l(()=>[t(Y,{persistent:""},{activator:l(({props:i})=>[t(d,m(i,{class:"text-none",color:"primary",rounded:"xl",text:"æ³¨å†Œ",variant:"flat",size:"large","append-icon":"mdi-arrow-right"}),null,16)]),default:l(({isActive:i})=>[t(T,{title:`æ‚¨æ­£åœ¨ä½¿ç”¨ç”±åšæµª(åŠå­™æ‚Ÿå…ƒ)æä¾›çš„æœåŠ¡
`},{default:l(()=>[t(_,null,{default:l(()=>[e[20]||(e[20]=s(" æˆ‘ä»¬å¯èƒ½ä¼šæ”¶é›†æ‚¨çš„ä¸ªäººä¿¡æ¯,å…·ä½“å‚è§ ")),t(w,{location:"bottom"},{activator:l(({props:o})=>[n("a",m({href:"https://wuyuan.dev/privacy-policy/privacy-policy.html",target:"_blank"},o,{onClick:e[3]||(e[3]=C(()=>{},["stop"]))})," éšç§ç­–ç•¥ ",16)]),default:l(()=>[e[13]||(e[13]=s(" å­™æ‚Ÿå…ƒç½‘ç«™ä¸æœåŠ¡éšç§ç­–ç•¥ "))]),_:1}),t(x,{modelValue:r.agreement.privacy,"onUpdate:modelValue":e[4]||(e[4]=o=>r.agreement.privacy=o)},{label:l(()=>e[14]||(e[14]=[n("div",null,"æˆ‘å·²é˜…è¯»å¹¶åŒæ„éšç§ç­–ç•¥",-1)])),_:1},8,["modelValue"]),e[21]||(e[21]=s("æˆ‘ä»¬å°†åœ¨ä¸­å›½å¤§é™†å®‰å…¨çš„å­˜å‚¨æ‚¨çš„æ•°æ®ï¼Œæˆ‘ä»¬æš‚ä¸æä¾›è‡ªåŠ©åˆ é™¤æ‚¨çš„ä¸ªäººæ•°æ®ï¼Œå¦‚æœæ‚¨å¸Œæœ›åˆ é™¤æ‚¨çš„æ•°æ®ï¼Œæ‚¨éœ€è¦ä¼˜å…ˆé€‰æ‹©è”ç³»æˆ‘ä»¬ ")),t(x,{modelValue:r.agreement.datadelete,"onUpdate:modelValue":e[5]||(e[5]=o=>r.agreement.datadelete=o)},{label:l(()=>e[15]||(e[15]=[n("div",null," æˆ‘ç†è§£å¹¶åŒæ„æˆ‘æ— æ³•è‡ªåŠ©åˆ é™¤æˆ‘çš„ä¸ªäººæ•°æ®ï¼Œåœ¨éœ€è¦æ—¶æˆ‘ä¼šä¸»åŠ¨è”ç³»ç®¡ç†å‘˜åˆ é™¤ ",-1)])),_:1},8,["modelValue"]),e[22]||(e[22]=s(" åœ¨ ZeroCatNext ä¸Š,ä½ éœ€è¦éµå®ˆ ")),t(w,{location:"bottom"},{activator:l(({props:o})=>[n("a",m({href:"https://scratch.mit.edu/community_guidelines",target:"_blank"},o,{onClick:e[6]||(e[6]=C(()=>{},["stop"]))})," ç¤¾åŒºè¡Œä¸ºå‡†åˆ™(ç¬¬ä¸‰æ–¹ç«™ç‚¹) ",16)]),default:l(()=>[e[16]||(e[16]=s(" ä½ çš„å½“å‰åœ°åŒºå¯èƒ½æ— æ³•è®¿é—®æ­¤ç½‘ç«™ "))]),_:1}),t(x,{modelValue:r.agreement.rules,"onUpdate:modelValue":e[7]||(e[7]=o=>r.agreement.rules=o)},{label:l(()=>e[17]||(e[17]=[n("div",null,"æˆ‘å·²é˜…è¯»å¹¶åŒæ„å°†ä¼šéµå®ˆç¤¾åŒºè¡Œä¸ºå‡†åˆ™",-1)])),_:1},8,["modelValue"]),e[23]||(e[23]=s(" ä½ éœ€è¦åŒæ„")),t(w,{location:"bottom"},{activator:l(({props:o})=>[n("a",m({href:"https://wuyuan.dev/privacy-policy/terms-of-service.html",target:"_blank"},o,{onClick:e[8]||(e[8]=C(()=>{},["stop"]))})," ç”¨æˆ·åè®® ",16)]),default:l(()=>[e[18]||(e[18]=s(" å­™æ‚Ÿå…ƒç½‘ç«™ä¸æœåŠ¡ç”¨æˆ·åè®® "))]),_:1}),t(x,{modelValue:r.agreement.terms,"onUpdate:modelValue":e[9]||(e[9]=o=>r.agreement.terms=o)},{label:l(()=>e[19]||(e[19]=[n("div",null,"æˆ‘å·²é˜…è¯»å¹¶åŒæ„ç”¨æˆ·åè®®",-1)])),_:1},8,["modelValue"]),t(d,{class:"text-none",color:"primary",rounded:"xl",text:"æ³¨å†Œ",variant:"flat",size:"large",onClick:b.register,"append-icon":"mdi-arrow-right"},null,8,["onClick"]),e[24]||(e[24]=n("br",null,null,-1)),e[25]||(e[25]=n("br",null,null,-1)),e[26]||(e[26]=s(" å¯¹äºæŠ€æœ¯æ‰‹æ®µç»•è¿‡æ­¤é¡µé¢çš„è¡Œä¸ºè§†ä¸ºå¯¹ ZeroCat çš„åŸºç¡€è®¾æ–½è¿›è¡Œæ”»å‡»ï¼Œæ¶‰å«Œéæ³•å…¥ä¾µè®¡ç®—æœºç³»ç»Ÿï¼Œæˆ‘ä»¬å°†ä¿ç•™è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ï¼Œè¿è§„è·å¾—çš„è´¦æˆ·ä¸è¢«æˆæƒè®¿é—®ç½‘ç«™ï¼Œè´¦æˆ·å°†ä¸å—ä¿æŠ¤ï¼Œå¦‚æœæ‚¨åŒæ„ä»¥ä¸Šå†…å®¹ï¼Œè¯·ç‚¹å‡»â€œå¤é€‰æ¡†â€ä»¥å®Œæˆæ³¨å†Œæµç¨‹. "))]),_:1}),t($,null,{default:l(()=>[t(ee),t(d,{text:"å–æ¶ˆ",onClick:o=>{i.value=!1,r.agreement={privacy:!1,terms:!1,rules:!1,datadelete:!1}}},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1})]),_:1}),t(u,{cols:"12"},{default:l(()=>[t(d,{class:"text-none",color:"white",rounded:"xl",text:"ç™»å½•",variant:"text",size:"large","append-icon":"mdi-arrow-right",to:"/account/login"}),t(d,{class:"text-none",color:"white",rounded:"xl",text:"æ‰¾å›å¯†ç ",variant:"text",size:"large","append-icon":"mdi-arrow-right",to:"/account/retrieve"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),t(c,{show:r.loading,text:"æ­£åœ¨æ³¨å†Œ"},null,8,["show"])],64)}const ce=W(ne,[["render",se]]);export{ce as default};
