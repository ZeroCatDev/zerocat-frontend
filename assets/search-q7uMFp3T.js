import{s as g}from"./projectService-Br4FY9VT.js";import{_ as b}from"./43-lazyload-CBkwrR6M.js";import{_ as x,o as c,c as f,w as r,a as e,M as n,L as l,a6 as y,K as o,P as h,ae as _,ah as C,Y as j,T as i,e as P,S as L,R as v,O as S,ab as k,ac as w,ad as I,a2 as T,Q as B,U as D,a3 as M,a4 as N}from"./index-D99aAHt4.js";import{a as d,V}from"./VRow-CcowkCXt.js";import{V as U}from"./VSelect-BQzure-b.js";import{V as z}from"./VChip-6XcPLImw.js";import{V as F}from"./VContainer-BMeWRf_n.js";/* empty css              */import"./VCheckboxBtn-Dnb-6bnM.js";import"./VSelectionControl-D-vEOKkJ.js";const R={data(){return{orderitems:[{name:"热门的",type:"trending"},{name:"最受欢迎的",type:"popular"},{name:"新建的",type:"recent"}],search:{text:"",order:"trending",limit:18},usetime:0,ProjectsLoading:!1,projects:[],projectscount:0,curPage:1,scratch_proxy:"https://scratch.192325.xyz"}},async created(){await this.getprojects()},methods:{async getprojects(){},async onPageChange(m,t){t&&(this.projects=[]),this.usetime=Date.now(),this.ProjectsLoading=!0;try{const u=await g(this.search.order,this.search.text,m,this.search.limit);this.projects=this.projects.concat(u.data)}catch(u){console.log(u)}finally{this.ProjectsLoading=!1,this.usetime=Date.now()-this.usetime}this.curPage=m}}},A={class:"mb-2"};function E(m,t,u,K,a,p){return c(),f(F,null,{default:r(()=>[e(h,{subtitle:"这是Scratch上的内容",title:"ZeroCatScratchMirror",border:""},{actions:r(()=>[e(n,{href:"https://scratch.mit.edu/explore/projects/all"},{default:r(()=>t[5]||(t[5]=[l("Scratch上的发现页")])),_:1}),e(n,{href:"https://scratch.mit.edu/terms_of_use",target:"_blank"},{default:r(()=>t[6]||(t[6]=[l("Scratch使用条款")])),_:1})]),default:r(()=>[e(y,{class:"bg-surface-light pt-4"},{default:r(()=>t[4]||(t[4]=[l(" 我们使用这种方式促进Scratch及其社区的发展，这些内容是按照"),o("a",null,"署名-相同方式共享 2.0 通用",-1),l("协议传播的，您可以在"),o("a",null,"https://creativecommons.org/licenses/by-sa/2.0/",-1),l("查看协议全文。 ")])),_:1})]),_:1}),t[9]||(t[9]=o("br",null,null,-1)),e(V,null,{default:r(()=>[e(d,{cols:"12"},{default:r(()=>[e(_,{label:"搜索 为："+a.search.text,modelValue:a.search.text,"onUpdate:modelValue":t[0]||(t[0]=s=>a.search.text=s)},null,8,["label","modelValue"])]),_:1}),e(d,{cols:"3"},{default:r(()=>[e(U,{modelValue:a.search.order,"onUpdate:modelValue":t[1]||(t[1]=s=>a.search.order=s),items:a.orderitems,"item-title":"name","item-value":"type",label:"排序 为："+a.search.order},null,8,["modelValue","items","label"])]),_:1}),e(d,{cols:"3"},{default:r(()=>[e(n,{onClick:t[2]||(t[2]=s=>p.onPageChange(1,!0))},{default:r(()=>t[7]||(t[7]=[l(" 搜索 ")])),_:1})]),_:1})]),_:1}),t[10]||(t[10]=o("br",null,null,-1)),t[11]||(t[11]=o("br",null,null,-1)),e(C,{active:a.ProjectsLoading,height:"4",indeterminate:""},null,8,["active"]),o("div",A,[e(z,null,{default:r(()=>[e(j,{icon:"mdi-clock",start:""}),l("本页加载用时"+i(Math.abs(a.usetime/1e3))+"秒 ",1)]),_:1})]),e(V,null,{default:r(()=>[(c(!0),P(v,null,L(a.projects,s=>(c(),f(d,{cols:"4",md:"2",key:s},{default:r(()=>[e(h,{to:"/app/proxy/"+s.id},{default:r(()=>[e(S,{src:`${a.scratch_proxy}/thumbnails/${s.id}`,cover:"","lazy-src":b},null,8,["src"]),e(k,null,{default:r(()=>[e(w,null,{default:r(()=>[l(i(s.title),1)]),_:2},1024),e(I,null,{default:r(()=>[l(i(s.description||"简介未找到"),1)]),_:2},1024)]),_:2},1024),e(T,null,{default:r(()=>[e(B,null,{prepend:r(()=>[e(D,{image:`${this.scratch_proxy}/avatars/${s.author.id}`},null,8,["image"])]),default:r(()=>[e(M,null,{default:r(()=>[l(i(s.author.username),1)]),_:2},1024),e(N,null,{default:r(()=>[l(i(s.author.id),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),t[12]||(t[12]=o("br",null,null,-1)),e(n,{onClick:t[3]||(t[3]=s=>p.onPageChange(a.curPage+1,!1))},{default:r(()=>t[8]||(t[8]=[l("继续加载")])),_:1})]),_:1})}const $=x(R,[["render",E]]);export{$ as default};
