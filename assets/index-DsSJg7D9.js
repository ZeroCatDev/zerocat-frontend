import{_ as u}from"./LoadingDialog-DyOS89Sr.js";import{_ as d}from"./Recaptcha-i-12e6xI.js";import{_ as g,ac as _,a as x,o as w,M as n,h as e,N as t,j as l,R as v,F as y,au as V,L as R,r as C}from"./index-sOByCu58.js";import{d as k}from"./accountService-CERQtO2q.js";import{V as c,a as r}from"./VRow-0uApXze6.js";import{V as b}from"./VForm-63pZI_r_.js";import{V as z}from"./VTextField-CJZvPYLv.js";import"./VDialog-CUPz1joD.js";import"https://static.geetest.com/v4/gt4.js";/* empty css              */import"./VInput-C6-8yLlk.js";/* empty css                   */const B={components:{LoadingDialog:u,Recaptcha:d},data(){return{BASE_API:"https://zerocat-api.houlangs.com",email:"",tryinguser:{},loading:!1,show1:C(!1),emailRules:[a=>a?!0:"必须填写邮箱",a=>/.+@.+\..+/.test(a)?!0:"不符合格式"],usernameRules:[a=>a?!0:"必须填写用户名"]}},created(){V.isLogin.value==!0&&this.$router.push("/"),R({title:"魔术链接"})},methods:{async login(){this.loading=!0;try{await this.$nextTick();const a=await k({captcha:this.$refs.recaptcha.getResponse(),email:this.email});this.tryinguser=a.data,this.tryinguser.message!="OK"&&this.$toast.add({severity:"info",summary:"info",detail:this.tryinguser.message,life:3e3})}catch(a){this.$toast.add({severity:"error",summary:"错误",detail:a.message,life:3e3})}finally{this.loading=!1}}}},L={class:"auth-wrapper d-flex align-center justify-center pa-4"};function F(a,o,N,$,s,p){const i=_("v-cardtext"),m=d,f=u;return w(),x(y,null,[n("div",L,[e(v,{class:"auth-card pa-4 pt-7","max-width":"448",border:"",rounded:"lg"},{default:t(()=>[e(c,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(i,null,{default:t(()=>o[1]||(o[1]=[n("h5",{class:"text-h5 font-weight-semibold mb-1"}," 欢迎来到ZeroCatNext！ 👋🏻 ",-1),n("p",{class:"mb-0"},"登录你的账户",-1)])),_:1})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(b,null,{default:t(()=>[e(c,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(z,{label:"邮箱",type:"text",modelValue:s.email,"onUpdate:modelValue":o[0]||(o[0]=h=>s.email=h),variant:"outlined",rules:s.emailRules},null,8,["modelValue","rules"])]),_:1}),e(r,{cols:"9"},{default:t(()=>[e(m,{ref:"recaptcha",recaptchaId:"recaptcha-div"},null,512)]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(l,{class:"text-none",color:"primary",rounded:"xl",text:"发送验证链接",variant:"flat",size:"large",onClick:p.login,"append-icon":"mdi-arrow-right"},null,8,["onClick"])]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(l,{class:"text-none",color:"white",rounded:"xl",text:"密码登录",variant:"text",size:"large","append-icon":"mdi-arrow-right",to:"/app/account/login"}),e(l,{class:"text-none",color:"white",rounded:"xl",text:"注册",variant:"text",size:"large","append-icon":"mdi-arrow-right",to:"/app/account/register"}),e(l,{class:"text-none",color:"white",rounded:"xl",text:"找回密码",variant:"text",size:"large","append-icon":"mdi-arrow-right",to:"/app/account/retrieve"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e(f,{show:s.loading,text:"登录中"},null,8,["show"])],64)}const U=g(B,[["render",F]]);export{U as default};
