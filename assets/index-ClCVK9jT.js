import{aS as _a,p as z,u as he,x as S,w as Ge,aT as wt,y as Ne,aq as ge,aU as _e,g as be,a as We,d as ke,aV as ot,f as y,e as i,m as G,I as de,aW as ba,k as K,D as pe,r as ce,at as va,aX as ya,aY as wa,aZ as Ye,A as pa,a_ as U,a$ as pt,b0 as Ce,b1 as Se,b2 as xa,b3 as ka,b4 as Xe,b5 as Pa,F as J,b6 as Da,b7 as $e,S as xe,O as ne,C as Sa,i as W,L as D,aD as ae,X as B,b8 as je,b9 as Te,ar as Ta,ba as Va,a0 as Ma,_ as se,ab as fe,c as we,o as F,Y as R,a5 as Ca,N as d,$ as xt,W as ze,a9 as Qe,a3 as Ee,aE as kt,aA as Pt,R as C,n as Dt,Q as Ae,aB as A,aF as Ke,ad as Oa,U as St,ae as Ia,aN as Fa,aP as Wa,j as za,Z as Ea,ah as Aa,ai as Ba,V as Ra,q as $,T as Ua,M as Na}from"./index-CqDYMkg5.js";import{V as Je}from"./VSelect-ByyaaPA0.js";import{V as Ze}from"./VCheckboxBtn-8mXxa5va.js";import{V as lt,m as Ya}from"./VTable-DK4NZtam.js";import{u as ja,m as qa}from"./filter-COFDuoWJ.js";import{V as Le}from"./VSpacer-BmIOKXlY.js";import{_ as Tt}from"./OAuthManager-CzUG6v2w.js";import{_ as Vt}from"./EmailManager-BNlhqjOA.js";import{C as La}from"./compressor.esm-C46f8uP2.js";import{u as Ha,a as Ga,b as Xa,c as $a,g as Qa}from"./accountService-DdptR6Lz.js";import{V as Ka}from"./VFileInput-DRqmpwST.js";import{V as Ja}from"./VSheet-SFg1vLfO.js";import{V as Za}from"./VTextarea-BMQ0gWum.js";import{a as en,_ as tn}from"./UserFollowers-DY291wjo.js";import{_ as an}from"./UserBlocked-D1I24X1w.js";import"./VSelectionControl-DLr9dD2N.js";import"./verifyEmail-D3Uc7CAN.js";import"./oauth_providers-BTwCArWd.js";function it(e,t,a){return Object.keys(e).filter(n=>_a(n)&&n.endsWith(t)).reduce((n,r)=>(n[r.slice(0,-t.length)]=o=>e[r](o,a(o)),n),{})}const Mt=6048e5,nn=864e5,Ve=43200,ut=1440,ct=Symbol.for("constructDateFrom");function Z(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ct in e?e[ct](t):e instanceof Date?new e.constructor(t):new Date(t)}function O(e,t){return Z(t||e,e)}let rn={};function Pe(){return rn}function re(e,t){var l,u,c,h;const a=Pe(),n=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??a.weekStartsOn??((h=(c=a.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,r=O(e,t==null?void 0:t.in),o=r.getDay(),s=(o<n?7:0)+o-n;return r.setDate(r.getDate()-s),r.setHours(0,0,0,0),r}function Oe(e,t){return re(e,{...t,weekStartsOn:1})}function Ct(e,t){const a=O(e,t==null?void 0:t.in),n=a.getFullYear(),r=Z(a,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=Oe(r),s=Z(a,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const l=Oe(s);return a.getTime()>=o.getTime()?n+1:a.getTime()>=l.getTime()?n:n-1}function Ie(e){const t=O(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function De(e,...t){const a=Z.bind(null,e||t.find(n=>typeof n=="object"));return t.map(a)}function dt(e,t){const a=O(e,t==null?void 0:t.in);return a.setHours(0,0,0,0),a}function sn(e,t,a){const[n,r]=De(a==null?void 0:a.in,e,t),o=dt(n),s=dt(r),l=+o-Ie(o),u=+s-Ie(s);return Math.round((l-u)/nn)}function on(e,t){const a=Ct(e,t),n=Z(e,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),Oe(n)}function Me(e,t){const a=+O(e)-+O(t);return a<0?-1:a>0?1:a}function ln(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function un(e){return!(!ln(e)&&typeof e!="number"||isNaN(+O(e)))}function cn(e,t,a){const[n,r]=De(a==null?void 0:a.in,e,t),o=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return o*12+s}function dn(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function fn(e,t){return+O(e)-+O(t)}function mn(e,t){const a=O(e,t==null?void 0:t.in);return a.setHours(23,59,59,999),a}function hn(e,t){const a=O(e,t==null?void 0:t.in),n=a.getMonth();return a.setFullYear(a.getFullYear(),n+1,0),a.setHours(23,59,59,999),a}function gn(e,t){const a=O(e,t==null?void 0:t.in);return+mn(a,t)==+hn(a,t)}function _n(e,t,a){const[n,r,o]=De(a==null?void 0:a.in,e,e,t),s=Me(r,o),l=Math.abs(cn(r,o));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*l);let u=Me(r,o)===-s;gn(n)&&l===1&&Me(n,o)===1&&(u=!1);const c=s*(l-+u);return c===0?0:c}function bn(e,t,a){const n=fn(e,t)/1e3;return dn(a==null?void 0:a.roundingMethod)(n)}function vn(e,t){const a=O(e,t==null?void 0:t.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const yn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wn=(e,t,a)=>{let n;const r=yn[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function me(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const pn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pn={date:me({formats:pn,defaultWidth:"full"}),time:me({formats:xn,defaultWidth:"full"}),dateTime:me({formats:kn,defaultWidth:"full"})},Dn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sn=(e,t,a,n)=>Dn[e];function j(e){return(t,a)=>{const n=a!=null&&a.context?String(a.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=a!=null&&a.width?String(a.width):s;r=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=a!=null&&a.width?String(a.width):e.defaultWidth;r=e.values[l]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return r[o]}}const Tn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},On={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},In={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fn=(e,t)=>{const a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Wn={ordinalNumber:Fn,era:j({values:Tn,defaultWidth:"wide"}),quarter:j({values:Vn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:j({values:Mn,defaultWidth:"wide"}),day:j({values:Cn,defaultWidth:"wide"}),dayPeriod:j({values:On,defaultWidth:"wide",formattingValues:In,defaultFormattingWidth:"wide"})};function q(e){return(t,a={})=>{const n=a.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(r);if(!o)return null;const s=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?En(l,_=>_.test(s)):zn(l,_=>_.test(s));let c;c=e.valueCallback?e.valueCallback(u):u,c=a.valueCallback?a.valueCallback(c):c;const h=t.slice(s.length);return{value:c,rest:h}}}function zn(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}function En(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}function Ot(e){return(t,a={})=>{const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=a.valueCallback?a.valueCallback(s):s;const l=t.slice(r.length);return{value:s,rest:l}}}const An=/^(\d+)(th|st|nd|rd)?/i,Bn=/\d+/i,Rn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Un={any:[/^b/i,/^(a|c)/i]},Nn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yn={any:[/1/i,/2/i,/3/i,/4/i]},jn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ln={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$n={ordinalNumber:Ot({matchPattern:An,parsePattern:Bn,valueCallback:e=>parseInt(e,10)}),era:q({matchPatterns:Rn,defaultMatchWidth:"wide",parsePatterns:Un,defaultParseWidth:"any"}),quarter:q({matchPatterns:Nn,defaultMatchWidth:"wide",parsePatterns:Yn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:q({matchPatterns:jn,defaultMatchWidth:"wide",parsePatterns:qn,defaultParseWidth:"any"}),day:q({matchPatterns:Ln,defaultMatchWidth:"wide",parsePatterns:Hn,defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:Gn,defaultMatchWidth:"any",parsePatterns:Xn,defaultParseWidth:"any"})},It={code:"en-US",formatDistance:wn,formatLong:Pn,formatRelative:Sn,localize:Wn,match:$n,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qn(e,t){const a=O(e,t==null?void 0:t.in);return sn(a,vn(a))+1}function Kn(e,t){const a=O(e,t==null?void 0:t.in),n=+Oe(a)-+on(a);return Math.round(n/Mt)+1}function Ft(e,t){var h,_,g,p;const a=O(e,t==null?void 0:t.in),n=a.getFullYear(),r=Pe(),o=(t==null?void 0:t.firstWeekContainsDate)??((_=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:_.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(g=r.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,s=Z((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,o),s.setHours(0,0,0,0);const l=re(s,t),u=Z((t==null?void 0:t.in)||e,0);u.setFullYear(n,0,o),u.setHours(0,0,0,0);const c=re(u,t);return+a>=+l?n+1:+a>=+c?n:n-1}function Jn(e,t){var l,u,c,h;const a=Pe(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(c=a.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,r=Ft(e,t),o=Z((t==null?void 0:t.in)||e,0);return o.setFullYear(r,0,n),o.setHours(0,0,0,0),re(o,t)}function Zn(e,t){const a=O(e,t==null?void 0:t.in),n=+re(a,t)-+Jn(a,t);return Math.round(n/Mt)+1}function x(e,t){const a=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return a+n}const Q={y(e,t){const a=e.getFullYear(),n=a>0?a:1-a;return x(t==="yy"?n%100:n,t.length)},M(e,t){const a=e.getMonth();return t==="M"?String(a+1):x(a+1,2)},d(e,t){return x(e.getDate(),t.length)},a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,t){return x(e.getHours()%12||12,t.length)},H(e,t){return x(e.getHours(),t.length)},m(e,t){return x(e.getMinutes(),t.length)},s(e,t){return x(e.getSeconds(),t.length)},S(e,t){const a=t.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,a-3));return x(r,t.length)}},ue={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ft={G:function(e,t,a){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return a.ordinalNumber(r,{unit:"year"})}return Q.y(e,t)},Y:function(e,t,a,n){const r=Ft(e,n),o=r>0?r:1-r;if(t==="YY"){const s=o%100;return x(s,2)}return t==="Yo"?a.ordinalNumber(o,{unit:"year"}):x(o,t.length)},R:function(e,t){const a=Ct(e);return x(a,t.length)},u:function(e,t){const a=e.getFullYear();return x(a,t.length)},Q:function(e,t,a){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return x(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,a){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return x(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,a){const n=e.getMonth();switch(t){case"M":case"MM":return Q.M(e,t);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,a){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return x(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,a,n){const r=Zn(e,n);return t==="wo"?a.ordinalNumber(r,{unit:"week"}):x(r,t.length)},I:function(e,t,a){const n=Kn(e);return t==="Io"?a.ordinalNumber(n,{unit:"week"}):x(n,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):Q.d(e,t)},D:function(e,t,a){const n=Qn(e);return t==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):x(n,t.length)},E:function(e,t,a){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,a,n){const r=e.getDay(),o=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return x(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,a,n){const r=e.getDay(),o=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return x(o,t.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,a){const n=e.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return x(r,t.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,a){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,a){const n=e.getHours();let r;switch(n===12?r=ue.noon:n===0?r=ue.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,a){const n=e.getHours();let r;switch(n>=17?r=ue.evening:n>=12?r=ue.afternoon:n>=4?r=ue.morning:r=ue.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return Q.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):Q.H(e,t)},K:function(e,t,a){const n=e.getHours()%12;return t==="Ko"?a.ordinalNumber(n,{unit:"hour"}):x(n,t.length)},k:function(e,t,a){let n=e.getHours();return n===0&&(n=24),t==="ko"?a.ordinalNumber(n,{unit:"hour"}):x(n,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):Q.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):Q.s(e,t)},S:function(e,t){return Q.S(e,t)},X:function(e,t,a){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ht(n);case"XXXX":case"XX":return te(n);case"XXXXX":case"XXX":default:return te(n,":")}},x:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"x":return ht(n);case"xxxx":case"xx":return te(n);case"xxxxx":case"xxx":default:return te(n,":")}},O:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mt(n,":");case"OOOO":default:return"GMT"+te(n,":")}},z:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mt(n,":");case"zzzz":default:return"GMT"+te(n,":")}},t:function(e,t,a){const n=Math.trunc(+e/1e3);return x(n,t.length)},T:function(e,t,a){return x(+e,t.length)}};function mt(e,t=""){const a=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),o=n%60;return o===0?a+String(r):a+String(r)+t+x(o,2)}function ht(e,t){return e%60===0?(e>0?"-":"+")+x(Math.abs(e)/60,2):te(e,t)}function te(e,t=""){const a=e>0?"-":"+",n=Math.abs(e),r=x(Math.trunc(n/60),2),o=x(n%60,2);return a+r+t+o}const gt=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Wt=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},er=(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],n=a[1],r=a[2];if(!r)return gt(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",gt(n,t)).replace("{{time}}",Wt(r,t))},tr={p:Wt,P:er},ar=/^D+$/,nr=/^Y+$/,rr=["D","DD","YY","YYYY"];function sr(e){return ar.test(e)}function or(e){return nr.test(e)}function lr(e,t,a){const n=ir(e,t,a);if(console.warn(n),rr.includes(e))throw new RangeError(n)}function ir(e,t,a){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ur=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dr=/^'([^]*?)'?$/,fr=/''/g,mr=/[a-zA-Z]/;function hr(e,t,a){var h,_,g,p;const n=Pe(),r=n.locale??It,o=n.firstWeekContainsDate??((_=(h=n.locale)==null?void 0:h.options)==null?void 0:_.firstWeekContainsDate)??1,s=n.weekStartsOn??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??0,l=O(e,a==null?void 0:a.in);if(!un(l))throw new RangeError("Invalid time value");let u=t.match(cr).map(f=>{const v=f[0];if(v==="p"||v==="P"){const b=tr[v];return b(f,r.formatLong)}return f}).join("").match(ur).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const v=f[0];if(v==="'")return{isToken:!1,value:gr(f)};if(ft[v])return{isToken:!0,value:f};if(v.match(mr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:f}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:r};return u.map(f=>{if(!f.isToken)return f.value;const v=f.value;(or(v)||sr(v))&&lr(v,t,String(e));const b=ft[v[0]];return b(l,v,r.localize,c)}).join("")}function gr(e){const t=e.match(dr);return t?t[1].replace(fr,"'"):e}function _r(e,t,a){const n=Pe(),r=(a==null?void 0:a.locale)??n.locale??It,o=2520,s=Me(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const l=Object.assign({},a,{addSuffix:a==null?void 0:a.addSuffix,comparison:s}),[u,c]=De(a==null?void 0:a.in,...s>0?[t,e]:[e,t]),h=bn(c,u),_=(Ie(c)-Ie(u))/1e3,g=Math.round((h-_)/60);let p;if(g<2)return a!=null&&a.includeSeconds?h<5?r.formatDistance("lessThanXSeconds",5,l):h<10?r.formatDistance("lessThanXSeconds",10,l):h<20?r.formatDistance("lessThanXSeconds",20,l):h<40?r.formatDistance("halfAMinute",0,l):h<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):g===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",g,l);if(g<45)return r.formatDistance("xMinutes",g,l);if(g<90)return r.formatDistance("aboutXHours",1,l);if(g<ut){const f=Math.round(g/60);return r.formatDistance("aboutXHours",f,l)}else{if(g<o)return r.formatDistance("xDays",1,l);if(g<Ve){const f=Math.round(g/ut);return r.formatDistance("xDays",f,l)}else if(g<Ve*2)return p=Math.round(g/Ve),r.formatDistance("aboutXMonths",p,l)}if(p=_n(c,u),p<12){const f=Math.round(g/Ve);return r.formatDistance("xMonths",f,l)}else{const f=p%12,v=Math.trunc(p/12);return f<3?r.formatDistance("aboutXYears",v,l):f<9?r.formatDistance("overXYears",v,l):r.formatDistance("almostXYears",v+1,l)}}function br(e,t,a){const[n,r]=De(a==null?void 0:a.in,e,t);return+re(n,a)==+re(r,a)}const vr={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},yr=(e,t,a)=>{let n;const r=vr[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",String(t)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?n+"内":n+"前":n},wr={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},pr={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},xr={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},kr={date:me({formats:wr,defaultWidth:"full"}),time:me({formats:pr,defaultWidth:"full"}),dateTime:me({formats:xr,defaultWidth:"full"})};function _t(e,t,a){const n="eeee p";return br(e,t,a)?n:e.getTime()>t.getTime()?"'下个'"+n:"'上个'"+n}const Pr={lastWeek:_t,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:_t,other:"PP p"},Dr=(e,t,a,n)=>{const r=Pr[e];return typeof r=="function"?r(t,a,n):r},Sr={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},Tr={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},Vr={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},Mr={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},Cr={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},Or={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},Ir=(e,t)=>{const a=Number(e);switch(t==null?void 0:t.unit){case"date":return a.toString()+"日";case"hour":return a.toString()+"时";case"minute":return a.toString()+"分";case"second":return a.toString()+"秒";default:return"第 "+a.toString()}},Fr={ordinalNumber:Ir,era:j({values:Sr,defaultWidth:"wide"}),quarter:j({values:Tr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:j({values:Vr,defaultWidth:"wide"}),day:j({values:Mr,defaultWidth:"wide"}),dayPeriod:j({values:Cr,defaultWidth:"wide",formattingValues:Or,defaultFormattingWidth:"wide"})},Wr=/^(第\s*)?\d+(日|时|分|秒)?/i,zr=/\d+/i,Er={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},Ar={any:[/^(前)/i,/^(公元)/i]},Br={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},Rr={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},Ur={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},Nr={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},Yr={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},jr={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},qr={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},Lr={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},Hr={ordinalNumber:Ot({matchPattern:Wr,parsePattern:zr,valueCallback:e=>parseInt(e,10)}),era:q({matchPatterns:Er,defaultMatchWidth:"wide",parsePatterns:Ar,defaultParseWidth:"any"}),quarter:q({matchPatterns:Br,defaultMatchWidth:"wide",parsePatterns:Rr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:q({matchPatterns:Ur,defaultMatchWidth:"wide",parsePatterns:Nr,defaultParseWidth:"any"}),day:q({matchPatterns:Yr,defaultMatchWidth:"wide",parsePatterns:jr,defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:qr,defaultMatchWidth:"any",parsePatterns:Lr,defaultParseWidth:"any"})},Gr={code:"zh-CN",formatDistance:yr,formatLong:kr,formatRelative:Dr,localize:Fr,match:Hr,options:{weekStartsOn:1,firstWeekContainsDate:4}},Xr=z({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),zt=Symbol.for("vuetify:data-table-pagination");function $r(e){const t=he(e,"page",void 0,n=>Number(n??1)),a=he(e,"itemsPerPage",void 0,n=>Number(n??10));return{page:t,itemsPerPage:a}}function Qr(e){const{page:t,itemsPerPage:a,itemsLength:n}=e,r=S(()=>a.value===-1?0:a.value*(t.value-1)),o=S(()=>a.value===-1?n.value:Math.min(n.value,r.value+a.value)),s=S(()=>a.value===-1||n.value===0?1:Math.ceil(n.value/a.value));Ge([t,s],()=>{t.value>s.value&&(t.value=s.value)});function l(g){a.value=g,t.value=1}function u(){t.value=Ne(t.value+1,1,s.value)}function c(){t.value=Ne(t.value-1,1,s.value)}function h(g){t.value=Ne(g,1,s.value)}const _={page:t,itemsPerPage:a,startIndex:r,stopIndex:o,pageCount:s,itemsLength:n,nextPage:u,prevPage:c,setPage:h,setItemsPerPage:l};return _e(zt,_),_}function Kr(){const e=ge(zt);if(!e)throw new Error("Missing pagination!");return e}function Jr(e){const t=wt("usePaginatedItems"),{items:a,startIndex:n,stopIndex:r,itemsPerPage:o}=e,s=S(()=>o.value<=0?a.value:a.value.slice(n.value,r.value));return Ge(s,l=>{t.emit("update:currentItems",l)},{immediate:!0}),{paginatedItems:s}}const Et=z({prevIcon:{type:de,default:"$prev"},nextIcon:{type:de,default:"$next"},firstIcon:{type:de,default:"$first"},lastIcon:{type:de,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),bt=be()({name:"VDataTableFooter",props:Et(),setup(e,t){let{slots:a}=t;const{t:n}=We(),{page:r,pageCount:o,startIndex:s,stopIndex:l,itemsLength:u,itemsPerPage:c,setItemsPerPage:h}=Kr(),_=S(()=>e.itemsPerPageOptions.map(g=>typeof g=="number"?{value:g,title:g===-1?n("$vuetify.dataFooter.itemsPerPageAll"):String(g)}:{...g,title:isNaN(Number(g.title))?n(g.title):g.title}));return ke(()=>{var p;const g=ot.filterProps(e);return y("div",{class:"v-data-table-footer"},[(p=a.prepend)==null?void 0:p.call(a),y("div",{class:"v-data-table-footer__items-per-page"},[y("span",{"aria-label":n(e.itemsPerPageText)},[n(e.itemsPerPageText)]),i(Je,{items:_.value,modelValue:c.value,"onUpdate:modelValue":f=>h(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),y("div",{class:"v-data-table-footer__info"},[y("div",null,[n(e.pageText,u.value?s.value+1:0,l.value,u.value)])]),y("div",{class:"v-data-table-footer__pagination"},[i(ot,G({modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:o.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},g),null)])])}),{}}}),Fe=ba({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const n=e.tag??"td";return i(n,{tabindex:"0",class:pe(["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:K(e.height),width:K(e.width),maxWidth:K(e.maxWidth),left:K(e.fixedOffset||null)}},{default:()=>{var r;return[(r=a.default)==null?void 0:r.call(a)]}})}),Zr=z({headers:Array},"DataTable-header"),At=Symbol.for("vuetify:data-table-headers"),Bt={title:"",sortable:!1},es={...Bt,width:48};function ts(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,n)=>{let r=!1;for(let o=0;o<t.length;o++)if(t[o].priority>n){t.splice(o,0,{element:a,priority:n}),r=!0;break}r||t.push({element:a,priority:n})},size:()=>t.length,count:()=>{let a=0;if(!t.length)return 0;const n=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===n&&(a+=1);return a},dequeue:()=>t.shift()}}function He(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const a of e.children)He(a,t);return t}function Rt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&Rt(a.children,t);return t}function as(e){if(e.key){if(e.key==="data-table-group")return Bt;if(["data-table-expand","data-table-select"].includes(e.key))return es}}function et(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(a=>et(a,t+1))):t}function ns(e){let t=!1;function a(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o)if(s&&(o.fixed=!0),o.fixed)if(o.children)for(let l=o.children.length-1;l>=0;l--)a(o.children[l],!0);else t?isNaN(Number(o.width))?wa(`Multiple fixed columns should have a static width (key: ${o.key})`):o.minWidth=Math.max(Number(o.width)||0,Number(o.minWidth)||0):o.lastFixed=!0,t=!0;else if(o.children)for(let l=o.children.length-1;l>=0;l--)a(o.children[l]);else t=!1}for(let o=e.length-1;o>=0;o--)a(e[o]);function n(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!o)return s;if(o.children){o.fixedOffset=s;for(const l of o.children)s=n(l,s)}else o.fixed&&(o.fixedOffset=s,s+=parseFloat(o.width||"0")||0);return s}let r=0;for(const o of e)r=n(o,r)}function rs(e,t){const a=[];let n=0;const r=ts(e);for(;r.size()>0;){let s=r.count();const l=[];let u=1;for(;s>0;){const{element:c,priority:h}=r.dequeue(),_=t-n-et(c);if(l.push({...c,rowspan:_??1,colspan:c.children?He(c).length:1}),c.children)for(const g of c.children){const p=h%1+u/Math.pow(10,n+2);r.enqueue(g,n+_+p)}u+=1,s-=1}n+=1,a.push(l)}return{columns:e.map(s=>He(s)).flat(),headers:a}}function Ut(e){const t=[];for(const a of e){const n={...as(a),...a},r=n.key??(typeof n.value=="string"?n.value:null),o=n.value??r??null,s={...n,key:r,value:o,sortable:n.sortable??(n.key!=null||!!n.sort),children:n.children?Ut(n.children):void 0};t.push(s)}return t}function ss(e,t){const a=ce([]),n=ce([]),r=ce({}),o=ce({}),s=ce({});va(()=>{var v,b,T;const c=(e.headers||Object.keys(e.items[0]??{}).map(m=>({key:m,title:ya(m)}))).slice(),h=Rt(c);(v=t==null?void 0:t.groupBy)!=null&&v.value.length&&!h.has("data-table-group")&&c.unshift({key:"data-table-group",title:"Group"}),(b=t==null?void 0:t.showSelect)!=null&&b.value&&!h.has("data-table-select")&&c.unshift({key:"data-table-select"}),(T=t==null?void 0:t.showExpand)!=null&&T.value&&!h.has("data-table-expand")&&c.push({key:"data-table-expand"});const _=Ut(c);ns(_);const g=Math.max(..._.map(m=>et(m)))+1,p=rs(_,g);a.value=p.headers,n.value=p.columns;const f=p.headers.flat(1);for(const m of f)m.key&&(m.sortable&&(m.sort&&(r.value[m.key]=m.sort),m.sortRaw&&(o.value[m.key]=m.sortRaw)),m.filter&&(s.value[m.key]=m.filter))});const l={headers:a,columns:n,sortFunctions:r,sortRawFunctions:o,filterFunctions:s};return _e(At,l),l}function Be(){const e=ge(At);if(!e)throw new Error("Missing headers!");return e}const os={showSelectAll:!1,allSelected:()=>[],select:e=>{var n;let{items:t,value:a}=e;return new Set(a?[(n=t[0])==null?void 0:n.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},Nt={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:n}=e;for(const r of t)a?n.add(r.value):n.delete(r.value);return n},selectAll:e=>{let{value:t,currentPage:a,selected:n}=e;return Nt.select({items:a,value:t,selected:n})}},Yt={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:n}=e;for(const r of t)a?n.add(r.value):n.delete(r.value);return n},selectAll:e=>{let{value:t,allItems:a,selected:n}=e;return Yt.select({items:a,value:t,selected:n})}},ls=z({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:pt}},"DataTable-select"),jt=Symbol.for("vuetify:data-table-selection");function is(e,t){let{allItems:a,currentPage:n}=t;const r=he(e,"modelValue",e.modelValue,m=>new Set(Ye(m).map(k=>{var I;return((I=a.value.find(P=>e.valueComparator(k,P.value)))==null?void 0:I.value)??k})),m=>[...m.values()]),o=S(()=>a.value.filter(m=>m.selectable)),s=S(()=>n.value.filter(m=>m.selectable)),l=S(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return os;case"all":return Yt;case"page":default:return Nt}}),u=pa(null);function c(m){return Ye(m).every(k=>r.value.has(k.value))}function h(m){return Ye(m).some(k=>r.value.has(k.value))}function _(m,k){const I=l.value.select({items:m,value:k,selected:new Set(r.value)});r.value=I}function g(m,k,I){const P=[];if(k=k??n.value.findIndex(N=>N.value===m.value),e.selectStrategy!=="single"&&(I!=null&&I.shiftKey)&&u.value!==null){const[N,ee]=[u.value,k].sort((L,V)=>L-V);P.push(...n.value.slice(N,ee+1).filter(L=>L.selectable))}else P.push(m),u.value=k;_(P,!c([m]))}function p(m){const k=l.value.selectAll({value:m,allItems:o.value,currentPage:s.value,selected:new Set(r.value)});r.value=k}const f=S(()=>r.value.size>0),v=S(()=>{const m=l.value.allSelected({allItems:o.value,currentPage:s.value});return!!m.length&&c(m)}),b=U(()=>l.value.showSelectAll),T={toggleSelect:g,select:_,selectAll:p,isSelected:c,isSomeSelected:h,someSelected:f,allSelected:v,showSelectAll:b,lastSelectedIndex:u,selectStrategy:l};return _e(jt,T),T}function Re(){const e=ge(jt);if(!e)throw new Error("Missing selection!");return e}const us=z({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),qt=Symbol.for("vuetify:data-table-sort");function cs(e){const t=he(e,"sortBy"),a=U(()=>e.mustSort),n=U(()=>e.multiSort);return{sortBy:t,mustSort:a,multiSort:n}}function ds(e){const{sortBy:t,mustSort:a,multiSort:n,page:r}=e,o=u=>{if(u.key==null)return;let c=t.value.map(_=>({..._}))??[];const h=c.find(_=>_.key===u.key);h?h.order==="desc"?a.value&&c.length===1?h.order="asc":c=c.filter(_=>_.key!==u.key):h.order="desc":n.value?c.push({key:u.key,order:"asc"}):c=[{key:u.key,order:"asc"}],t.value=c,r&&(r.value=1)};function s(u){return!!t.value.find(c=>c.key===u.key)}const l={sortBy:t,toggleSort:o,isSorted:s};return _e(qt,l),l}function Lt(){const e=ge(qt);if(!e)throw new Error("Missing sort!");return e}function fs(e,t,a,n){const r=We();return{sortedItems:S(()=>{var s,l;return a.value.length?ms(t.value,a.value,r.current.value,{transform:n==null?void 0:n.transform,sortFunctions:{...e.customKeySort,...(s=n==null?void 0:n.sortFunctions)==null?void 0:s.value},sortRawFunctions:(l=n==null?void 0:n.sortRawFunctions)==null?void 0:l.value}):t.value})}}function ms(e,t,a,n){const r=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,n!=null&&n.transform?n.transform(s):s]).sort((s,l)=>{var u,c;for(let h=0;h<t.length;h++){let _=!1;const g=t[h].key,p=t[h].order??"asc";if(p===!1)continue;let f=Ce(s[1],g),v=Ce(l[1],g),b=s[0].raw,T=l[0].raw;if(p==="desc"&&([f,v]=[v,f],[b,T]=[T,b]),(u=n==null?void 0:n.sortRawFunctions)!=null&&u[g]){const m=n.sortRawFunctions[g](b,T);if(m==null)continue;if(_=!0,m)return m}if((c=n==null?void 0:n.sortFunctions)!=null&&c[g]){const m=n.sortFunctions[g](f,v);if(m==null)continue;if(_=!0,m)return m}if(!_){if(f instanceof Date&&v instanceof Date)return f.getTime()-v.getTime();if([f,v]=[f,v].map(m=>m!=null?m.toString().toLocaleLowerCase():m),f!==v)return Se(f)&&Se(v)?0:Se(f)?-1:Se(v)?1:!isNaN(f)&&!isNaN(v)?Number(f)-Number(v):r.compare(f,v)}}return 0}).map(s=>{let[l]=s;return l})}const Ht=z({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:de,default:"$sortAsc"},sortDescIcon:{type:de,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...$e(),...Da()},"VDataTableHeaders"),vt=be()({name:"VDataTableHeaders",props:Ht(),setup(e,t){let{slots:a}=t;const{t:n}=We(),{toggleSort:r,sortBy:o,isSorted:s}=Lt(),{someSelected:l,allSelected:u,selectAll:c,showSelectAll:h}=Re(),{columns:_,headers:g}=Be(),{loaderClasses:p}=xa(e);function f(V,w){if(!(!(e.sticky||e.fixedHeader)&&!V.fixed))return{position:"sticky",left:V.fixed?K(V.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${w})`:void 0}}function v(V,w){V.key==="Enter"&&!e.disableSort&&r(w)}function b(V){const w=o.value.find(M=>M.key===V.key);return w?w.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:T,backgroundColorStyles:m}=ka(()=>e.color),{displayClasses:k,mobile:I}=Xe(e),P=S(()=>({headers:g.value,columns:_.value,toggleSort:r,isSorted:s,sortBy:o.value,someSelected:l.value,allSelected:u.value,selectAll:c,getSortIcon:b})),N=S(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},k.value,p.value]),ee=V=>{let{column:w,x:M,y:E}=V;const H=w.key==="data-table-select"||w.key==="data-table-expand",ve=G(e.headerProps??{},w.headerProps??{});return i(Fe,G({tag:"th",align:w.align,class:[{"v-data-table__th--sortable":w.sortable&&!e.disableSort,"v-data-table__th--sorted":s(w),"v-data-table__th--fixed":w.fixed},...N.value],style:{width:K(w.width),minWidth:K(w.minWidth),maxWidth:K(w.maxWidth),...f(w,E)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>r(w):void 0,fixed:w.fixed,nowrap:w.nowrap,lastFixed:w.lastFixed,noPadding:H},ve,{onKeydown:oe=>w.sortable&&v(oe,w)}),{default:()=>{var ie;const oe=`header.${w.key}`,le={column:w,selectAll:c,isSorted:s,toggleSort:r,sortBy:o.value,someSelected:l.value,allSelected:u.value,getSortIcon:b};return a[oe]?a[oe](le):w.key==="data-table-select"?((ie=a["header.data-table-select"])==null?void 0:ie.call(a,le))??(h.value&&i(Ze,{modelValue:u.value,indeterminate:l.value&&!u.value,"onUpdate:modelValue":c},null)):y("div",{class:"v-data-table-header__content"},[y("span",null,[w.title]),w.sortable&&!e.disableSort&&i(ne,{key:"icon",class:"v-data-table-header__sort-icon",icon:b(w)},null),e.multiSort&&s(w)&&y("div",{key:"badge",class:pe(["v-data-table-header__sort-badge",...T.value]),style:Sa(m.value)},[o.value.findIndex(Ue=>Ue.key===w.key)+1])])}})},L=()=>{const V=S(()=>_.value.filter(M=>(M==null?void 0:M.sortable)&&!e.disableSort)),w=S(()=>{if(_.value.find(E=>E.key==="data-table-select")!=null)return u.value?"$checkboxOn":l.value?"$checkboxIndeterminate":"$checkboxOff"});return i(Fe,G({tag:"th",class:[...N.value],colspan:g.value.length+1},e.headerProps),{default:()=>[y("div",{class:"v-data-table-header__content"},[i(Je,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:V.value,label:n("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>o.value=[],appendIcon:w.value,"onClick:append":()=>c(!u.value)},{...a,chip:M=>{var E;return i(xe,{onClick:(E=M.item.raw)!=null&&E.sortable?()=>r(M.item.raw):void 0,onMousedown:H=>{H.preventDefault(),H.stopPropagation()}},{default:()=>[M.item.title,i(ne,{class:pe(["v-data-table__td-sort-icon",s(M.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:b(M.item.raw),size:"small"},null)]})}})])]})};ke(()=>I.value?y("tr",null,[i(L,null,null)]):y(J,null,[a.headers?a.headers(P.value):g.value.map((V,w)=>y("tr",null,[V.map((M,E)=>i(ee,{column:M,x:E,y:w},null))])),e.loading&&y("tr",{class:"v-data-table-progress"},[y("th",{colspan:_.value.length},[i(Pa,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),hs=z({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Gt=Symbol.for("vuetify:data-table-group");function gs(e){return{groupBy:he(e,"groupBy")}}function _s(e){const{disableSort:t,groupBy:a,sortBy:n}=e,r=ce(new Set),o=S(()=>a.value.map(h=>({...h,order:h.order??!1})).concat(t!=null&&t.value?[]:n.value));function s(h){return r.value.has(h.id)}function l(h){const _=new Set(r.value);s(h)?_.delete(h.id):_.add(h.id),r.value=_}function u(h){function _(g){const p=[];for(const f of g.items)"type"in f&&f.type==="group"?p.push(..._(f)):p.push(f);return[...new Set(p)]}return _({items:h})}const c={sortByWithGroups:o,toggleGroup:l,opened:r,groupBy:a,extractRows:u,isGroupOpen:s};return _e(Gt,c),c}function Xt(){const e=ge(Gt);if(!e)throw new Error("Missing group!");return e}function bs(e,t){if(!e.length)return[];const a=new Map;for(const n of e){const r=Ce(n.raw,t);a.has(r)||a.set(r,[]),a.get(r).push(n)}return a}function $t(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=bs(e,t[0]),o=[],s=t.slice(1);return r.forEach((l,u)=>{const c=t[0],h=`${n}_${c}_${u}`;o.push({depth:a,id:h,key:c,value:u,items:s.length?$t(l,s,a+1,h):l,type:"group"})}),o}function Qt(e,t){const a=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(t.has(n.id)||n.value==null)&&a.push(...Qt(n.items,t))):a.push(n);return a}function vs(e,t,a){return{flatItems:S(()=>{if(!t.value.length)return e.value;const r=$t(e.value,t.value.map(o=>o.key));return Qt(r,a.value)})}}const ys=z({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ws=be()({name:"VDataTableGroupHeaderRow",props:ys(),setup(e,t){let{slots:a}=t;const{isGroupOpen:n,toggleGroup:r,extractRows:o}=Xt(),{isSelected:s,isSomeSelected:l,select:u}=Re(),{columns:c}=Be(),h=S(()=>o([e.item]));return()=>y("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[c.value.map(_=>{var g,p;if(_.key==="data-table-group"){const f=n(e.item)?"$expand":"$next",v=()=>r(e.item);return((g=a["data-table-group"])==null?void 0:g.call(a,{item:e.item,count:h.value.length,props:{icon:f,onClick:v}}))??i(Fe,{class:"v-data-table-group-header-row__column"},{default:()=>[i(W,{size:"small",variant:"text",icon:f,onClick:v},null),y("span",null,[e.item.value]),y("span",null,[D("("),h.value.length,D(")")])]})}if(_.key==="data-table-select"){const f=s(h.value),v=l(h.value)&&!f,b=T=>u(h.value,T);return((p=a["data-table-select"])==null?void 0:p.call(a,{props:{modelValue:f,indeterminate:v,"onUpdate:modelValue":b}}))??y("td",null,[i(Ze,{modelValue:f,indeterminate:v,"onUpdate:modelValue":b},null)])}return y("td",null,null)})])}}),ps=z({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Kt=Symbol.for("vuetify:datatable:expanded");function xs(e){const t=U(()=>e.expandOnClick),a=he(e,"expanded",e.expanded,l=>new Set(l),l=>[...l.values()]);function n(l,u){const c=new Set(a.value);u?c.add(l.value):c.delete(l.value),a.value=c}function r(l){return a.value.has(l.value)}function o(l){n(l,!r(l))}const s={expand:n,expanded:a,expandOnClick:t,isExpanded:r,toggleExpand:o};return _e(Kt,s),s}function Jt(){const e=ge(Kt);if(!e)throw new Error("foo");return e}const ks=z({index:Number,item:Object,cellProps:[Object,Function],onClick:je(),onContextmenu:je(),onDblclick:je(),...$e()},"VDataTableRow"),Ps=be()({name:"VDataTableRow",props:ks(),setup(e,t){let{slots:a}=t;const{displayClasses:n,mobile:r}=Xe(e,"v-data-table__tr"),{isSelected:o,toggleSelect:s,someSelected:l,allSelected:u,selectAll:c}=Re(),{isExpanded:h,toggleExpand:_}=Jt(),{toggleSort:g,sortBy:p,isSorted:f}=Lt(),{columns:v}=Be();ke(()=>y("tr",{class:pe(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},n.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&v.value.map((b,T)=>{const m=e.item,k=`item.${b.key}`,I=`header.${b.key}`,P={index:e.index,item:m.raw,internalItem:m,value:Ce(m.columns,b.key),column:b,isSelected:o,toggleSelect:s,isExpanded:h,toggleExpand:_},N={column:b,selectAll:c,isSorted:f,toggleSort:g,sortBy:p.value,someSelected:l.value,allSelected:u.value,getSortIcon:()=>""},ee=typeof e.cellProps=="function"?e.cellProps({index:P.index,item:P.item,internalItem:P.internalItem,value:P.value,column:b}):e.cellProps,L=typeof b.cellProps=="function"?b.cellProps({index:P.index,item:P.item,internalItem:P.internalItem,value:P.value}):b.cellProps;return i(Fe,G({align:b.align,class:{"v-data-table__td--expanded-row":b.key==="data-table-expand","v-data-table__td--select-row":b.key==="data-table-select"},fixed:b.fixed,fixedOffset:b.fixedOffset,lastFixed:b.lastFixed,maxWidth:r.value?void 0:b.maxWidth,noPadding:b.key==="data-table-select"||b.key==="data-table-expand",nowrap:b.nowrap,width:r.value?void 0:b.width},ee,L),{default:()=>{var w,M,E,H;if(b.key==="data-table-select")return((w=a["item.data-table-select"])==null?void 0:w.call(a,{...P,props:{disabled:!m.selectable,modelValue:o([m]),onClick:ae(()=>s(m),["stop"])}}))??i(Ze,{disabled:!m.selectable,modelValue:o([m]),onClick:ae(ve=>s(m,e.index,ve),["stop"])},null);if(b.key==="data-table-expand")return((M=a["item.data-table-expand"])==null?void 0:M.call(a,{...P,props:{icon:h(m)?"$collapse":"$expand",size:"small",variant:"text",onClick:ae(()=>_(m),["stop"])}}))??i(W,{icon:h(m)?"$collapse":"$expand",size:"small",variant:"text",onClick:ae(()=>_(m),["stop"])},null);if(a[k]&&!r.value)return a[k](P);const V=B(P.value);return r.value?y(J,null,[y("div",{class:"v-data-table__td-title"},[((E=a[I])==null?void 0:E.call(a,N))??b.title]),y("div",{class:"v-data-table__td-value"},[((H=a[k])==null?void 0:H.call(a,P))??V])]):V}})})]))}}),Zt=z({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...$e()},"VDataTableRows"),yt=be()({name:"VDataTableRows",inheritAttrs:!1,props:Zt(),setup(e,t){let{attrs:a,slots:n}=t;const{columns:r}=Be(),{expandOnClick:o,toggleExpand:s,isExpanded:l}=Jt(),{isSelected:u,toggleSelect:c}=Re(),{toggleGroup:h,isGroupOpen:_}=Xt(),{t:g}=We(),{mobile:p}=Xe(e);return ke(()=>{var f,v;return e.loading&&(!e.items.length||n.loading)?y("tr",{class:"v-data-table-rows-loading",key:"loading"},[y("td",{colspan:r.value.length},[((f=n.loading)==null?void 0:f.call(n))??g(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?y("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[y("td",{colspan:r.value.length},[((v=n["no-data"])==null?void 0:v.call(n))??g(e.noDataText)])]):y(J,null,[e.items.map((b,T)=>{var I;if(b.type==="group"){const P={index:T,item:b,columns:r.value,isExpanded:l,toggleExpand:s,isSelected:u,toggleSelect:c,toggleGroup:h,isGroupOpen:_};return n["group-header"]?n["group-header"](P):i(ws,G({key:`group-header_${b.id}`,item:b},it(a,":group-header",()=>P)),n)}const m={index:T,item:b.raw,internalItem:b,columns:r.value,isExpanded:l,toggleExpand:s,isSelected:u,toggleSelect:c},k={...m,props:G({key:`item_${b.key??b.index}`,onClick:o.value?()=>{s(b)}:void 0,index:T,item:b,cellProps:e.cellProps,mobile:p.value},it(a,":row",()=>m),typeof e.rowProps=="function"?e.rowProps({item:m.item,index:m.index,internalItem:m.internalItem}):e.rowProps)};return y(J,{key:k.props.key},[n.item?n.item(k):i(Ps,k.props,n),l(b)&&((I=n["expanded-row"])==null?void 0:I.call(n,m))])})])}),{}}}),Ds=z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Ss(e,t,a,n){const r=e.returnObject?t:Te(t,e.itemValue),o=Te(t,e.itemSelectable,!0),s=n.reduce((l,u)=>(u.key!=null&&(l[u.key]=Te(t,u.value)),l),{});return{type:"item",key:e.returnObject?Te(t,e.itemValue):r,index:a,value:r,selectable:o,columns:s,raw:t}}function Ts(e,t,a){return t.map((n,r)=>Ss(e,n,r,a))}function Vs(e,t){return{items:S(()=>Ts(e,e.items,t.value))}}function Ms(e){let{page:t,itemsPerPage:a,sortBy:n,groupBy:r,search:o}=e;const s=wt("VDataTable"),l=()=>({page:t.value,itemsPerPage:a.value,sortBy:n.value,groupBy:r.value,search:o.value});let u=null;Ge(l,c=>{pt(u,c)||(u&&u.search!==c.search&&(t.value=1),s.emit("update:options",c),u=c)},{deep:!0,immediate:!0})}const Cs=z({...Zt(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...ps(),...hs(),...Zr(),...Ds(),...ls(),...us(),...Ht(),...Ya()},"DataTable"),Os=z({...Xr(),...Cs(),...qa(),...Et()},"VDataTable"),Is=be()({name:"VDataTable",props:Os(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{groupBy:r}=gs(e),{sortBy:o,multiSort:s,mustSort:l}=cs(e),{page:u,itemsPerPage:c}=$r(e),{disableSort:h}=Ta(e),{columns:_,headers:g,sortFunctions:p,sortRawFunctions:f,filterFunctions:v}=ss(e,{groupBy:r,showSelect:U(()=>e.showSelect),showExpand:U(()=>e.showExpand)}),{items:b}=Vs(e,_),T=U(()=>e.search),{filteredItems:m}=ja(e,b,T,{transform:X=>X.columns,customKeyFilter:v}),{toggleSort:k}=ds({sortBy:o,multiSort:s,mustSort:l,page:u}),{sortByWithGroups:I,opened:P,extractRows:N,isGroupOpen:ee,toggleGroup:L}=_s({groupBy:r,sortBy:o,disableSort:h}),{sortedItems:V}=fs(e,m,I,{transform:X=>({...X.raw,...X.columns}),sortFunctions:p,sortRawFunctions:f}),{flatItems:w}=vs(V,r,P),M=S(()=>w.value.length),{startIndex:E,stopIndex:H,pageCount:ve,setItemsPerPage:oe}=Qr({page:u,itemsPerPage:c,itemsLength:M}),{paginatedItems:le}=Jr({items:w,startIndex:E,stopIndex:H,itemsPerPage:c}),ie=S(()=>N(le.value)),{isSelected:Ue,select:oa,selectAll:la,toggleSelect:ia,someSelected:ua,allSelected:ca}=is(e,{allItems:b,currentPage:ie}),{isExpanded:da,toggleExpand:fa}=xs(e);Ms({page:u,itemsPerPage:c,sortBy:o,groupBy:r,search:T}),Va({VDataTableRows:{hideNoData:U(()=>e.hideNoData),noDataText:U(()=>e.noDataText),loading:U(()=>e.loading),loadingText:U(()=>e.loadingText)}});const Y=S(()=>({page:u.value,itemsPerPage:c.value,sortBy:o.value,pageCount:ve.value,toggleSort:k,setItemsPerPage:oe,someSelected:ua.value,allSelected:ca.value,isSelected:Ue,select:oa,selectAll:la,toggleSelect:ia,isExpanded:da,toggleExpand:fa,isGroupOpen:ee,toggleGroup:L,items:ie.value.map(X=>X.raw),internalItems:ie.value,groupedItems:le.value,columns:_.value,headers:g.value}));return ke(()=>{const X=bt.filterProps(e),ma=vt.filterProps(e),ha=yt.filterProps(e),ga=lt.filterProps(e);return i(lt,G({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ga,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var ye;return(ye=n.top)==null?void 0:ye.call(n,Y.value)},default:()=>{var ye,tt,at,nt,rt,st;return n.default?n.default(Y.value):y(J,null,[(ye=n.colgroup)==null?void 0:ye.call(n,Y.value),!e.hideDefaultHeader&&y("thead",{key:"thead"},[i(vt,ma,n)]),(tt=n.thead)==null?void 0:tt.call(n,Y.value),!e.hideDefaultBody&&y("tbody",null,[(at=n["body.prepend"])==null?void 0:at.call(n,Y.value),n.body?n.body(Y.value):i(yt,G(a,ha,{items:le.value}),n),(nt=n["body.append"])==null?void 0:nt.call(n,Y.value)]),(rt=n.tbody)==null?void 0:rt.call(n,Y.value),(st=n.tfoot)==null?void 0:st.call(n,Y.value)])},bottom:()=>n.bottom?n.bottom(Y.value):!e.hideDefaultFooter&&y(J,null,[i(Ma,null,null),i(bt,X,{prepend:n["footer.prepend"]})])})}),{}}}),Fs={name:"SecurityManager",data(){return{activeTokens:[],isLoadingTokens:!1,isLoggingOutAll:!1,loadingTokenId:null,isPerformingAction:!1,showConfirmDialog:!1,confirmDialogTitle:"",confirmDialogText:"",confirmedAction:null,tokenHeaders:[{title:"创建时间",key:"created_at",sortable:!0},{title:"设备信息",key:"device_info",sortable:!1},{title:"IP地址",key:"ip_address",sortable:!0},{title:"IP属地",key:"ip_location",sortable:!0},{title:"操作",key:"actions",sortable:!1}]}},mounted(){this.loadData()},methods:{async loadData(){await this.loadActiveTokens()},async loadActiveTokens(){this.isLoadingTokens=!0;try{this.activeTokens=await fe.getActiveTokens()}catch(e){console.error("获取会话列表失败:",e),this.$toast.add({severity:"error",summary:"错误",detail:"获取会话列表失败",life:3e3})}finally{this.isLoadingTokens=!1}},getActivityColor(e){return e?e<5?"info":e<20?"primary":e<50?"success":"purple":"grey"},formatIpLocation(e){if(!e)return"-";let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{return e}let a="";return t.country&&(a+=t.country),t.region&&(a+=" "+t.region),t.city&&t.city!==t.region&&(a+=" "+t.city),t.isp&&(a+=` (${t.isp})`),a||"-"},formatDate(e){if(!e)return"-";const t=new Date(e),n=_r(t,new Date,{addSuffix:!0,locale:Gr}),r=hr(t,"yyyy-MM-dd HH:mm:ss");return`${n} (${r})`},async handleRevokeToken(e){this.loadingTokenId=e,this.isPerformingAction=!0;try{await fe.revokeToken(e)?(this.$toast.add({severity:"success",summary:"成功",detail:"会话已成功结束",life:3e3}),await this.loadActiveTokens()):this.$toast.add({severity:"error",summary:"错误",detail:"会话结束失败",life:3e3})}catch(t){console.error("会话结束失败:",t),this.$toast.add({severity:"error",summary:"错误",detail:"会话结束失败",life:3e3})}finally{this.loadingTokenId=null,this.isPerformingAction=!1}},confirmLogoutAll(){this.confirmDialogTitle="确认退出所有会话",this.confirmDialogText="这将使所有会话立即失效，包括当前会话。您需要重新登录才能继续使用。确定要执行此操作吗？",this.confirmedAction=this.logoutAllSessions,this.showConfirmDialog=!0},async logoutAllSessions(){this.isLoggingOutAll=!0;try{await fe.logoutAllDevices()?(this.$toast.add({severity:"success",summary:"成功",detail:"已成功退出所有会话",life:3e3}),this.$router.push("/app/account/login")):this.$toast.add({severity:"error",summary:"错误",detail:"退出所有会话失败",life:3e3})}catch(e){console.error("退出所有会话失败:",e),this.$toast.add({severity:"error",summary:"错误",detail:"退出所有会话失败",life:3e3})}finally{this.isLoggingOutAll=!1}},executeConfirmedAction(){typeof this.confirmedAction=="function"&&this.confirmedAction(),this.showConfirmDialog=!1}}},Ws={class:"mb-6"},zs={class:"d-flex align-center"},Es={key:0},As={key:1},Bs={class:"d-flex gap-4 mt-6"};function Rs(e,t,a,n,r,o){return F(),we("div",null,[y("div",Ws,[t[4]||(t[4]=y("h4",{class:"text-h6 mb-3"},"登录设备",-1)),r.activeTokens.length===0&&!r.isLoadingTokens?(F(),R(Ca,{key:0,type:"info",text:"没有活跃的会话",class:"mb-3"})):(F(),R(Is,{key:1,headers:r.tokenHeaders,items:r.activeTokens,loading:r.isLoadingTokens,"loading-text":"加载会话列表...","no-data-text":"没有找到活跃会话",class:"elevation-1 rounded-lg"},{"item.created_at":d(({item:s})=>[D(B(o.formatDate(s.created_at)),1)]),"item.device_info":d(({item:s})=>{var l,u;return[y("div",zs,[D(B(((l=s.device_info)==null?void 0:l.os)||"未知")+" ("+B(((u=s.device_info)==null?void 0:u.browser)||"未知")+") ",1),s.is_current?(F(),R(xe,{key:0,color:"success",size:"small",text:"当前"})):xt("",!0)])]}),"item.ip_address":d(({item:s})=>[D(B(s.ip_address),1)]),"item.ip_location":d(({item:s})=>[s.ip_location?(F(),we("span",Es,B(o.formatIpLocation(s.ip_location)),1)):(F(),we("span",As,"-"))]),"item.activity_count":d(({item:s})=>[i(xe,{color:o.getActivityColor(s.activity_count),size:"small",text:e.getActivityText(s.activity_count)},null,8,["color","text"])]),"item.actions":d(({item:s})=>[i(W,{onClick:l=>o.handleRevokeToken(s.id),size:"small",color:"error",variant:"text",loading:r.loadingTokenId===s.id,disabled:r.isLoadingTokens||r.isPerformingAction},{default:d(()=>[i(ne,null,{default:d(()=>t[2]||(t[2]=[D("mdi-logout")])),_:1,__:[2]}),t[3]||(t[3]=D(" 结束会话 "))]),_:2,__:[3]},1032,["onClick","loading","disabled"])]),_:1},8,["headers","items","loading"]))]),y("div",Bs,[i(W,{color:"error","prepend-icon":"mdi-logout-variant",onClick:o.confirmLogoutAll,loading:r.isLoggingOutAll,disabled:r.isPerformingAction||r.isLoadingTokens},{default:d(()=>t[5]||(t[5]=[D(" 退出所有会话 ")])),_:1,__:[5]},8,["onClick","loading","disabled"])]),i(Pt,{modelValue:r.showConfirmDialog,"onUpdate:modelValue":t[1]||(t[1]=s=>r.showConfirmDialog=s),"max-width":"500"},{default:d(()=>[i(ze,null,{default:d(()=>[i(Qe,{class:"text-h5"},{default:d(()=>[D(B(r.confirmDialogTitle),1)]),_:1}),i(Ee,null,{default:d(()=>[D(B(r.confirmDialogText),1)]),_:1}),i(kt,null,{default:d(()=>[i(Le),i(W,{color:"primary",variant:"text",onClick:t[0]||(t[0]=s=>r.showConfirmDialog=!1)},{default:d(()=>t[6]||(t[6]=[D("取消")])),_:1,__:[6]}),i(W,{color:"error",variant:"flat",onClick:o.executeConfirmedAction},{default:d(()=>t[7]||(t[7]=[D("确认")])),_:1,__:[7]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const ea=se(Fs,[["render",Rs]]),Us={name:"AvatarEditor",props:{userData:{type:Object,required:!0},s3BucketUrl:{type:String,required:!0}},data(){return{loading:!1,avatarFile:null,previewImage:null}},methods:{onFileChange(e){const t=e.target.files?e.target.files[0]:null;t instanceof File&&t.type.startsWith("image/")?new La(t,{quality:.8,maxWidth:500,maxHeight:500,success:a=>{this.previewImage=URL.createObjectURL(a),this.avatarFile=a},error:a=>{console.error("图片压缩出错：",a.message),this.$emit("error",{message:"图片压缩出错："+a.message})}}):t&&this.$emit("error",{message:"请选择有效的图片文件"})},async uploadAvatar(){if(this.avatarFile){this.loading=!0;try{const e=new FormData;e.append("zcfile",this.avatarFile);const t=await Ha("",e);this.$emit("avatar-updated",t),this.avatarFile=null}catch(e){this.$emit("error",e)}finally{this.loading=!1}}}}},Ns={class:"d-flex align-center justify-center fill-height"};function Ys(e,t,a,n,r,o){return F(),R(Ae,null,{default:d(()=>[i(C,{cols:"12",md:"6"},{default:d(()=>[i(Ka,{label:"上传头像",accept:"image/*",onChange:o.onFileChange,placeholder:"选择图片上传","prepend-icon":"mdi-camera",variant:"outlined",density:"comfortable","show-size":"",rules:[s=>!s||!s.length||s[0].size<2e6||"头像大小不能超过2MB"]},null,8,["onChange","rules"]),t[0]||(t[0]=y("div",{class:"text-caption text-medium-emphasis"},"图片将被自动压缩",-1))]),_:1,__:[0]}),i(C,{cols:"12",md:"6",class:"d-flex align-center justify-center"},{default:d(()=>[i(Ja,{class:pe(["rounded-lg overflow-hidden","elevation-2"]),width:"150",height:"150"},{default:d(()=>[i(Dt,{src:r.previewImage||a.s3BucketUrl+"/user/"+a.userData.avatar,height:"150",width:"150",cover:"",class:"bg-grey-lighten-3"},{placeholder:d(()=>[y("div",Ns,[i(ne,{icon:"mdi-image",size:"64",color:"grey-darken-1"})])]),_:1},8,["src"])]),_:1})]),_:1}),i(C,{cols:"12"},{default:d(()=>[i(W,{onClick:o.uploadAvatar,disabled:!r.avatarFile,color:"primary",size:"large","prepend-icon":"mdi-cloud-upload",class:"px-6",loading:r.loading},{default:d(()=>t[1]||(t[1]=[D(" 上传头像 ")])),_:1,__:[1]},8,["onClick","disabled","loading"])]),_:1})]),_:1})}const ta=se(Us,[["render",Ys]]),js={name:"PasswordEditor",data(){return{loading:!1,valid:!1,oldPassword:"",newPassword:"",confirmPassword:"",passwordRules:[e=>!!e||"请输入新密码",e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&\.])[A-Za-z\d$@$!%*?&\.]{8,}/.test(e)||"密码必须由数字、大小写字母和特殊字符组成，且长度至少为8位"]}},methods:{async changePassword(){if(this.valid){this.loading=!0;try{const e=await Ga({oldpw:this.oldPassword,newpw:this.newPassword});this.$emit("password-updated",e),this.oldPassword="",this.newPassword="",this.confirmPassword=""}catch(e){this.$emit("error",e)}finally{this.loading=!1}}}}};function qs(e,t,a,n,r,o){return F(),R(Ke,{modelValue:r.valid,"onUpdate:modelValue":t[3]||(t[3]=s=>r.valid=s),onSubmit:ae(o.changePassword,["prevent"])},{default:d(()=>[i(Ae,null,{default:d(()=>[i(C,{cols:"12",md:"8"},{default:d(()=>[i(A,{modelValue:r.oldPassword,"onUpdate:modelValue":t[0]||(t[0]=s=>r.oldPassword=s),label:"当前密码",variant:"outlined",density:"comfortable",type:"password",rules:[s=>!!s||"请输入当前密码"],required:""},null,8,["modelValue","rules"])]),_:1}),i(C,{cols:"12",md:"8"},{default:d(()=>[i(A,{modelValue:r.newPassword,"onUpdate:modelValue":t[1]||(t[1]=s=>r.newPassword=s),rules:r.passwordRules,label:"新密码",variant:"outlined",density:"comfortable",type:"password",required:""},null,8,["modelValue","rules"]),t[4]||(t[4]=y("div",{class:"text-caption text-medium-emphasis"}," 密码必须由数字、大小写字母和特殊字符组成，且长度至少为8位 ",-1))]),_:1,__:[4]}),i(C,{cols:"12",md:"8"},{default:d(()=>[i(A,{modelValue:r.confirmPassword,"onUpdate:modelValue":t[2]||(t[2]=s=>r.confirmPassword=s),rules:[s=>!!s||"请确认新密码",s=>s===r.newPassword||"两次输入的密码不一致"],label:"确认新密码",variant:"outlined",density:"comfortable",type:"password",required:""},null,8,["modelValue","rules"])]),_:1}),i(C,{cols:"12"},{default:d(()=>[i(W,{onClick:o.changePassword,disabled:!r.valid,color:"primary",size:"large","prepend-icon":"mdi-lock-reset",class:"px-6",loading:r.loading},{default:d(()=>t[5]||(t[5]=[D(" 更新密码 ")])),_:1,__:[5]},8,["onClick","disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])}const aa=se(js,[["render",qs]]),Ls={name:"UsernameEditor",props:{userData:{type:Object,required:!0}},data(){return{loading:!1,valid:!1,username:this.userData.username||"",usernameRules:[e=>!!e||"用户名是必填项",e=>e&&e.length<=10||"用户名不能超过10个字符",e=>/^[a-z]+$/.test(e)||"用户名只能包含小写字母"]}},watch:{userData:{handler(e){this.username=e.username||""},immediate:!0}},methods:{async changeUsername(){if(this.valid){this.loading=!0;try{const e=await Xa({username:this.username});this.$emit("username-updated",e)}catch(e){this.$emit("error",e)}finally{this.loading=!1}}}}};function Hs(e,t,a,n,r,o){return F(),R(Ke,{modelValue:r.valid,"onUpdate:modelValue":t[1]||(t[1]=s=>r.valid=s),onSubmit:ae(o.changeUsername,["prevent"])},{default:d(()=>[i(Ae,null,{default:d(()=>[i(C,{cols:"12",md:"8"},{default:d(()=>[i(A,{modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=s=>r.username=s),counter:10,rules:r.usernameRules,label:"用户名",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","rules"]),t[2]||(t[2]=y("div",{class:"text-caption text-medium-emphasis"},"用户名只能包含小写字母",-1))]),_:1,__:[2]}),i(C,{cols:"12"},{default:d(()=>[i(W,{onClick:o.changeUsername,disabled:!r.valid,color:"primary",size:"large","prepend-icon":"mdi-check",class:"px-6",loading:r.loading},{default:d(()=>t[3]||(t[3]=[D(" 保存用户名 ")])),_:1,__:[3]},8,["onClick","disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])}const na=se(Ls,[["render",Hs]]),Gs="阿拉伯联合酋长国",Xs="阿根廷",$s="奥地利",Qs="澳大利亚 (au_act)",Ks="澳大利亚 (au_nsw)",Js="澳大利亚 (au_nt)",Zs="澳大利亚 (au_qld_brisbane)",eo="澳大利亚 (au_qld_cairns)",to="澳大利亚 (au_qld)",ao="澳大利亚 (au_sa)",no="澳大利亚 (au_tas_north)",ro="澳大利亚 (au_tas_south)",so="澳大利亚 (au_tas)",oo="澳大利亚 (au_vic_melbourne)",lo="澳大利亚 (au_vic)",io="澳大利亚 (au_wa)",uo="澳大利亚",co="比利时 (be_fr)",fo="比利时 (be_nl)",mo="保加利亚 (bg_bg)",ho="保加利亚 (bg_en)",go="巴西",_o="巴西 (br_sp)",bo="巴西 (br_spcapital)",vo="加拿大 (ca_ab)",yo="加拿大 (ca_bc)",wo="加拿大 (ca_mb)",po="加拿大 (ca_nb)",xo="加拿大 (ca_nl)",ko="加拿大 (ca_ns)",Po="加拿大 (ca_nt)",Do="加拿大 (ca_nu)",So="加拿大 (ca_on)",To="加拿大 (ca_pe)",Vo="加拿大 (ca_qc)",Mo="加拿大 (ca_sk)",Co="加拿大 (ca_yt)",Oo="加拿大",Io="瑞士 (ch_ag)",Fo="瑞士 (ch_ai)",Wo="瑞士 (ch_ar)",zo="瑞士 (ch_be)",Eo="瑞士 (ch_bl)",Ao="瑞士 (ch_bs)",Bo="瑞士 (ch_fr)",Ro="瑞士 (ch_ge)",Uo="瑞士 (ch_gl)",No="瑞士 (ch_gr)",Yo="瑞士 (ch_ju)",jo="瑞士 (ch_lu)",qo="瑞士 (ch_ne)",Lo="瑞士 (ch_nw)",Ho="瑞士 (ch_ow)",Go="瑞士 (ch_sg)",Xo="瑞士 (ch_sh)",$o="瑞士 (ch_so)",Qo="瑞士 (ch_sz)",Ko="瑞士 (ch_tg)",Jo="瑞士 (ch_ti)",Zo="瑞士 (ch_ur)",el="瑞士 (ch_vd)",tl="瑞士 (ch_vs)",al="瑞士 (ch_zg)",nl="瑞士 (ch_zh)",rl="瑞士",sl="智利",ol="哥伦比亚",ll="哥斯达黎加",il="捷克共和国",ul="德国 (de_bb)",cl="德国 (de_be)",dl="德国 (de_bw)",fl="德国 (de_by_augsburg)",ml="德国 (de_by_cath)",hl="德国 (de_by)",gl="德国 (de_hb)",_l="德国 (de_he)",bl="德国 (de_hh)",vl="德国 (de_mv)",yl="德国 (de_ni)",wl="德国 (de_nw)",pl="德国 (de_rp)",xl="德国 (de_sh)",kl="德国 (de_sl)",Pl="德国 (de_sn_sorbian)",Dl="德国 (de_sn)",Sl="德国 (de_st)",Tl="德国 (de_th_cath)",Vl="德国 (de_th)",Ml="德国",Cl="丹麦",Ol="爱沙尼亚",Il="希腊",Fl="西班牙 (es_an)",Wl="西班牙 (es_ar)",zl="西班牙 (es_ce)",El="西班牙 (es_cl)",Al="西班牙 (es_cm)",Bl="西班牙 (es_cn)",Rl="西班牙 (es_ct)",Ul="西班牙 (es_ex)",Nl="西班牙 (es_ga)",Yl="西班牙 (es_ib)",jl="西班牙 (es_lo)",ql="西班牙 (es_m)",Ll="西班牙 (es_mu)",Hl="西班牙 (es_na)",Gl="西班牙 (es_o)",Xl="西班牙 (es_pv)",$l="西班牙 (es_v)",Ql="西班牙 (es_vc)",Kl="西班牙",Jl="芬兰",Zl="法国 (fr_a)",ei="法国 (fr_m)",ti="法国",ai="英国 (gb_con)",ni="英国 (gb_eaw)",ri="英国 (gb_eng)",si="英国 (gb_gsy)",oi="英国 (gb_iom)",li="英国 (gb_jsy)",ii="英国 (gb_nir)",ui="英国 (gb_sct)",ci="英国 (gb_wls)",di="英国",fi="格鲁吉亚",mi="根西岛",hi="加纳",gi="克罗地亚",_i="匈牙利",bi="印度尼西亚",vi="爱尔兰",yi="马恩岛",wi="印度 (in_gj)",pi="印度 (in_mh)",xi="印度 (in_rj)",ki="印度 (in_tn)",Pi="印度 (in_ka)",Di="冰岛",Si="意大利 (it_bl)",Ti="意大利 (it_fi)",Vi="意大利 (it_ge)",Mi="意大利 (it_pd)",Ci="意大利 (it_rm)",Oi="意大利 (it_ro)",Ii="意大利 (it_to)",Fi="意大利 (it_tv)",Wi="意大利 (it_ve)",zi="意大利 (it_vi)",Ei="意大利 (it_vr)",Ai="意大利",Bi="泽西岛",Ri="日本",Ui="肯尼亚",Ni="韩国",Yi="哈萨克斯坦",ji="列支敦士登",qi="立陶宛",Li="卢森堡",Hi="拉脱维亚",Gi="摩洛哥",Xi="马耳他 (mt_en)",$i="马耳他 (mt_mt)",Qi="墨西哥 (mx_pue)",Ki="墨西哥",Ji="马来西亚",Zi="尼日利亚",eu="荷兰",tu="挪威",au="新西兰 (nz_ak)",nu="新西兰 (nz_ca)",ru="新西兰 (nz_ch)",su="新西兰 (nz_hb)",ou="新西兰 (nz_mb)",lu="新西兰 (nz_ne)",iu="新西兰 (nz_nl)",uu="新西兰 (nz_ot)",cu="新西兰 (nz_sc)",du="新西兰 (nz_sl)",fu="新西兰 (nz_ta)",mu="新西兰 (nz_we)",hu="新西兰 (nz_wl)",gu="新西兰",_u="秘鲁",bu="菲律宾",vu="波兰",yu="葡萄牙 (pt_li)",wu="葡萄牙 (pt_po)",pu="葡萄牙",xu="罗马尼亚",ku="塞尔维亚 (rs_cyrl)",Pu="塞尔维亚 (rs_la)",Du="俄罗斯联邦",Su="瑞典",Tu="沙特阿拉伯",Vu="新加坡",Mu="斯洛文尼亚",Cu="斯洛伐克",Ou="泰国",Iu="突尼斯",Fu="土耳其",Wu="乌克兰",zu="美国 (us_ak)",Eu="美国 (us_al)",Au="美国 (us_ar)",Bu="美国 (us_az)",Ru="美国 (us_ca)",Uu="美国 (us_co)",Nu="美国 (us_ct)",Yu="美国 (us_dc)",ju="美国 (us_de)",qu="美国 (us_fl)",Lu="美国 (us_ga)",Hu="美国 (us_gu)",Gu="美国 (us_hi)",Xu="美国 (us_ia)",$u="美国 (us_id)",Qu="美国 (us_il)",Ku="美国 (us_in)",Ju="美国 (us_ks)",Zu="美国 (us_ky)",ec="美国 (us_la)",tc="美国 (us_ma)",ac="美国 (us_md)",nc="美国 (us_me)",rc="美国 (us_mi)",sc="美国 (us_mn)",oc="美国 (us_mo)",lc="美国 (us_ms)",ic="美国 (us_mt)",uc="美国 (us_nc)",cc="美国 (us_nd)",dc="美国 (us_ne)",fc="美国 (us_nh)",mc="美国 (us_nj)",hc="美国 (us_nm)",gc="美国 (us_nv)",_c="美国 (us_ny)",bc="美国 (us_oh)",vc="美国 (us_ok)",yc="美国 (us_or)",wc="美国 (us_pa)",pc="美国 (us_pr)",xc="美国 (us_ri)",kc="美国 (us_sc)",Pc="美国 (us_sd)",Dc="美国 (us_tn)",Sc="美国 (us_tx)",Tc="美国 (us_ut)",Vc="美国 (us_va)",Mc="美国 (us_vi)",Cc="美国 (us_vt)",Oc="美国 (us_wa)",Ic="美国 (us_wi)",Fc="美国 (us_wv)",Wc="美国 (us_wy)",zc="美国",Ec="委内瑞拉",Ac="美属维尔京群岛",Bc="南非",Rc="中国",Uc="中国（大陆） (zh_cn)",Nc="中国（台湾） (zh_tw)",Yc="中国（香港） (zh_hk)",jc="中国（澳门） (zh_mo)",qe={ae:Gs,ar:Xs,at:$s,au_act:Qs,au_nsw:Ks,au_nt:Js,au_qld_brisbane:Zs,au_qld_cairns:eo,au_qld:to,au_sa:ao,au_tas_north:no,au_tas_south:ro,au_tas:so,au_vic_melbourne:oo,au_vic:lo,au_wa:io,au:uo,be_fr:co,be_nl:fo,bg_bg:mo,bg_en:ho,br:go,br_sp:_o,br_spcapital:bo,ca_ab:vo,ca_bc:yo,ca_mb:wo,ca_nb:po,ca_nl:xo,ca_ns:ko,ca_nt:Po,ca_nu:Do,ca_on:So,ca_pe:To,ca_qc:Vo,ca_sk:Mo,ca_yt:Co,ca:Oo,ch_ag:Io,ch_ai:Fo,ch_ar:Wo,ch_be:zo,ch_bl:Eo,ch_bs:Ao,ch_fr:Bo,ch_ge:Ro,ch_gl:Uo,ch_gr:No,ch_ju:Yo,ch_lu:jo,ch_ne:qo,ch_nw:Lo,ch_ow:Ho,ch_sg:Go,ch_sh:Xo,ch_so:$o,ch_sz:Qo,ch_tg:Ko,ch_ti:Jo,ch_ur:Zo,ch_vd:el,ch_vs:tl,ch_zg:al,ch_zh:nl,ch:rl,cl:sl,co:ol,cr:ll,cz:il,de_bb:ul,de_be:cl,de_bw:dl,de_by_augsburg:fl,de_by_cath:ml,de_by:hl,de_hb:gl,de_he:_l,de_hh:bl,de_mv:vl,de_ni:yl,de_nw:wl,de_rp:pl,de_sh:xl,de_sl:kl,de_sn_sorbian:Pl,de_sn:Dl,de_st:Sl,de_th_cath:Tl,de_th:Vl,de:Ml,dk:Cl,ee:Ol,el:Il,es_an:Fl,es_ar:Wl,es_ce:zl,es_cl:El,es_cm:Al,es_cn:Bl,es_ct:Rl,es_ex:Ul,es_ga:Nl,es_ib:Yl,es_lo:jl,es_m:ql,es_mu:Ll,es_na:Hl,es_o:Gl,es_pv:Xl,es_v:$l,es_vc:Ql,es:Kl,fi:Jl,fr_a:Zl,fr_m:ei,fr:ti,gb_con:ai,gb_eaw:ni,gb_eng:ri,gb_gsy:si,gb_iom:oi,gb_jsy:li,gb_nir:ii,gb_sct:ui,gb_wls:ci,gb:di,ge:fi,gg:mi,gh:hi,hr:gi,hu:_i,id:bi,ie:vi,im:yi,in:"印度",in_gj:wi,in_mh:pi,in_rj:xi,in_tn:ki,in_ka:Pi,is:Di,it_bl:Si,it_fi:Ti,it_ge:Vi,it_pd:Mi,it_rm:Ci,it_ro:Oi,it_to:Ii,it_tv:Fi,it_ve:Wi,it_vi:zi,it_vr:Ei,it:Ai,je:Bi,jp:Ri,ke:Ui,kr:Ni,kz:Yi,li:ji,lt:qi,lu:Li,lv:Hi,ma:Gi,mt_en:Xi,mt_mt:$i,mx_pue:Qi,mx:Ki,my:Ji,ng:Zi,nl:eu,no:tu,nz_ak:au,nz_ca:nu,nz_ch:ru,nz_hb:su,nz_mb:ou,nz_ne:lu,nz_nl:iu,nz_ot:uu,nz_sc:cu,nz_sl:du,nz_ta:fu,nz_we:mu,nz_wl:hu,nz:gu,pe:_u,ph:bu,pl:vu,pt_li:yu,pt_po:wu,pt:pu,ro:xu,rs_cyrl:ku,rs_la:Pu,ru:Du,se:Su,sa:Tu,sg:Vu,si:Mu,sk:Cu,th:Ou,tn:Iu,tr:Fu,ua:Wu,us_ak:zu,us_al:Eu,us_ar:Au,us_az:Bu,us_ca:Ru,us_co:Uu,us_ct:Nu,us_dc:Yu,us_de:ju,us_fl:qu,us_ga:Lu,us_gu:Hu,us_hi:Gu,us_ia:Xu,us_id:$u,us_il:Qu,us_in:Ku,us_ks:Ju,us_ky:Zu,us_la:ec,us_ma:tc,us_md:ac,us_me:nc,us_mi:rc,us_mn:sc,us_mo:oc,us_ms:lc,us_mt:ic,us_nc:uc,us_nd:cc,us_ne:dc,us_nh:fc,us_nj:mc,us_nm:hc,us_nv:gc,us_ny:_c,us_oh:bc,us_ok:vc,us_or:yc,us_pa:wc,us_pr:pc,us_ri:xc,us_sc:kc,us_sd:Pc,us_tn:Dc,us_tx:Sc,us_ut:Tc,us_va:Vc,us_vi:Mc,us_vt:Cc,us_wa:Oc,us_wi:Ic,us_wv:Fc,us_wy:Wc,us:zc,ve:Ec,vi:Ac,za:Bc,zh:Rc,zh_cn:Uc,zh_tw:Nc,zh_hk:Yc,zh_mo:jc},qc={name:"ProfileEditor",props:{userData:{type:Object,required:!0}},data(){return{loading:!1,valid:!1,showRegionDialog:!1,regionSearch:"",profileData:{display_name:this.userData.display_name||"",motto:this.userData.motto||"",bio:this.userData.bio||"",location:this.userData.location||"",region:this.userData.region?{value:this.userData.region,text:qe[this.userData.region]||""}:null,url:this.userData.url||"",birthday:this.userData.birthday||"",featured_projects:this.userData.featured_projects||""},regionOptions:Object.entries(qe).map(([e,t])=>({value:e,text:t})),selectedGender:{state:"未知",abbr:"3"},genderOptions:[{state:"男",abbr:"0"},{state:"女",abbr:"1"},{state:"猫娘",abbr:"2"},{state:"未知",abbr:"3"}],nameRules:[e=>!!e||"名称是必填项",e=>e&&e.length<=20||"名称不能超过20个字符"],locationRules:[e=>!e||e.length<=100||"地址不能超过100个字符"],regionRules:[e=>!e||e.length<=100||"区域不能超过100个字符"],urlRules:[e=>!e||e.length<=255||"URL不能超过255个字符",e=>!e||/^https?:\/\/.*/.test(e)||"URL必须以http://或https://开头"],birthdayRules:[e=>!e||/^\d{4}-\d{2}-\d{2}$/.test(e)||"生日格式必须为YYYY-MM-DD"],projectIdRules:[e=>!e||/^\d+$/.test(e)||"项目ID必须是数字"]}},computed:{filteredRegions(){if(!this.regionSearch)return this.regionOptions;const e=this.regionSearch.toLowerCase();return this.regionOptions.filter(t=>t.text.toLowerCase().includes(e)||t.value.toLowerCase().includes(e))}},watch:{userData:{handler(e){this.profileData={display_name:e.display_name||"",motto:e.motto||"",bio:e.bio||"",location:e.location||"",region:e.region?{value:e.region,text:qe[e.region]||""}:null,url:e.url||"",birthday:e.birthday?this.formatDateForInput(e.birthday):"",featured_projects:e.featured_projects||""},this.selectedGender=this.genderOptions.find(t=>t.abbr==e.sex)||this.genderOptions[3]},immediate:!0,deep:!0}},methods:{formatDateForInput(e){return e?new Date(e).toISOString().split("T")[0]:""},selectRegion(e){this.profileData.region=e,this.showRegionDialog=!1},clearRegion(){this.profileData.region=null,this.showRegionDialog=!1},async updateProfile(){var e;if(this.valid){this.loading=!0;try{const t=await $a({display_name:this.profileData.display_name,motto:this.profileData.motto,bio:this.profileData.bio,location:this.profileData.location,region:((e=this.profileData.region)==null?void 0:e.value)||"",sex:this.selectedGender.abbr,url:this.profileData.url,birthday:this.profileData.birthday,featured_projects:this.profileData.featured_projects||void 0});this.$emit("profile-updated",t)}catch(t){this.$emit("error",t)}finally{this.loading=!1}}}}};function Lc(e,t,a,n,r,o){return F(),R(Ke,{modelValue:r.valid,"onUpdate:modelValue":t[14]||(t[14]=s=>r.valid=s),onSubmit:ae(o.updateProfile,["prevent"])},{default:d(()=>[i(Ae,null,{default:d(()=>[i(C,{cols:"12",md:"6"},{default:d(()=>[i(A,{modelValue:r.profileData.display_name,"onUpdate:modelValue":t[0]||(t[0]=s=>r.profileData.display_name=s),counter:20,label:"显示名称",variant:"outlined",density:"comfortable",required:"",rules:r.nameRules},null,8,["modelValue","rules"])]),_:1}),i(C,{cols:"12",md:"6"},{default:d(()=>[i(Je,{modelValue:r.selectedGender,"onUpdate:modelValue":t[1]||(t[1]=s=>r.selectedGender=s),items:r.genderOptions,"item-title":"state","item-value":"abbr",label:"性别",variant:"outlined",density:"comfortable","persistent-hint":"","return-object":""},null,8,["modelValue","items"])]),_:1}),i(C,{cols:"12",md:"6"},{default:d(()=>[i(A,{modelValue:r.profileData.location,"onUpdate:modelValue":t[2]||(t[2]=s=>r.profileData.location=s),counter:100,label:"地点",variant:"outlined",density:"comfortable",rules:r.locationRules},null,8,["modelValue","rules"])]),_:1}),i(C,{cols:"12",md:"6"},{default:d(()=>{var s;return[i(A,{"model-value":((s=r.profileData.region)==null?void 0:s.text)||"",label:"区域",variant:"outlined",density:"comfortable",readonly:"",rules:r.regionRules,"persistent-hint":"",hint:"点击选择您所在的区域",onClick:t[4]||(t[4]=l=>r.showRegionDialog=!0)},{append:d(()=>[i(W,{variant:"text",icon:"mdi-map-marker",onClick:t[3]||(t[3]=l=>r.showRegionDialog=!0)})]),_:1},8,["model-value","rules"])]}),_:1}),i(C,{cols:"12",md:"6"},{default:d(()=>[i(A,{modelValue:r.profileData.url,"onUpdate:modelValue":t[5]||(t[5]=s=>r.profileData.url=s),counter:255,label:"个人网站",variant:"outlined",density:"comfortable",rules:r.urlRules},null,8,["modelValue","rules"])]),_:1}),i(C,{cols:"12",md:"6"},{default:d(()=>[i(A,{modelValue:r.profileData.birthday,"onUpdate:modelValue":t[6]||(t[6]=s=>r.profileData.birthday=s),label:"生日",type:"date",variant:"outlined",density:"comfortable",rules:r.birthdayRules},null,8,["modelValue","rules"])]),_:1}),i(C,{cols:"12"},{default:d(()=>[i(A,{modelValue:r.profileData.motto,"onUpdate:modelValue":t[7]||(t[7]=s=>r.profileData.motto=s),counter:500,label:"一行简介",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),i(C,{cols:"12"},{default:d(()=>[i(Za,{label:"详细介绍",modelValue:r.profileData.bio,"onUpdate:modelValue":t[8]||(t[8]=s=>r.profileData.bio=s),counter:2e3,variant:"outlined","auto-grow":"",rows:"3",hint:"支持Markdown格式","persistent-hint":""},null,8,["modelValue"])]),_:1}),i(C,{cols:"12",md:"6"},{default:d(()=>[i(A,{modelValue:r.profileData.featured_projects,"onUpdate:modelValue":t[9]||(t[9]=s=>r.profileData.featured_projects=s),label:"精选项目ID",variant:"outlined",density:"comfortable",type:"number",hint:"输入您的项目ID","persistent-hint":"",rules:r.projectIdRules},null,8,["modelValue","rules"])]),_:1}),i(C,{cols:"12"},{default:d(()=>[i(W,{onClick:o.updateProfile,disabled:!r.valid,color:"primary",size:"large","prepend-icon":"mdi-content-save",class:"px-6",loading:r.loading},{default:d(()=>t[15]||(t[15]=[D(" 保存资料 ")])),_:1,__:[15]},8,["onClick","disabled","loading"])]),_:1})]),_:1}),i(Pt,{modelValue:r.showRegionDialog,"onUpdate:modelValue":t[13]||(t[13]=s=>r.showRegionDialog=s),"max-width":"600"},{default:d(()=>[i(ze,null,{default:d(()=>[i(Qe,{class:"text-h5 pa-4"},{default:d(()=>[t[16]||(t[16]=D(" 选择区域 ")),i(Le),i(W,{icon:"mdi-close",variant:"text",onClick:t[10]||(t[10]=s=>r.showRegionDialog=!1)})]),_:1,__:[16]}),i(Ee,{class:"pa-4"},{default:d(()=>[i(A,{modelValue:r.regionSearch,"onUpdate:modelValue":t[11]||(t[11]=s=>r.regionSearch=s),label:"搜索区域",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":"",class:"mb-4"},null,8,["modelValue"]),i(Oa,{lines:"two",class:"region-list"},{default:d(()=>[(F(!0),we(J,null,St(o.filteredRegions,s=>(F(),R(Ia,{key:s.value,title:s.text,subtitle:s.value,onClick:l=>o.selectRegion(s)},{prepend:d(()=>{var l;return[i(ne,{color:((l=r.profileData.region)==null?void 0:l.value)===s.value?"primary":void 0},{default:d(()=>{var u;return[D(B(((u=r.profileData.region)==null?void 0:u.value)===s.value?"mdi-check-circle":"mdi-earth"),1)]}),_:2},1032,["color"])]}),_:2},1032,["title","subtitle","onClick"]))),128))]),_:1})]),_:1}),i(kt,{class:"pa-4"},{default:d(()=>[i(Le),i(W,{variant:"text",onClick:o.clearRegion},{default:d(()=>t[17]||(t[17]=[D(" 清除选择 ")])),_:1,__:[17]},8,["onClick"]),i(W,{color:"primary",onClick:t[12]||(t[12]=s=>r.showRegionDialog=!1)},{default:d(()=>t[18]||(t[18]=[D(" 确定 ")])),_:1,__:[18]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onSubmit"])}const ra=se(qc,[["render",Lc],["__scopeId","data-v-24343570"]]),Hc={name:"UserCard",props:{userData:{type:Object,required:!0},loading:{type:Boolean,default:!1},s3BucketUrl:{type:String,required:!0}}},Gc={class:"text-body-2 text-medium-emphasis",style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}};function Xc(e,t,a,n,r,o){return F(),R(ze,{hover:"",border:"",variant:"elevated",loading:a.loading,class:"mb-4"},{prepend:d(()=>[i(Ea,{class:"ma-3",size:"64"},{default:d(()=>[i(Dt,{alt:a.userData.display_name,src:a.s3BucketUrl+"/user/"+a.userData.avatar,cover:""},null,8,["alt","src"])]),_:1})]),loader:d(({isActive:s})=>[i(za,{active:s,height:"4",indeterminate:"",color:"primary"},null,8,["active"])]),default:d(()=>[i(Fa,null,{default:d(()=>[i(Qe,{class:"font-weight-bold text-h5"},{default:d(()=>[D(B(a.userData.display_name||"加载中..."),1)]),_:1}),i(Wa,{class:"mt-2"},{default:d(()=>[i(xe,{class:"mr-2",size:"small"},{default:d(()=>[i(ne,{icon:"mdi-account-circle",start:"",size:"small"}),D(" ID: "+B(a.userData.id||"—"),1)]),_:1}),i(xe,{size:"small"},{default:d(()=>[i(ne,{icon:"mdi-tag",start:"",size:"small"}),t[0]||(t[0]=D(" 创作者 "))]),_:1,__:[0]})]),_:1})]),_:1}),a.userData.bio?(F(),R(Ee,{key:0},{default:d(()=>[y("div",Gc,B(a.userData.bio),1)]),_:1})):xt("",!0)]),_:1},8,["loading"])}const sa=se(Hc,[["render",Xc]]),$c={components:{EmailManager:Vt,OAuthManager:Tt,SecurityManager:ea,UserCard:sa,ProfileEditor:ra,UsernameEditor:na,PasswordEditor:aa,AvatarEditor:ta,UserFollowing:tn,UserFollowers:en,UserBlocked:an},data(){return{userCardLoading:!1,localuser:fe,userInfo:{},tab:"userInfo",tabItems:[{title:"用户信息",value:"userInfo",icon:"mdi-account-circle"},{title:"账户",value:"username",icon:"mdi-cog"},{title:"密码",value:"password",icon:"mdi-lock"},{title:"头像",value:"avatar",icon:"mdi-image"},{title:"邮箱",value:"email",icon:"mdi-email"},{title:"OAuth",value:"oauth",icon:"mdi-link-variant"},{title:"安全",value:"security",icon:"mdi-security"},{title:"关系",value:"relationships",icon:"mdi-account-group",to:"/app/account/relationships"},{title:"开发者",value:"developer",icon:"mdi-account-group",to:"/app/account/developer"}],VITE_APP_S3_BUCKET:"https://zerocat-bitiful.houlangs.com"}},setup(){Na({title:"账户设置"})},async created(){fe.isLogin.value?await this.getUserById():this.$router.push("/app/account/login")},methods:{async getUserById(){this.userCardLoading=!0;try{const e=await Qa(fe.user.value.id);this.userInfo=e.data.data}catch(e){this.handleError(e)}finally{this.userCardLoading=!1}},handleProfileUpdate(e){this.showToast(e.data.status||"info","修改个人信息",e.data.message),this.getUserById()},handleUsernameUpdate(e){this.showToast(e.data.status||"info","修改用户名",e.data.message),this.getUserById()},handlePasswordUpdate(e){this.showToast(e.data.status||"info","修改密码",e.data.message)},handleAvatarUpdate(e){this.showToast(e.data.status||"info","修改头像",e.data.message),this.getUserById()},handleError(e){this.showToast("error","错误",e.message)},showToast(e,t,a){this.$toast.add({severity:e,summary:t,detail:a,life:3e3})}}};function Qc(e,t,a,n,r,o){const s=sa,l=ra,u=na,c=aa,h=ta,_=Vt,g=Tt,p=ea;return F(),R(Ua,{fluid:"",class:"pa-4"},{default:d(()=>[i(s,{userData:r.userInfo,loading:r.userCardLoading,s3BucketUrl:r.VITE_APP_S3_BUCKET},null,8,["userData","loading","s3BucketUrl"]),i(ze,{hover:"",border:""},{default:d(()=>[i(Aa,{modelValue:r.tab,"onUpdate:modelValue":t[0]||(t[0]=f=>r.tab=f),"bg-color":"primary"},{default:d(()=>[(F(!0),we(J,null,St(r.tabItems,f=>(F(),R(Ba,{key:f.value,text:f.title,value:f.value,onClick:v=>r.tab=f.value,"prepend-icon":f.icon,to:f.to},null,8,["text","value","onClick","prepend-icon","to"]))),128))]),_:1},8,["modelValue"]),i(Ee,{class:"pa-4"},{default:d(()=>[i(Ra,{modelValue:r.tab,"onUpdate:modelValue":t[1]||(t[1]=f=>r.tab=f)},{default:d(()=>[i($,{value:"userInfo"},{default:d(()=>[t[2]||(t[2]=y("h3",{class:"text-h5 mb-4"},"个人资料",-1)),i(l,{userData:r.userInfo,onProfileUpdated:o.handleProfileUpdate,onError:o.handleError},null,8,["userData","onProfileUpdated","onError"])]),_:1,__:[2]}),i($,{value:"username"},{default:d(()=>[t[3]||(t[3]=y("h3",{class:"text-h5 mb-4"},"修改用户名",-1)),i(u,{userData:r.userInfo,onUsernameUpdated:o.handleUsernameUpdate,onError:o.handleError},null,8,["userData","onUsernameUpdated","onError"])]),_:1,__:[3]}),i($,{value:"password"},{default:d(()=>[t[4]||(t[4]=y("h3",{class:"text-h5 mb-4"},"修改密码",-1)),i(c,{onPasswordUpdated:o.handlePasswordUpdate,onError:o.handleError},null,8,["onPasswordUpdated","onError"])]),_:1,__:[4]}),i($,{value:"avatar"},{default:d(()=>[t[5]||(t[5]=y("h3",{class:"text-h5 mb-4"},"更新头像",-1)),i(h,{userData:r.userInfo,s3BucketUrl:r.VITE_APP_S3_BUCKET,onAvatarUpdated:o.handleAvatarUpdate,onError:o.handleError},null,8,["userData","s3BucketUrl","onAvatarUpdated","onError"])]),_:1,__:[5]}),i($,{value:"email"},{default:d(()=>[t[6]||(t[6]=y("h3",{class:"text-h5 mb-4"},"邮箱管理",-1)),i(_,{ref:"emailManager"},null,512)]),_:1,__:[6]}),i($,{value:"oauth"},{default:d(()=>[t[7]||(t[7]=y("h3",{class:"text-h5 mb-4"},"第三方账号关联",-1)),i(g)]),_:1,__:[7]}),i($,{value:"security"},{default:d(()=>[t[8]||(t[8]=y("h3",{class:"text-h5 mb-4"},"安全管理",-1)),i(p)]),_:1,__:[8]}),i($,{value:"relationships"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const gd=se($c,[["render",Qc],["__scopeId","data-v-d038106e"]]);export{gd as default};
