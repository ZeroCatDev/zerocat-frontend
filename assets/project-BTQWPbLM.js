import{aq as p,bT as w,z as u,ap as y,t as a,o,w as t,f as n,q as V,D as _,k as c,v as g,C as h}from"./index-DHVuNzX6.js";import{c as x}from"./projectService-DOXfvh0w.js";import{a as f}from"./user-CjEA0hYe.js";import{V as C,a as k}from"./VRow-DVCJzNDz.js";import{V as v}from"./VAlert-iSCRoenC.js";import{V as j}from"./VContainer-CzgmzW6f.js";/* empty css              */const P={__name:"project",setup(I){const m=p(),d=w(),l=u(!0),s=u(null);return y(async()=>{try{const r=m.query.id;if(!r)throw new Error("项目ID不能为空");const e=await x(r);if(!e)throw new Error("项目不存在");console.log(await f(e.authorid));const i=await f(e.authorid);if(!i)throw new Error("作者信息不存在");await d.push(`/${i.username}/${e.name}`)}catch(r){s.value=r.message||"加载失败"}finally{l.value=!1}}),(r,e)=>(o(),a(j,{class:"fill-height",fluid:""},{default:t(()=>[n(C,{align:"center",justify:"center"},{default:t(()=>[n(k,{cols:"12",sm:"8",md:"6"},{default:t(()=>[n(V,{class:"text-center pa-4"},{default:t(()=>[l.value?(o(),a(_,{key:0,indeterminate:"",color:"primary"})):s.value?(o(),a(v,{key:1,type:"error",text:""},{default:t(()=>[c(g(s.value),1)]),_:1})):(o(),a(h,{key:2},{default:t(()=>e[0]||(e[0]=[c(" 正在跳转到项目页面... ")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{P as default};
