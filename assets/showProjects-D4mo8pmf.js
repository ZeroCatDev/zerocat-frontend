import{c as l}from"./projectService-BDJSQ7vV.js";import{a as p}from"./user-7eLoVmDZ.js";import{_ as m}from"./43-lazyload-CBkwrR6M.js";import{_,c as d,o as u,w as a,e as f,M as g,N as y,a as e,K as c,aa as I,ao as V,ap as j,H as i,O as h,aq as x}from"./index-BMBKnoIw.js";import{a as w,V as A}from"./VRow-OUGpbdLK.js";const C={props:{projectIds:{type:Array,required:!0}},data(){return{projects:[],authorIds:[],authors:{}}},watch:{projectIds:{handler(){this.fetchProjects()},immediate:!0,deep:!0}},methods:{async fetchProjects(){const t=await l(this.projectIds);this.projects=t.map(r=>({...r,author:{display_name:"加载中..."}})),this.updateAuthorIds()},updateAuthorIds(){this.authorIds=[...new Set(this.projects.map(t=>t.authorid))],this.fetchAuthors()},async fetchAuthors(){const t=await p(this.authorIds),r={};t.forEach(o=>{r[o.id]=o}),this.authors=r,this.updateProjectAuthors()},updateProjectAuthors(){this.projects=this.projects.map(t=>({...t,author:this.authors[t.authorid]||{display_name:"未知用户"}}))}}};function b(t,r,o,k,n,P){return u(),d(A,null,{default:a(()=>[(u(!0),f(g,null,y(n.projects,s=>(u(),d(w,{key:s.id,cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2",xxl:"2"},{default:a(()=>[e(c,{rounded:"lg",border:""},{default:a(()=>[e(c,{to:`/${s.author.username}/${s.name}`,style:{"aspect-ratio":"4/3"},rounded:"lg"},{default:a(()=>[e(I,{src:"https://s4-1.wuyuan.1r.ink/scratch_slt/"+s.id,class:"align-end","lazy-src":m,height:"100%",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",cover:""},{default:a(()=>[e(V,null,{default:a(()=>[e(j,null,{default:a(()=>[i(h(s.title||"未缓存"),1)]),_:2},1024),e(x,null,{default:a(()=>[i(h(s.description||""),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})}const E=_(C,[["render",b]]);export{E as _};
