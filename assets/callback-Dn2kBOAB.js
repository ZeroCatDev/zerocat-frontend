import{j as n}from"./index-VWaDGczM.js";import{_ as p,t as d,o as k,w as o,f as a,q as f,C as m,k as r,j as e,v as u,A as g,B as i}from"./index-DHVuNzX6.js";import{V as b}from"./VContainer-CzgmzW6f.js";/* empty css              */const x={data(){return{token:this.$route.query.token||"无",user:{},BASE_API:"https://zerocat-api.houlangs.com"}},setup(){i({title:"ZeroCat - 确认账户登录"})},async created(){if(this.$route.query.token)try{this.user=n(this.token),localStorage.setItem("token",this.token),this.user=n(localStorage.getItem("token")),console.log(this.user),await g.loadUser(),this.$router.push({path:"/"})}catch(s){this.user=s}else i({title:"ZeroCat - 账户登录失败"}),console.log("无token")}};function C(s,t,V,y,l,B){return k(),d(b,null,{default:o(()=>[a(f,{class:"mx-auto",rel:"noopener",target:"_blank",border:""},{title:o(()=>t[0]||(t[0]=[e("span",null,"您正在登录一个账户",-1)])),subtitle:o(()=>t[1]||(t[1]=[e("span",null,"其他页面传来了一个登录请求，正常情况下它会被自动处理",-1)])),default:o(()=>[a(m,{class:"bg-surface-light pt-4"},{default:o(()=>[t[2]||(t[2]=r("传入的token是：")),t[3]||(t[3]=e("br",null,null,-1)),r(" "+u(l.token)+" ",1),t[4]||(t[4]=e("br",null,null,-1)),t[5]||(t[5]=e("br",null,null,-1)),t[6]||(t[6]=r("处理后的数据是：")),t[7]||(t[7]=e("br",null,null,-1)),r(" "+u(l.user),1)]),_:1})]),_:1})]),_:1})}const q=p(x,[["render",C]]);export{q as default};
