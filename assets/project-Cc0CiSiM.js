import{aX as p,aZ as w,r as u,e as y,U as a,o,N as r,h as n,S as V,$ as _,K as c,T as h,Z as g}from"./index-CArOYGig.js";import{c as x}from"./projectService-Btw5TeR2.js";import{a as f}from"./user-7FBTDzOG.js";import{V as C,a as j}from"./VRow-BPr-bugJ.js";import{V as k}from"./VAlert-87zVYjzD.js";import{V as v}from"./VContainer-mbXXcHJD.js";/* empty css              */const P={__name:"project",setup(I){const m=p(),d=w(),l=u(!0),s=u(null);return y(async()=>{try{const t=m.query.id;if(!t)throw new Error("项目ID不能为空");const e=await x(t);if(!e)throw new Error("项目不存在");console.log(await f(e.authorid));const i=await f(e.authorid);if(!i)throw new Error("作者信息不存在");await d.push(`/${i.username}/${e.name}`)}catch(t){s.value=t.message||"加载失败"}finally{l.value=!1}}),(t,e)=>(o(),a(v,{class:"fill-height",fluid:""},{default:r(()=>[n(C,{align:"center",justify:"center"},{default:r(()=>[n(j,{cols:"12",sm:"8",md:"6"},{default:r(()=>[n(V,{class:"text-center pa-4"},{default:r(()=>[l.value?(o(),a(_,{key:0,indeterminate:"",color:"primary"})):s.value?(o(),a(k,{key:1,type:"error",text:""},{default:r(()=>[c(h(s.value),1)]),_:1})):(o(),a(g,{key:2},{default:r(()=>e[0]||(e[0]=[c(" 正在跳转到项目页面... ")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{P as default};
