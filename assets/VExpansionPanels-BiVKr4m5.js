import{u as Ue,a as je,b as $e,m as He}from"./VSelect-Z9s6Bydi.js";import{f as K,p as z,aF as Ge,R as J,b8 as M,aq as ue,at as m,by as qe,aE as Je,bz as We,bA as Xe,bK as L,ap as N,bg as se,bj as Ye,i as U,a4 as ie,a as t,M as W,Y as ee,bL as Ze,$ as Qe,a6 as F,a0 as ea,L as ce,P as aa,bB as la,aH as ae,H as na,au as ta,bC as oa,av as ua,bD as sa,bE as re,bM as ia,bJ as me,bN as ca,aW as xe,aZ as ra,aK as va,bO as da,k as le,aS as fa,n as be,u as ma,aX as xa,j as ba,aJ as ve,aU as pa,s as ga,y as ya,A as pe,B as ha,b0 as Va,E as Pa,bH as ka,aM as Ca,l as Sa,aN as Ia,t as P,z as Ea,bP as wa,aP as Ta}from"./index-ftuJ4KvT.js";import{u as Aa,m as Da}from"./filter-nT719Zxs.js";import{V as _a}from"./VCheckboxBtn-DSl_WQns.js";import{V as Fa}from"./VChip-DJ18Gnr1.js";function Ra(e,x,s){if(x==null)return e;if(Array.isArray(x))throw new Error("Multiple matches is not implemented");return typeof x=="number"&&~x?t(W,null,[t("span",{class:"v-combobox__unmask"},[e.substr(0,x)]),t("span",{class:"v-combobox__mask"},[e.substr(x,s)]),t("span",{class:"v-combobox__unmask"},[e.substr(x+s)])]):e}const Ba=z({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Da({filterKeys:["title"]}),...He({hideNoData:!0,returnObject:!0}),...ua(sa({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...oa({transition:!1})},"VCombobox"),ja=K()({name:"VCombobox",props:Ba(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,x){var ne;let{emit:s,slots:l}=x;const{t:h}=Ge(),b=J(),d=M(!1),p=M(!0),T=M(!1),S=J(),I=J(),R=ue(e,"menu"),c=m({get:()=>R.value,set:a=>{var n;R.value&&!a&&((n=S.value)!=null&&n.Î¨openChildren.size)||(R.value=a)}}),u=M(-1);let A=!1;const X=m(()=>{var a;return(a=b.value)==null?void 0:a.color}),B=m(()=>c.value?e.closeText:e.openText),{items:Ve,transformIn:Pe,transformOut:ke}=qe(e),{textColorClasses:Ce,textColorStyles:Se}=Je(X),i=ue(e,"modelValue",[],a=>Pe(We(a)),a=>{const n=ke(a);return e.multiple?n:n[0]??null}),j=Xe(e),{isMousedown:Ie}=Ue(),$=m(()=>!!(e.chips||l.chip)),C=m(()=>$.value||!!l.selection),E=M(!e.multiple&&!C.value?((ne=i.value[0])==null?void 0:ne.title)??"":""),f=m({get:()=>E.value,set:a=>{var n;if(E.value=a??"",!e.multiple&&!C.value&&(i.value=[L(e,a)]),a&&e.multiple&&((n=e.delimiters)!=null&&n.length)){const v=a.split(new RegExp(`(?:${e.delimiters.join("|")})+`));v.length>1&&(v.forEach(o=>{o=o.trim(),o&&k(L(e,o))}),E.value="")}a||(u.value=-1),p.value=!a}}),Ee=m(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?i.value.length:f.value.length);N(E,a=>{A?se(()=>A=!1):d.value&&!c.value&&(c.value=!0),s("update:search",a)}),N(i,a=>{var n;!e.multiple&&!C.value&&(E.value=((n=a[0])==null?void 0:n.title)??"")});const{filteredItems:H,getMatches:we}=Aa(e,Ve,()=>p.value?"":f.value),w=m(()=>e.hideSelected?H.value.filter(a=>!i.value.some(n=>n.value===a.value)):H.value),Te=m(()=>i.value.map(a=>a.value)),Y=m(()=>{var n;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&f.value===((n=w.value[0])==null?void 0:n.title))&&w.value.length>0&&!p.value&&!T.value}),Z=m(()=>e.hideNoData&&!w.value.length||j.isReadonly.value||j.isDisabled.value),Q=J(),Ae=je(Q,b);function De(a){A=!0,e.openOnClear&&(c.value=!0)}function _e(){Z.value||(c.value=!0)}function Fe(a){Z.value||(d.value&&(a.preventDefault(),a.stopPropagation()),c.value=!c.value)}function Re(a){var n;a.key!==" "&&re(a)&&((n=b.value)==null||n.focus())}function Be(a){var o;if(ia(a)||j.isReadonly.value)return;const n=b.value.selectionStart,v=i.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(a.key)&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(c.value=!0),["Escape"].includes(a.key)&&(c.value=!1),["Enter","Escape","Tab"].includes(a.key)&&(Y.value&&["Enter","Tab"].includes(a.key)&&!i.value.some(r=>{let{value:V}=r;return V===w.value[0].value})&&k(H.value[0]),p.value=!0),a.key==="ArrowDown"&&Y.value&&((o=Q.value)==null||o.focus("next")),a.key==="Enter"&&f.value&&(k(L(e,f.value)),C.value&&(E.value="")),["Backspace","Delete"].includes(a.key)){if(!e.multiple&&C.value&&i.value.length>0&&!f.value)return k(i.value[0],!1);if(~u.value){a.preventDefault();const r=u.value;k(i.value[u.value],!1),u.value=r>=v-1?v-2:r}else a.key==="Backspace"&&!f.value&&(u.value=v-1);return}if(e.multiple)if(a.key==="ArrowLeft"){if(u.value<0&&n>0)return;const r=u.value>-1?u.value-1:v-1;i.value[r]?u.value=r:(u.value=-1,b.value.setSelectionRange(f.value.length,f.value.length))}else if(a.key==="ArrowRight"){if(u.value<0)return;const r=u.value+1;i.value[r]?u.value=r:(u.value=-1,b.value.setSelectionRange(0,0))}else~u.value&&re(a)&&(u.value=-1)}function Me(){var a;e.eager&&((a=I.value)==null||a.calculateVisibleItems())}function Le(){var a;d.value&&(p.value=!0,(a=b.value)==null||a.focus())}function Ne(a){Ie.value||(c.value=!1)}function k(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!a||a.props.disabled))if(e.multiple){const v=i.value.findIndex(r=>e.valueComparator(r.value,a.value)),o=n??!~v;if(~v){const r=o?[...i.value,a]:[...i.value];r.splice(v,1),i.value=r}else o&&(i.value=[...i.value,a]);e.clearOnSelect&&(f.value="")}else{const v=n!==!1;i.value=v?[a]:[],E.value=v&&!C.value?a.title:"",se(()=>{c.value=!1,p.value=!0})}}function Oe(a){d.value=!0,setTimeout(()=>{T.value=!0})}function Ke(a){T.value=!1}function ze(a){(a==null||a===""&&!e.multiple&&!C.value)&&(i.value=[])}return N(d,(a,n)=>{if(!(a||a===n)&&(u.value=-1,f.value)){if(e.multiple){k(L(e,f.value));return}if(!C.value)return;i.value.some(v=>{let{title:o}=v;return o===f.value})?E.value="":k(L(e,f.value))}}),N(c,()=>{if(!e.hideSelected&&c.value&&i.value.length){const a=w.value.findIndex(n=>i.value.some(v=>e.valueComparator(v.value,n.value)));Ye&&window.requestAnimationFrame(()=>{var n;a>=0&&((n=I.value)==null||n.scrollToIndex(a))})}}),N(()=>e.items,(a,n)=>{c.value||d.value&&!n.length&&a.length&&(c.value=!0)}),U(()=>{const a=!!(!e.hideNoData||w.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),n=i.value.length>0,v=ie.filterProps(e);return t(ie,F({ref:b},v,{modelValue:f.value,"onUpdate:modelValue":[o=>f.value=o,ze],focused:d.value,"onUpdate:focused":o=>d.value=o,validationValue:i.externalValue,counterValue:Ee.value,dirty:n,class:["v-combobox",{"v-combobox--active-menu":c.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!C.value,"v-combobox--selecting-index":u.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:j.isReadonly.value,placeholder:n?void 0:e.placeholder,"onClick:clear":De,onBlur:Ne,"onMousedown:control":_e,onKeydown:Be}),{...l,default:()=>t(W,null,[t(Qe,F({ref:S,modelValue:c.value,"onUpdate:modelValue":o=>c.value=o,activator:"parent",contentClass:"v-combobox__content",disabled:Z.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Me,onAfterLeave:Le},e.menuProps),{default:()=>[a&&t(ea,F({ref:Q,selected:Te.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:o=>o.preventDefault(),onKeydown:Re,onFocusin:Oe,onFocusout:Ke,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Ae,e.listProps),{default:()=>{var o,r,V;return[(o=l["prepend-item"])==null?void 0:o.call(l),!w.value.length&&!e.hideNoData&&(((r=l["no-data"])==null?void 0:r.call(l))??t(ce,{key:"no-data",title:h(e.noDataText)},null)),t($e,{ref:I,renderless:!0,items:w.value},{default:D=>{var oe;let{item:g,index:_,itemRef:y}=D;const te=F(g.props,{ref:y,key:g.value,active:Y.value&&_===0?!0:void 0,onClick:()=>k(g,null)});return((oe=l.item)==null?void 0:oe.call(l,{item:g,index:_,props:te}))??t(ce,F(te,{role:"option"}),{prepend:G=>{let{isSelected:q}=G;return t(W,null,[e.multiple&&!e.hideSelected?t(_a,{key:g.value,modelValue:q,ripple:!1,tabindex:"-1"},null):void 0,g.props.prependAvatar&&t(aa,{image:g.props.prependAvatar},null),g.props.prependIcon&&t(ee,{icon:g.props.prependIcon},null)])},title:()=>{var G,q;return p.value?g.title:Ra(g.title,(G=we(g))==null?void 0:G.title,((q=f.value)==null?void 0:q.length)??0)}})}}),(V=l["append-item"])==null?void 0:V.call(l)]}})]}),i.value.map((o,r)=>{function V(y){y.stopPropagation(),y.preventDefault(),k(o,!1)}const D={"onClick:close":V,onKeydown(y){y.key!=="Enter"&&y.key!==" "||(y.preventDefault(),y.stopPropagation(),V(y))},onMousedown(y){y.preventDefault(),y.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},g=$.value?!!l.chip:!!l.selection,_=g?la($.value?l.chip({item:o,index:r,props:D}):l.selection({item:o,index:r})):void 0;if(!(g&&!_))return t("div",{key:o.value,class:["v-combobox__selection",r===u.value&&["v-combobox__selection--selected",Ce.value]],style:r===u.value?Se.value:{}},[$.value?l.chip?t(ae,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:o.title}}},{default:()=>[_]}):t(Fa,F({key:"chip",closable:e.closableChips,size:"small",text:o.title,disabled:o.props.disabled},D),null):_??t("span",{class:"v-combobox__selection-text"},[o.title,e.multiple&&r<i.value.length-1&&t("span",{class:"v-combobox__selection-comma"},[na(",")])])])})]),"append-inner":function(){var D;for(var o=arguments.length,r=new Array(o),V=0;V<o;V++)r[V]=arguments[V];return t(W,null,[(D=l["append-inner"])==null?void 0:D.call(l,...r),(!e.hideNoData||e.items.length)&&e.menuIcon?t(ee,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:Fe,onClick:Ze,"aria-label":h(B.value),title:h(B.value),tabindex:"-1"},null):void 0])}})}),ta({isFocused:d,isPristine:p,menu:c,search:f,selectionIndex:u,filteredItems:H,select:k},b)}}),O=Symbol.for("vuetify:v-expansion-panel"),ge=z({...le(),...da()},"VExpansionPanelText"),de=K()({name:"VExpansionPanelText",props:ge(),setup(e,x){let{slots:s}=x;const l=me(O);if(!l)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:h,onAfterLeave:b}=ca(e,l.isSelected);return U(()=>t(va,{onAfterLeave:b},{default:()=>{var d;return[xe(t("div",{class:["v-expansion-panel-text",e.class],style:e.style},[s.default&&h.value&&t("div",{class:"v-expansion-panel-text__wrapper"},[(d=s.default)==null?void 0:d.call(s)])]),[[ra,l.isSelected.value]])]}})),{}}}),ye=z({color:String,expandIcon:{type:ve,default:"$expand"},collapseIcon:{type:ve,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...le(),...ba()},"VExpansionPanelTitle"),fe=K()({name:"VExpansionPanelTitle",directives:{Ripple:fa},props:ye(),setup(e,x){let{slots:s}=x;const l=me(O);if(!l)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:h,backgroundColorStyles:b}=be(e,"color"),{dimensionStyles:d}=ma(e),p=m(()=>({collapseIcon:e.collapseIcon,disabled:l.disabled.value,expanded:l.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),T=m(()=>l.isSelected.value?e.collapseIcon:e.expandIcon);return U(()=>{var S;return xe(t("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":l.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},h.value,e.class],style:[b.value,d.value,e.style],type:"button",tabindex:l.disabled.value?-1:void 0,disabled:l.disabled.value,"aria-expanded":l.isSelected.value,onClick:e.readonly?void 0:l.toggle},[t("span",{class:"v-expansion-panel-title__overlay"},null),(S=s.default)==null?void 0:S.call(s,p.value),!e.hideActions&&t(ae,{defaults:{VIcon:{icon:T.value}}},{default:()=>{var I;return[t("span",{class:"v-expansion-panel-title__icon"},[((I=s.actions)==null?void 0:I.call(s,p.value))??t(ee,null,null)])]}})]),[[xa("ripple"),e.ripple]])}),{}}}),he=z({title:String,text:String,bgColor:String,...Pa(),...Va(),...ha(),...pe(),...ye(),...ge()},"VExpansionPanel"),$a=K()({name:"VExpansionPanel",props:he(),emits:{"group:selected":e=>!0},setup(e,x){let{slots:s}=x;const l=pa(e,O),{backgroundColorClasses:h,backgroundColorStyles:b}=be(e,"bgColor"),{elevationClasses:d}=ga(e),{roundedClasses:p}=ya(e),T=m(()=>(l==null?void 0:l.disabled.value)||e.disabled),S=m(()=>l.group.items.value.reduce((c,u,A)=>(l.group.selected.value.includes(u.id)&&c.push(A),c),[])),I=m(()=>{const c=l.group.items.value.findIndex(u=>u.id===l.id);return!l.isSelected.value&&S.value.some(u=>u-c===1)}),R=m(()=>{const c=l.group.items.value.findIndex(u=>u.id===l.id);return!l.isSelected.value&&S.value.some(u=>u-c===-1)});return ka(O,l),U(()=>{const c=!!(s.text||e.text),u=!!(s.title||e.title),A=fe.filterProps(e),X=de.filterProps(e);return t(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":l.isSelected.value,"v-expansion-panel--before-active":I.value,"v-expansion-panel--after-active":R.value,"v-expansion-panel--disabled":T.value},p.value,h.value,e.class],style:[b.value,e.style]},{default:()=>[t("div",{class:["v-expansion-panel__shadow",...d.value]},null),t(ae,{defaults:{VExpansionPanelTitle:{...A},VExpansionPanelText:{...X}}},{default:()=>{var B;return[u&&t(fe,{key:"title"},{default:()=>[s.title?s.title():e.title]}),c&&t(de,{key:"text"},{default:()=>[s.text?s.text():e.text]}),(B=s.default)==null?void 0:B.call(s)]}})]})}),{groupItem:l}}}),Ma=["default","accordion","inset","popout"],La=z({flat:Boolean,...Ta(),...wa(he(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ea(),...le(),...pe(),variant:{type:String,default:"default",validator:e=>Ma.includes(e)}},"VExpansionPanels"),Ha=K()({name:"VExpansionPanels",props:La(),emits:{"update:modelValue":e=>!0},setup(e,x){let{slots:s}=x;const{next:l,prev:h}=Ca(e,O),{themeClasses:b}=Sa(e),d=m(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ia({VExpansionPanel:{bgColor:P(e,"bgColor"),collapseIcon:P(e,"collapseIcon"),color:P(e,"color"),eager:P(e,"eager"),elevation:P(e,"elevation"),expandIcon:P(e,"expandIcon"),focusable:P(e,"focusable"),hideActions:P(e,"hideActions"),readonly:P(e,"readonly"),ripple:P(e,"ripple"),rounded:P(e,"rounded"),static:P(e,"static")}}),U(()=>t(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},b.value,d.value,e.class],style:e.style},{default:()=>{var p;return[(p=s.default)==null?void 0:p.call(s,{prev:h,next:l})]}})),{next:l,prev:h}}});export{ja as V,Ha as a,$a as b,fe as c,de as d};
