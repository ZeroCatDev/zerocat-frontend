import{s as F,d as c,e as N,f as h,c as S}from"./projectService-D54mBBJq.js";import{_ as U,o as p,c as d,w as n,a as o,ae as i,L as s,M as u,K as a,e as f,S as g,R as y,a2 as j,T as b,Q as V}from"./index-BCCQ0H2E.js";import{V as k}from"./VTextarea-DuyNfcv6.js";import{V as v}from"./VContainer-fbKdjcW-.js";/* empty css              */const T={data(){return{project:{file:"",id:"120"},debuglog:"",accessFileToken:"",commitinfo:{branch:"main",accessFileToken:"",message:"commit",parent_commit:"main"},projectplayerbranchid:"",projectplayerbranch:"main",projectplayerfile:"",projectplayerfileid:"",projectplayerfileak:"",projectplayerbranchinfo:"",branches:[],projectplayer:"/scratch/embed.html?id=[id]&branch=main&ref=latest&embed=true",branchhistorybranch:"main",branchhistory:[]}},methods:{async savefile(){const r=await F(this.project.file);this.debuglog=this.debuglog+JSON.stringify(r)+`
`,this.commitinfo.accessFileToken=r.accessFileToken},async commit(){const r=await c(this.project.id,this.commitinfo);this.debuglog=this.debuglog+JSON.stringify(r)+`
`,this.projectplayerbranchid=r.data.id},async getBranchs(){const r=await getBranchInfo(this.project.id);this.debuglog=this.debuglog+JSON.stringify(r)+`
`,this.branches=r.data},async getprojectinfo(){const r=await N(this.project.id);this.debuglog=this.debuglog+JSON.stringify(r)+`
`},async getprojectfile(){const r=await h(this.project.id,this.projectplayerbranch,this.projectplayerbranchid);this.debuglog=this.debuglog+JSON.stringify(r.projectFileData)+`
`,this.projectplayerfile=r.projectFileData,this.projectplayerfileid=r.projectFileData.commit.commit_file,this.projectplayerfileak=r.projectFileData.accessFileToken,this.debuglog=this.debuglog+JSON.stringify(r.fileData)+`
`,this.projectplayer=JSON.stringify(r.fileData),this.projectplayerbranchinfo=JSON.stringify(r.branchInfo.data)},async getbranchhistory(){const r=await S(this.project.id,this.branchhistorybranch);this.debuglog=this.debuglog+JSON.stringify(r)+`
`,this.branchhistory=r.data}}};function C(r,l,J,O,t,m){return p(),d(v,null,{default:n(()=>[o(i,{modelValue:t.project.id,"onUpdate:modelValue":l[0]||(l[0]=e=>t.project.id=e),label:"项目ID"},null,8,["modelValue"]),o(k,{modelValue:t.project.file,"onUpdate:modelValue":l[1]||(l[1]=e=>t.project.file=e),label:"项目文件"},null,8,["modelValue"]),o(u,{onClick:l[2]||(l[2]=e=>m.savefile())},{default:n(()=>l[22]||(l[22]=[s("保存文件")])),_:1}),o(i,{modelValue:t.commitinfo.branch,"onUpdate:modelValue":l[3]||(l[3]=e=>t.commitinfo.branch=e),label:"分支"},null,8,["modelValue"]),o(i,{modelValue:t.commitinfo.message,"onUpdate:modelValue":l[4]||(l[4]=e=>t.commitinfo.message=e),label:"提交信息"},null,8,["modelValue"]),o(i,{modelValue:t.commitinfo.parent_commit,"onUpdate:modelValue":l[5]||(l[5]=e=>t.commitinfo.parent_commit=e),label:"父提交"},null,8,["modelValue"]),o(i,{modelValue:t.commitinfo.accessFileToken,"onUpdate:modelValue":l[6]||(l[6]=e=>t.commitinfo.accessFileToken=e),label:"文件token"},null,8,["modelValue"]),o(u,{onClick:l[7]||(l[7]=e=>m.commit())},{default:n(()=>l[23]||(l[23]=[s("提交")])),_:1}),l[31]||(l[31]=a("br",null,null,-1)),l[32]||(l[32]=a("br",null,null,-1)),o(u,{onClick:l[8]||(l[8]=e=>m.getBranchs())},{default:n(()=>l[24]||(l[24]=[s("获取branch信息")])),_:1}),o(u,{onClick:l[9]||(l[9]=e=>t.branches=[])},{default:n(()=>l[25]||(l[25]=[s("清空")])),_:1}),o(j,null,{default:n(()=>[(p(!0),f(y,null,g(t.branches,e=>(p(),d(V,{key:e,title:e.name,subtitle:JSON.stringify(e)},null,8,["title","subtitle"]))),128))]),_:1}),l[33]||(l[33]=a("br",null,null,-1)),o(i,{modelValue:t.branchhistorybranch,"onUpdate:modelValue":l[10]||(l[10]=e=>t.branchhistorybranch=e),label:"分支"},null,8,["modelValue"]),o(u,{onClick:l[11]||(l[11]=e=>m.getbranchhistory())},{default:n(()=>l[26]||(l[26]=[s("获取分支提交记录信息")])),_:1}),o(u,{onClick:l[12]||(l[12]=e=>t.branchhistory=[])},{default:n(()=>l[27]||(l[27]=[s("清空")])),_:1}),o(j,null,{default:n(()=>[(p(!0),f(y,null,g(t.branchhistory,e=>(p(),d(V,{key:e,title:e.id,subtitle:JSON.stringify(e)},null,8,["title","subtitle"]))),128))]),_:1}),o(u,{onClick:l[13]||(l[13]=e=>m.getprojectinfo())},{default:n(()=>l[28]||(l[28]=[s("获取项目信息")])),_:1}),l[34]||(l[34]=a("br",null,null,-1)),l[35]||(l[35]=a("br",null,null,-1)),o(i,{modelValue:t.projectplayerbranch,"onUpdate:modelValue":l[14]||(l[14]=e=>t.projectplayerbranch=e),label:"分支"},null,8,["modelValue"]),o(i,{modelValue:t.projectplayerbranchid,"onUpdate:modelValue":l[15]||(l[15]=e=>t.projectplayerbranchid=e),label:"分支ID"},null,8,["modelValue"]),a("p",null,"/"+b(t.project.id)+"/"+b(t.projectplayerbranch)+"/"+b(t.projectplayerbranchid),1),o(u,{onClick:l[16]||(l[16]=e=>m.getprojectfile())},{default:n(()=>l[29]||(l[29]=[s("获取项目文件")])),_:1}),l[36]||(l[36]=a("br",null,null,-1)),l[37]||(l[37]=a("br",null,null,-1)),o(i,{modelValue:t.projectplayerfileid,"onUpdate:modelValue":l[17]||(l[17]=e=>t.projectplayerfileid=e),label:"项目文件ID"},null,8,["modelValue"]),o(i,{modelValue:t.projectplayerfileak,"onUpdate:modelValue":l[18]||(l[18]=e=>t.projectplayerfileak=e),label:"项目文件Token"},null,8,["modelValue"]),o(k,{modelValue:t.projectplayer,"onUpdate:modelValue":l[19]||(l[19]=e=>t.projectplayer=e)},null,8,["modelValue"]),o(k,{modelValue:t.projectplayerbranchinfo,"onUpdate:modelValue":l[20]||(l[20]=e=>t.projectplayerbranchinfo=e)},null,8,["modelValue"]),o(u,{onClick:l[21]||(l[21]=e=>t.debuglog="")},{default:n(()=>l[30]||(l[30]=[s("清空")])),_:1}),o(j,null,{default:n(()=>[(p(!0),f(y,null,g(t.debuglog.split(`
`),e=>(p(),d(V,null,{default:n(()=>[s(b(e),1)]),_:2},1024))),256))]),_:1}),l[38]||(l[38]=a("br",null,null,-1))]),_:1})}const L=U(T,[["render",C]]);export{L as default};
