import{_ as C}from"./Comment-HS8LPIKg.js";import{_ as P,J as g,o as d,c as _,w as e,K as l,a as t,U as x,O as y,T as i,aj as b,$ as c,L as a,a8 as p,P as h,e as j,S as L,R as k,M as f,ad as w,ae as S,af as B}from"./index-BhyLdTDY.js";import{P as I}from"./Projects-B_ZWS-vJ.js";import{_ as U}from"./43-lazyload-CBkwrR6M.js";import{V as u}from"./VChip-8wcvVjXY.js";import{V as T,a as D}from"./VRow-RrM5xRmX.js";import{V as M}from"./VContainer-DZwniJBq.js";import"./VForm-BDWMMGLe.js";import"./VTextarea-BkoWrjJ0.js";import"./VDialog-K5senJyr.js";import"./showProjects-BAaropbb.js";import"./projectService-CvxU1CYu.js";import"./user-DL1skm4g.js";import"./VPagination-B8ZhTvMR.js";/* empty css              */const N={components:{Projects:I,Comment:C},data(){return{UserCardLoading:!0,ProjectsLoading:!0,userid:this.$route.params.id,userinfo:{id:1,username:"加载中",scratchteam:!1,history:{joined:"2021-06-20T01:01:52.000Z"},profile:{id:1,images:{"90x90":"https://cdn2.scratch.mit.edu/get_image/user/78738602_90x90.png?v=","60x60":"https://cdn2.scratch.mit.edu/get_image/user/78738602_60x60.png?v=","55x55":"https://cdn2.scratch.mit.edu/get_image/user/78738602_55x55.png?v=","50x50":"https://cdn2.scratch.mit.edu/get_image/user/78738602_50x50.png?v=","32x32":"https://cdn2.scratch.mit.edu/get_image/user/78738602_32x32.png?v="},status:"加载中",bio:"加载中",country:"加载中"}},projects:[],scratchcount:0,usetime:0,curPage:1,totalPage:1,limit:8,scratch_proxy:"https://scratch.192325.xyz"}},async created(){await this.getUserById(),await this.onPageChange(1,!1)},methods:{async onPageChange(n,r){r&&(this.projects=[]),this.usetime=Date.now(),this.ProjectsLoading=!0;try{const m=await g.get(`${this.scratch_proxy}/users/${this.$route.params.username}/projects?&offset=${n*16-16}&limit=${this.limit}`);this.projects=this.projects.concat(m.data)}catch(m){console.log(m)}finally{this.ProjectsLoading=!1,this.usetime=Date.now()-this.usetime}this.curPage=n},async getUserById(){try{const n=await g.get(this.scratch_proxy+"/users/"+this.$route.params.username);this.userinfo=n.data}catch(n){console.log(n)}finally{this.UserCardLoading=!1}}}},z={class:"mb-2"},R={class:"font-weight-black"},Z={class:"mb-2"};function A(n,r,m,E,s,V){const v=C;return d(),_(M,null,{default:e(()=>[l("div",z,[t(h,{class:"mx-auto mb-4",disabled:s.UserCardLoading,loading:s.UserCardLoading},{prepend:e(()=>[t(x,{class:"mb-2"},{default:e(()=>[t(y,{alt:s.userinfo.username,src:this.scratch_proxy+"/avatars/"+s.userinfo.id},null,8,["alt","src"])]),_:1})]),title:e(()=>[l("span",R,i(s.userinfo.username),1)]),loader:e(({isActive:o})=>[t(b,{active:o,height:"4",indeterminate:""},null,8,["active"])]),subtitle:e(()=>[t(u,null,{default:e(()=>[t(c,{icon:"mdi-account-circle",start:""}),a(" ID:"+i(s.userinfo.id),1)]),_:1}),t(u,null,{default:e(()=>[t(c,{icon:"mdi-clock",start:""}),a(" "+i(s.userinfo.history.joined)+"注册 ",1)]),_:1}),t(u,null,{default:e(()=>[t(c,{icon:"mdi-tag",start:""}),a(" "+i(n.scratchteam?"Scratch Team":"普通用户"),1)]),_:1}),t(u,null,{default:e(()=>[t(c,{icon:"mdi-earth",start:""}),a(" "+i(s.userinfo.profile.country),1)]),_:1}),r[1]||(r[1]=l("span",{class:""},null,-1))]),default:e(()=>[t(p,{class:"bg-surface-light pt-4"},{default:e(()=>[a(i(s.userinfo.profile.status),1)]),_:1}),t(p,{class:"bg-surface-light pt-4"},{default:e(()=>[a(i(s.userinfo.profile.bio),1)]),_:1})]),_:1},8,["disabled","loading"]),t(b,{active:s.ProjectsLoading,height:"4",indeterminate:""},null,8,["active"]),l("div",Z,[t(u,null,{default:e(()=>[t(c,{icon:"mdi-clock",start:""}),a("本页加载用时"+i(Math.abs(s.usetime/1e3))+"秒 ",1)]),_:1})]),t(T,null,{default:e(()=>[(d(!0),j(k,null,L(s.projects,o=>(d(),_(D,{cols:"4",md:"2",key:o},{default:e(()=>[t(h,{to:"/app/proxy/"+o.id},{default:e(()=>[t(y,{src:`${s.scratch_proxy}/thumbnails/${o.id}`,cover:"","lazy-src":U},null,8,["src"]),t(w,null,{prepend:e(()=>[t(x,{image:`${this.scratch_proxy}/avatars/${o.actor_id}`},null,8,["image"])]),default:e(()=>[t(S,null,{default:e(()=>[a(i(o.title),1)]),_:2},1024),t(B,null,{default:e(()=>[a(i(o.username),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),r[6]||(r[6]=l("br",null,null,-1)),t(f,{onClick:r[0]||(r[0]=o=>V.onPageChange(s.curPage+1,!1))},{default:e(()=>r[2]||(r[2]=[a("继续加载")])),_:1}),t(h,{subtitle:"这是Scratch上的内容",title:"ZeroCatScratchMirror",border:""},{actions:e(()=>[t(f,{href:"https://scratch.mit.edu/users/"+s.userinfo.username,target:"_blank"},{default:e(()=>r[4]||(r[4]=[a("Scratch上的用户主页")])),_:1},8,["href"]),t(f,{href:"https://scratch.mit.edu/terms_of_use",target:"_blank"},{default:e(()=>r[5]||(r[5]=[a("Scratch使用条款")])),_:1})]),default:e(()=>[t(p,{class:"bg-surface-light pt-4"},{default:e(()=>r[3]||(r[3]=[a(" 我们使用这种方式促进Scratch及其社区的发展，这些内容是按照"),l("a",null,"署名-相同方式共享 2.0 通用",-1),a("协议传播的，您可以在"),l("a",null,"https://creativecommons.org/licenses/by-sa/2.0/",-1),a("查看协议全文。 ")])),_:1})]),_:1})]),t(v,{url:"scratchmiteduuser-"+s.userinfo.id,name:"Scratch官网用户"},null,8,["url"])]),_:1})}const rt=P(N,[["render",A]]);export{rt as default};
