import{_ as y}from"./Comment-CmTE176z.js";import{_ as b,J as V,o as m,c as p,w as e,e as k,R as P,S as I,a2 as j,a as t,Q as B,U as S,a3 as T,L as a,T as n,a4 as D,a8 as z,M as f,P as h,K as o,O as N,ah as q,Y as u,a6 as d}from"./index-BYqNdXv5.js";import{_ as C}from"./ProxyShowProjects-C3ghU_9e.js";import{V as c}from"./VChip-CTXK6dhh.js";import{V as A}from"./VContainer-DNrC1FRA.js";import"./VForm-CtE3nE69.js";import"./VTextarea-DX24cJlO.js";import"./VDialog-CVeQTR8K.js";import"./43-lazyload-CBkwrR6M.js";import"./VRow-BuSSGV1N.js";/* empty css              */const M={props:{url:{type:String,required:!0},title:{type:String,required:!0}},data(){return{users:[],page:0,canLoad:!0,scratch_proxy:"https://scratch.192325.xyz",limit:20}},methods:{async fetchUsers(){await V.get(`${this.scratch_proxy}${this.url}limit=${this.limit}&offset=${this.page*this.limit}`).then(i=>{this.users=this.users.concat(i.data),this.page+=1,i.data.length===0&&(this.canLoad=!1)})}},created(){this.fetchUsers()}};function Z(i,r,_,U,s,g){return m(),p(h,{title:_.title,border:""},{default:e(()=>[(m(!0),k(P,null,I(s.users,l=>(m(),p(j,{key:l.id},{default:e(()=>[t(B,{to:"/app/proxy/user/"+l.username},{prepend:e(()=>[t(S,{image:`${s.scratch_proxy}/avatars/${l.id}`},null,8,["image"])]),default:e(()=>[t(T,null,{default:e(()=>[a(n(l.username),1)]),_:2},1024),t(D,null,{default:e(()=>[a(n(l.profile.bio),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128)),t(z,null,{default:e(()=>[t(f,{onClick:g.fetchUsers,disabled:!s.canLoad},{default:e(()=>r[0]||(r[0]=[a("继续加载")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1},8,["title"])}const L=b(M,[["render",Z]]);function $(i){return V.get(`https://scratch.192325.xyz/users/${i}`)}const E={components:{Comment:y,ProxyShowUsers:L,ProxyShowProjects:C},data(){return{UserCardLoading:!0,userid:this.$route.params.id,userinfo:{id:1,username:"加载中",scratchteam:!1,history:{joined:"2021-06-20T01:01:52.000Z"},profile:{id:1,images:{"90x90":"https://cdn2.scratch.mit.edu/get_image/user/78738602_90x90.png?v=","60x60":"https://cdn2.scratch.mit.edu/get_image/user/78738602_60x60.png?v=","55x55":"https://cdn2.scratch.mit.edu/get_image/user/78738602_55x55.png?v=","50x50":"https://cdn2.scratch.mit.edu/get_image/user/78738602_50x50.png?v=","32x32":"https://cdn2.scratch.mit.edu/get_image/user/78738602_32x32.png?v="},status:"加载中",bio:"加载中",country:"加载中"}},projects:[],scratchcount:0,usetime:0,curPage:1,totalPage:1,limit:40,scratch_proxy:"https://scratch.192325.xyz"}},async created(){await this.fetchUserData()},methods:{async fetchUserData(){try{const i=await $(this.$route.params.username);this.userinfo=i.data}catch(i){console.log(i)}finally{this.UserCardLoading=!1}}}},F={class:"mb-2"},J={class:"font-weight-black"};function K(i,r,_,U,s,g){const l=C,x=L,v=y;return m(),p(A,null,{default:e(()=>[o("div",F,[t(h,{class:"mx-auto mb-4",disabled:s.UserCardLoading,loading:s.UserCardLoading},{prepend:e(()=>[t(S,{class:"mb-2"},{default:e(()=>[t(N,{alt:s.userinfo.username,src:this.scratch_proxy+"/avatars/"+s.userinfo.id},null,8,["alt","src"])]),_:1})]),title:e(()=>[o("span",J,n(s.userinfo.username),1)]),loader:e(({isActive:w})=>[t(q,{active:w,height:"4",indeterminate:""},null,8,["active"])]),subtitle:e(()=>[t(c,null,{default:e(()=>[t(u,{icon:"mdi-account-circle",start:""}),a(" ID:"+n(s.userinfo.id),1)]),_:1}),t(c,null,{default:e(()=>[t(u,{icon:"mdi-clock",start:""}),a(" "+n(s.userinfo.history.joined)+"注册 ",1)]),_:1}),t(c,null,{default:e(()=>[t(u,{icon:"mdi-tag",start:""}),a(" "+n(i.scratchteam?"Scratch Team":"普通用户"),1)]),_:1}),t(c,null,{default:e(()=>[t(u,{icon:"mdi-earth",start:""}),a(" "+n(s.userinfo.profile.country),1)]),_:1}),r[0]||(r[0]=o("span",{class:""},null,-1))]),default:e(()=>[t(d,{class:"bg-surface-light pt-4"},{default:e(()=>[a(n(s.userinfo.profile.status),1)]),_:1}),t(d,{class:"bg-surface-light pt-4"},{default:e(()=>[a(n(s.userinfo.profile.bio),1)]),_:1})]),_:1},8,["disabled","loading"]),t(l,{url:`/users/${s.userinfo.username}/projects?`},null,8,["url"]),r[4]||(r[4]=o("br",null,null,-1)),t(x,{title:"他关注的人",url:`/users/${s.userinfo.username}/following?`},null,8,["url"]),r[5]||(r[5]=o("br",null,null,-1)),t(x,{title:"关注他的人",url:`/users/${s.userinfo.username}/followers?`},null,8,["url"]),r[6]||(r[6]=o("br",null,null,-1)),t(h,{subtitle:"这是Scratch上的内容",title:"ZeroCatScratchMirror",border:""},{actions:e(()=>[t(f,{href:"https://scratch.mit.edu/users/"+s.userinfo.username,target:"_blank"},{default:e(()=>r[2]||(r[2]=[a("Scratch上的用户主页")])),_:1},8,["href"]),t(f,{href:"https://scratch.mit.edu/terms_of_use",target:"_blank"},{default:e(()=>r[3]||(r[3]=[a("Scratch使用条款")])),_:1})]),default:e(()=>[t(d,{class:"bg-surface-light pt-4"},{default:e(()=>r[1]||(r[1]=[a(" 我们使用这种方式促进Scratch及其社区的发展，这些内容是按照"),o("a",null,"署名-相同方式共享 2.0 通用",-1),a("协议传播的，您可以在"),o("a",null,"https://creativecommons.org/licenses/by-sa/2.0/",-1),a("查看协议全文。 ")])),_:1})]),_:1})]),t(v,{url:"scratchmiteduuser-"+s.userinfo.id,name:"Scratch官网用户"},null,8,["url"])]),_:1})}const rt=b(E,[["render",K]]);export{rt as default};
