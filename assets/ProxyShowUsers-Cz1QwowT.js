import{_ as p,bg as _,a5 as h,X as o,o as i,M as t,c as f,e,F as m,W as g,ah as y,ai as x,aj as V,L as l,T as c,ak as L,Z as b,aJ as k,i as C,Y as S}from"./index-B0FU96U5.js";const $={props:{url:{type:String,required:!0},title:{type:String,required:!1},subtitle:{type:String,required:!1}},data(){return{users:[],page:0,canLoad:!0,scratch_proxy:"",limit:20}},methods:{async fetchUsers(){await h.get(`${this.scratch_proxy}${this.url}limit=${this.limit}&offset=${this.page*this.limit}`).then(s=>{this.users=this.users.concat(s.data),this.page+=1,s.data.length===0&&(this.canLoad=!1)})}},async mounted(){this.scratch_proxy=_("scratchproxy.url"),this.fetchUsers()}};function B(s,n,u,I,r,d){return i(),o(S,{title:u.title,border:"",hover:""},{default:t(()=>[(i(!0),f(m,null,g(r.users,a=>(i(),o(y,{key:a.id},{default:t(()=>[e(x,{to:"/app/proxy/user/"+a.username},{prepend:t(()=>[e(b,{image:`${r.scratch_proxy}/avatars/${a.id}`},null,8,["image"])]),default:t(()=>[e(V,null,{default:t(()=>[l(c(a.username),1)]),_:2},1024),e(L,null,{default:t(()=>[l(c(a.profile.bio),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128)),e(k,null,{default:t(()=>[e(C,{disabled:!r.canLoad,onClick:d.fetchUsers},{default:t(()=>n[0]||(n[0]=[l("继续加载",-1)])),_:1,__:[0]},8,["disabled","onClick"])]),_:1})]),_:1},8,["title"])}const v=p($,[["render",B]]);export{v as _};
