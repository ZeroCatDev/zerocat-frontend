import{_ as B}from"./UserBlocked-p9jjMn3V.js";import{a as S,_ as T}from"./UserFollowers-CEWAT_NF.js";import{b as U,p as P,a1 as q,a6 as A,a3 as N,x as D,d as F,y as E,aL as W,f as $,h as o,m as j,D as H,a4 as K,a7 as M,_ as O,U as r,o as i,N as s,S as _,au as R,K as d,O as Z,av as z,Z as V,ar as G,as as b,V as J,s as v,M as n,ah as h,L as Q}from"./index-abN7__yw.js";import{g as X}from"./accountService-CKTtTRot.js";import{V as Y}from"./VContainer-h73o5hjy.js";import"./VRow-C32JdGx3.js";/* empty css              */import"./VSnackbar-BUZd-1gw.js";const ee={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function te(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return o("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function I(t){const[e,a]=t.split("@");return Array.from({length:a}).map(()=>m(e))}function m(t){let e=[];if(!t)return e;const a=ee[t];if(t!==a){if(t.includes(","))return C(t);if(t.includes("@"))return I(t);a.includes(",")?e=C(a):a.includes("@")?e=I(a):a&&e.push(m(a))}return[te(t,e)]}function C(t){return t.replace(/\s/g,"").split(",").map(m)}const ae=P({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...M(),...K(),...H()},"VSkeletonLoader"),k=U()({name:"VSkeletonLoader",props:ae(),setup(t,e){let{slots:a}=e;const{backgroundColorClasses:y,backgroundColorStyles:l}=q(()=>t.color),{dimensionStyles:w}=A(t),{elevationClasses:p}=N(t),{themeClasses:c}=D(t),{t:f}=F(),u=E(()=>m(W(t.type).join(",")));return $(()=>{var x;const g=!a.default||t.loading,L=t.boilerplate||!g?{}:{ariaLive:"polite",ariaLabel:f(t.loadingText),role:"alert"};return o("div",j({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},c.value,y.value,p.value],style:[l.value,g?w.value:{}]},L),[g?u.value:(x=a.default)==null?void 0:x.call(a)])}),{}}}),oe={components:{UserFollowing:T,UserFollowers:S,UserBlocked:B},data(){return{tab:"following",localuser:h,userInfo:{},loading:!1}},setup(){Q({title:"用户关系"})},watch:{"$route.query.tab":{immediate:!0,handler(t){t&&["following","followers","blocked"].includes(t)&&(this.tab=t)}},tab(t){this.$route.query.tab!==t&&this.$router.replace({query:{...this.$route.query,tab:t}})}},async created(){h.isLogin.value?await this.getUserById():this.$router.push("/app/account/login")},methods:{async getUserById(){this.loading=!0;try{const t=await X(h.user.value.id);this.userInfo=t.data.data}catch(t){this.showToast("error","获取用户信息失败",t.message)}finally{this.loading=!1}},showToast(t,e,a){this.$toast.add({severity:t,summary:e,detail:a,life:3e3})}}};function se(t,e,a,y,l,w){const p=T,c=S,f=B;return i(),r(Y,{fluid:"",class:"pa-4"},{default:s(()=>[o(_,{class:"mb-4",border:""},{default:s(()=>[o(R,{class:"d-flex align-center"},{default:s(()=>[o(Z,{icon:"mdi-account-group",class:"mr-2"}),e[2]||(e[2]=d(" 用户关系 "))]),_:1}),o(z,null,{default:s(()=>e[3]||(e[3]=[d(" 管理您的关注、粉丝和拉黑用户列表 ")])),_:1}),o(V)]),_:1}),o(_,{hover:"",border:""},{default:s(()=>[o(G,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=u=>l.tab=u),"bg-color":"primary"},{default:s(()=>[o(b,{value:"following","prepend-icon":"mdi-account-multiple"},{default:s(()=>e[4]||(e[4]=[d("我的关注")])),_:1}),o(b,{value:"followers","prepend-icon":"mdi-account-group"},{default:s(()=>e[5]||(e[5]=[d("我的粉丝")])),_:1}),o(b,{value:"blocked","prepend-icon":"mdi-account-cancel"},{default:s(()=>e[6]||(e[6]=[d("拉黑用户")])),_:1})]),_:1},8,["modelValue"]),o(V,{class:"pa-4"},{default:s(()=>[o(J,{modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=u=>l.tab=u)},{default:s(()=>[o(v,{value:"following"},{default:s(()=>[e[7]||(e[7]=n("h3",{class:"text-h5 mb-4"},"我的关注",-1)),e[8]||(e[8]=n("p",{class:"text-subtitle-1 mb-4"},"您正在关注的用户列表，可以随时取消关注",-1)),l.userInfo.id?(i(),r(p,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(i(),r(k,{key:1,type:"list-item-three-line",loading:!0}))]),_:1}),o(v,{value:"followers"},{default:s(()=>[e[9]||(e[9]=n("h3",{class:"text-h5 mb-4"},"我的粉丝",-1)),e[10]||(e[10]=n("p",{class:"text-subtitle-1 mb-4"},"关注您的用户列表，您可以选择关注回去",-1)),l.userInfo.id?(i(),r(c,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(i(),r(k,{key:1,type:"list-item-three-line",loading:!0}))]),_:1}),o(v,{value:"blocked"},{default:s(()=>[e[11]||(e[11]=n("h3",{class:"text-h5 mb-4"},"拉黑用户",-1)),e[12]||(e[12]=n("p",{class:"text-subtitle-1 mb-4"},"您拉黑的用户列表，这些用户无法关注您或与您互动",-1)),l.userInfo.id?(i(),r(f,{key:0,"user-id":l.userInfo.id,"show-all":!0},null,8,["user-id"])):(i(),r(k,{key:1,type:"list-item-three-line",loading:!0}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const ce=O(oe,[["render",se],["__scopeId","data-v-e1c08612"]]);export{ce as default};
