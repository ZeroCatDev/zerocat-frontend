import{_ as B,aj as b,c as d,o as i,e as t,N as l,aA as c,L as n,aH as w,aF as x,Q as S,R as h,aD as v,i as y,at as N,au as D,W as V,a3 as T,F as k,U as C,O as E,f as r,S as A,X as p,a0 as M,a5 as U,a1 as O}from"./index-CSzZWmxC.js";import{V as F}from"./VSelect-BlpDaiBu.js";import{V as G}from"./VTextarea-D5bPKdWc.js";import"./VCheckboxBtn-CCF6t_zf.js";import"./VSelectionControl-BHdotmZa.js";const P={name:"ApiDebugPage",data(){return{requestUrl:"http://localhost:3000",requestMethod:"GET",headers:[{key:"Content-Type",value:"application/json"}],requestBody:"",activeTab:0,loading:!1,responseData:null,responseStatus:null,responseTime:null,responseHeaders:{},error:null}},computed:{formattedResponse(){if(!this.responseData)return"";try{return JSON.stringify(this.responseData,null,2)}catch{return this.responseData}}},methods:{async sendRequest(){this.loading=!0,this.error=null,this.responseData=null;const u={};this.headers.forEach(a=>{a.key&&a.value&&(u[a.key]=a.value)});const e={url:this.requestUrl,method:this.requestMethod,headers:u,validateStatus:()=>!0};if(!["GET","HEAD"].includes(this.requestMethod)&&this.requestBody)try{e.data=JSON.parse(this.requestBody)}catch{e.data=this.requestBody}const q=Date.now();try{const a=await O(e);this.responseTime=Date.now()-q,this.responseStatus=a.status,this.responseHeaders=a.headers,this.responseData=a.data}catch(a){this.error=`Request Error: ${a.message}`}finally{this.loading=!1}},resetForm(){this.requestUrl="http://localhost:3000",this.requestMethod="GET",this.headers=[{key:"Content-Type",value:"application/json"}],this.requestBody="",this.responseData=null,this.error=null},addHeader(){this.headers.push({key:"",value:""})},removeHeader(u){this.headers.splice(u,1)},getStatusColor(u){return u?u<300?"success":u<400?"info":u<500?"warning":"error":"grey"}}},L={class:"api-debug-container"},j={key:0},I={class:"d-flex align-center mb-2"},J={key:1},Q={key:2};function W(u,e,q,a,s,m){const g=b("v-tab-item"),H=b("v-tabs-items"),R=b("v-simple-table");return i(),d("div",L,[t(V,{class:"pa-4"},{default:l(()=>[t(c,null,{default:l(()=>e[5]||(e[5]=[n("API Debug Tool")])),_:1,__:[5]}),t(w,{onSubmit:x(m.sendRequest,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{cols:"12"},{default:l(()=>[t(v,{modelValue:s.requestUrl,"onUpdate:modelValue":e[0]||(e[0]=o=>s.requestUrl=o),label:"Request URL",placeholder:"http://localhost:3000",hint:"Enter the full URL including protocol","persistent-hint":"",outlined:"",required:""},null,8,["modelValue"])]),_:1})]),_:1}),t(S,null,{default:l(()=>[t(h,{cols:"12",md:"4"},{default:l(()=>[t(F,{modelValue:s.requestMethod,"onUpdate:modelValue":e[1]||(e[1]=o=>s.requestMethod=o),items:["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"],label:"Method",outlined:"",required:""},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",md:"8"},{default:l(()=>[t(y,{color:"primary",type:"submit",class:"mr-4",loading:s.loading},{default:l(()=>e[6]||(e[6]=[n(" Send Request ")])),_:1,__:[6]},8,["loading"]),t(y,{color:"secondary",onClick:m.resetForm},{default:l(()=>e[7]||(e[7]=[n(" Reset ")])),_:1,__:[7]},8,["onClick"])]),_:1})]),_:1}),t(N,{modelValue:s.activeTab,"onUpdate:modelValue":e[2]||(e[2]=o=>s.activeTab=o)},{default:l(()=>[t(D,null,{default:l(()=>e[8]||(e[8]=[n("Headers")])),_:1,__:[8]}),t(D,null,{default:l(()=>e[9]||(e[9]=[n("Body")])),_:1,__:[9]})]),_:1},8,["modelValue"]),t(H,{modelValue:s.activeTab,"onUpdate:modelValue":e[4]||(e[4]=o=>s.activeTab=o)},{default:l(()=>[t(g,null,{default:l(()=>[t(V,{flat:""},{default:l(()=>[t(T,null,{default:l(()=>[(i(!0),d(k,null,C(s.headers,(o,f)=>(i(),d("div",{key:f,class:"d-flex mb-3"},[t(v,{modelValue:o.key,"onUpdate:modelValue":_=>o.key=_,label:"Header Name",outlined:"",dense:"",class:"mr-2"},null,8,["modelValue","onUpdate:modelValue"]),t(v,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,label:"Value",outlined:"",dense:"",class:"mr-2"},null,8,["modelValue","onUpdate:modelValue"]),t(y,{icon:"",color:"red",onClick:_=>m.removeHeader(f)},{default:l(()=>[t(E,null,{default:l(()=>e[10]||(e[10]=[n("mdi-delete")])),_:1,__:[10]})]),_:2},1032,["onClick"])]))),128)),t(y,{color:"success",text:"",onClick:m.addHeader},{default:l(()=>[t(E,{left:""},{default:l(()=>e[11]||(e[11]=[n("mdi-plus")])),_:1,__:[11]}),e[12]||(e[12]=n(" Add Header "))]),_:1,__:[12]},8,["onClick"])]),_:1})]),_:1})]),_:1}),t(g,null,{default:l(()=>[t(V,{flat:""},{default:l(()=>[t(T,null,{default:l(()=>[t(G,{modelValue:s.requestBody,"onUpdate:modelValue":e[3]||(e[3]=o=>s.requestBody=o),outlined:"",label:"Request Body (JSON)",rows:"8",disabled:["GET","HEAD"].includes(s.requestMethod),hint:["GET","HEAD"].includes(s.requestMethod)?"Body not applicable for this method":"Enter JSON format data","persistent-hint":""},null,8,["modelValue","disabled","hint"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["onSubmit"]),t(c,{class:"mt-4"},{default:l(()=>e[13]||(e[13]=[n("Response")])),_:1,__:[13]}),t(V,{outlined:"",class:"mt-2"},{default:l(()=>[t(T,null,{default:l(()=>[s.responseData?(i(),d("div",j,[r("div",I,[e[14]||(e[14]=r("div",{class:"font-weight-bold mr-2"},"Status:",-1)),t(A,{color:m.getStatusColor(s.responseStatus),"text-color":"white",small:""},{default:l(()=>[n(p(s.responseStatus),1)]),_:1},8,["color"]),e[15]||(e[15]=r("div",{class:"ml-4 font-weight-bold mr-2"},"Time:",-1)),r("span",null,p(s.responseTime)+"ms",1)]),t(M,{class:"my-3"}),e[17]||(e[17]=r("div",{class:"font-weight-bold mb-2"},"Response Headers:",-1)),t(R,{dense:"",class:"mb-4"},{default:l(()=>[e[16]||(e[16]=r("thead",null,[r("tr",null,[r("th",null,"Name"),r("th",null,"Value")])],-1)),r("tbody",null,[(i(!0),d(k,null,C(s.responseHeaders,(o,f)=>(i(),d("tr",{key:f},[r("td",null,p(f),1),r("td",null,p(o),1)]))),128))])]),_:1}),e[18]||(e[18]=r("div",{class:"font-weight-bold mb-2"},"Response Body:",-1)),t(V,{class:"response-body pa-3",outlined:""},{default:l(()=>[r("pre",null,p(m.formattedResponse),1)]),_:1})])):s.error?(i(),d("div",J,[t(U,{type:"error",outlined:""},{default:l(()=>[n(p(s.error),1)]),_:1})])):(i(),d("div",Q,[t(U,{type:"info",outlined:""},{default:l(()=>e[19]||(e[19]=[n(" Send a request to see the response ")])),_:1,__:[19]})]))]),_:1})]),_:1})]),_:1})])}const $=B(P,[["render",W]]);export{$ as default};
