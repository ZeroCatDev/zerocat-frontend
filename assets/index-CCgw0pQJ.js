import{_ as h,r as p,b as w,Y as i,o,N as e,e as t,Q as f,R as V,f as l,i as x,L as c,W as k,a3 as g,a4 as b,O as _,ad as C,c as L,F as A,U as I,ae as S,af as z,$ as B,X as d,S as N,ag as O,Z as T,bJ as D,T as F,a1 as E}from"./index-Co55OykW.js";import{V as R}from"./VSpacer-CDaUZsi5.js";const U={class:"d-flex align-center"},$={class:"d-flex align-center text-grey"},J={class:"mr-4"},M={class:"mt-1"},P={__name:"index",setup(Q){const u=p([]),m=p(!1),n=p({show:!1,text:"",color:"error"}),v=async()=>{m.value=!0;try{const r=await E.get("/oauth/applications");u.value=r.data}catch(r){y("加载应用列表失败"),console.error("Failed to load applications:",r)}m.value=!1},y=r=>{n.value={show:!0,text:r,color:"error"}};return w(()=>{v()}),(r,a)=>(o(),i(F,{fluid:""},{default:e(()=>[t(f,{class:"mb-4"},{default:e(()=>[t(V,null,{default:e(()=>[l("div",U,[a[2]||(a[2]=l("h1",{class:"text-h4"},"OAuth 应用",-1)),t(R),t(x,{color:"primary","prepend-icon":"mdi-plus",to:"/app/oauth/applications/new"},{default:e(()=>a[1]||(a[1]=[c(" 新建应用 ")])),_:1,__:[1]})])]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(V,null,{default:e(()=>[t(k,null,{default:e(()=>[m.value?(o(),i(g,{key:0,class:"text-center py-8"},{default:e(()=>[t(b,{indeterminate:""})]),_:1})):u.value.length===0?(o(),i(g,{key:1,class:"text-center py-8"},{default:e(()=>[t(_,{icon:"mdi-apps",size:"64",color:"grey",class:"mb-4"}),a[4]||(a[4]=l("h3",{class:"text-h6 mb-2"},"还没有OAuth应用",-1)),a[5]||(a[5]=l("p",{class:"text-body-1 text-grey"}," 创建一个新的OAuth应用来让其他用户通过OAuth授权访问你的应用。 ",-1)),t(x,{color:"primary",class:"mt-4",to:"/app/oauth/applications/new"},{default:e(()=>a[3]||(a[3]=[c(" 创建第一个应用 ")])),_:1,__:[3]})]),_:1,__:[4,5]})):(o(),i(C,{key:2,lines:"two"},{default:e(()=>[(o(!0),L(A,null,I(u.value,s=>(o(),i(S,{key:s.client_id,to:`/app/oauth/applications/${s.client_id}`,class:"app-list-item"},{prepend:e(()=>[t(T,{image:s.logo_url||"/default-app-logo.png",size:"48",class:"mr-4"},null,8,["image"])]),default:e(()=>[t(z,{class:"text-h6 mb-1"},{default:e(()=>[c(d(s.name)+" ",1),s.is_verified?(o(),i(N,{key:0,color:"success",size:"small",class:"ml-2"},{default:e(()=>a[6]||(a[6]=[c(" 已验证 ")])),_:1,__:[6]})):B("",!0)]),_:2},1024),t(O,null,{default:e(()=>[l("div",$,[t(_,{icon:"mdi-identifier",size:"small",class:"mr-1"}),l("span",J,d(s.client_id),1),t(_,{icon:"mdi-clock-outline",size:"small",class:"mr-1"}),l("span",null,"创建于 "+d(new Date(s.created_at).toLocaleDateString()),1)]),l("div",M,d(s.description||"暂无描述"),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}))]),_:1})]),_:1})]),_:1}),t(D,{modelValue:n.value.show,"onUpdate:modelValue":a[0]||(a[0]=s=>n.value.show=s),color:n.value.color,timeout:3e3},{default:e(()=>[c(d(n.value.text),1)]),_:1},8,["modelValue","color"])]),_:1}))}},Y=h(P,[["__scopeId","data-v-ec76c6cf"]]);export{Y as default};
