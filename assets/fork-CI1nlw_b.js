import{_ as j,az as a,l as V,i as d,r as v,o as w,c as y,w as l,j as n,p as o,z as s,a as r,v as p,X as m,m as f,E as C}from"./index-CWnjofDw.js";import{V as x}from"./VCheckbox-BhXMb7zB.js";import{V as g}from"./VContainer-1zfpYcGM.js";const N={data(){return{project:{},openEditor:a,localuser:V,checktext:"",checkknow:!1,checklicense:!1,textRules:[u=>u?!0:"记得输入内容哦~",u=>{if(u!="我保证会好好对待改编的作品")return"输的不太对~"}]}},async created(){await this.getproject()},methods:{async getproject(){this.project=await d({url:"/project/"+this.$route.params.id,method:"get"}),console.log(this.project)},async forkproject(u){await d({url:"/project/"+u+"/fork",method:"post"}).then(t=>{console.log(t),this.$toast.add({severity:"success",summary:"成功",detail:"分叉成功",life:3e3}),t.id&&this.$router.push("/projects/"+t.id)}).catch(t=>{console.log(t),this.$toast.add({severity:"error",summary:"错误",detail:t,life:3e3})})}}},B={class:"d-flex justify-space-between"},U={class:"text-h4"},z=["textContent"],F=["textContent"];function E(u,t,L,R,e,k){const b=v("v-text");return w(),y(g,{class:"pa-md-12"},{default:l(()=>[n("div",B,[n("h1",U,[t[4]||(t[4]=o("Fork ")),n("span",{textContent:s(e.project.title)},null,8,z)])]),t[18]||(t[18]=n("br",null,null,-1)),r(p,null,{title:l(()=>[o(s(e.project.title),1)]),subtitle:l(()=>[o(" 作者"+s(e.project.author.display_name)+"，发布于："+s(e.project.time)+"，"+s(e.project.view_count)+"次浏览 ",1)]),text:l(()=>[o(s(e.project.description),1)]),_:1}),t[19]||(t[19]=n("br",null,null,-1)),r(p,null,{title:l(()=>t[5]||(t[5]=[o(" 你正在分叉一个项目 ")])),subtitle:l(()=>t[6]||(t[6]=[o(" 等等，确认点事 ")])),text:l(()=>[t[7]||(t[7]=o(" 你正在分叉 ")),n("span",{textContent:s(e.project.title)},null,8,F),t[8]||(t[8]=o(" ，这将会从此项目的生产环境创建一个一模一样的项目，新的项目将拥有一样的名称，简介与源代码内容。分叉是一个技术概念，不代表作者对你有任何授权。 ")),t[9]||(t[9]=n("br",null,null,-1)),t[10]||(t[10]=o("改编设立的目的是为了让社区中的作品得到更好的发展，请不要滥用改编，更不能直接抄袭。 "))]),default:l(()=>[r(m,null,{default:l(()=>[r(x,{label:"我已了解并确认",modelValue:e.checkknow,"onUpdate:modelValue":t[0]||(t[0]=i=>e.checkknow=i)},null,8,["modelValue"])]),_:1})]),_:1}),t[20]||(t[20]=n("br",null,null,-1)),r(p,null,{title:l(()=>[o(s(e.project.license),1)]),subtitle:l(()=>[o(" 你需要遵守："+s(e.project.license)+"许可证。 ",1)]),text:l(()=>[r(f,{href:"https://choosealicense.com/licenses/"+e.project.license,target:"_blank",variant:"outlined"},{default:l(()=>t[11]||(t[11]=[o("了解此许可证")])),_:1},8,["href"]),t[12]||(t[12]=n("br",null,null,-1)),t[13]||(t[13]=n("br",null,null,-1)),t[14]||(t[14]=o(" 开源许可证授予你合理的权利，但前提是你必须遵守许可证的条款。如果没有许可证(显示为NULL)，则默认受专有版权保护，在你分发(开源作品)前，你需要尝试联系作者获得授权。")),t[15]||(t[15]=n("br",null,null,-1)),t[16]||(t[16]=o(" 避风港原则，许可证不限制ZeroCatNext分发您的作品。 "))]),default:l(()=>[r(m,null,{default:l(()=>[r(x,{label:"我已了解并确认",modelValue:e.checklicense,"onUpdate:modelValue":t[1]||(t[1]=i=>e.checklicense=i)},null,8,["modelValue"])]),_:1})]),_:1}),t[21]||(t[21]=n("br",null,null,-1)),r(b,null,{default:l(()=>t[17]||(t[17]=[o("如果您已了解以上内容，请在下方的输入框中输入")])),_:1}),t[22]||(t[22]=o()),t[23]||(t[23]=n("br",null,null,-1)),t[24]||(t[24]=n("br",null,null,-1)),r(C,{hint:"请准确输入上方的话",label:"我保证会好好对待改编的作品",type:"input",modelValue:e.checktext,"onUpdate:modelValue":t[2]||(t[2]=i=>e.checktext=i),rules:e.textRules,required:"",variant:"outlined",clearable:""},null,8,["modelValue","rules"]),t[25]||(t[25]=n("br",null,null,-1)),r(f,{class:"text-none",color:"primary",rounded:"xl",text:"Fork",variant:"flat",size:"large",onClick:t[3]||(t[3]=i=>k.forkproject(e.project.id)),"append-icon":"mdi-arrow-right",disabled:!e.checkknow||!e.checklicense||!e.checktext},null,8,["disabled"])]),_:1})}const A=j(N,[["render",E]]);export{A as default};
