import{_ as c}from"./UserBlocked-zwmUQlXF.js";import{a as g,_ as w}from"./UserFollowers-BenFhd_k.js";import{_ as h,Y as r,o as a,N as o,e as s,W as b,ah as x,ai as n,L as d,a3 as I,V as v,q as p,f as i,T,ab as f,M as U}from"./index-BtdOAlf3.js";import{g as B}from"./accountService-C7wqZVd_.js";import{V as m}from"./VSkeletonLoader-KJLKK42P.js";import"https://static.geetest.com/v4/gt4.js";const q={components:{UserFollowing:w,UserFollowers:g,UserBlocked:c},data(){return{tab:"following",localuser:f,userInfo:{},loading:!1}},setup(){U({title:"用户关系"})},watch:{"$route.query.tab":{immediate:!0,handler(t){t&&["following","followers","blocked"].includes(t)&&(this.tab=t)}},tab(t){this.$route.query.tab!==t&&this.$router.replace({query:{...this.$route.query,tab:t}})}},async created(){f.isLogin.value?await this.getUserById():this.$router.push("/app/account/login")},methods:{async getUserById(){this.loading=!0;try{const t=await B(f.user.value.id);this.userInfo=t.data.data}catch(t){this.showToast("error","获取用户信息失败",t.message)}finally{this.loading=!1}},showToast(t,e,_){this.$toast.add({severity:t,summary:e,detail:_,life:3e3})}}};function C(t,e,_,N,l,L){const y=w,V=g,k=c;return a(),r(T,{class:"pa-4",fluid:""},{default:o(()=>[s(b,{border:"",class:"mb-4","prepend-icon":"mdi-account-group",subtitle:"管理您的关注、粉丝和拉黑用户列表",title:"用户关系"}),s(b,{border:"",hover:""},{default:o(()=>[s(x,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=u=>l.tab=u),"bg-color":"primary"},{default:o(()=>[s(n,{"prepend-icon":"mdi-account-multiple",value:"following"},{default:o(()=>e[2]||(e[2]=[d("我的关注",-1)])),_:1,__:[2]}),s(n,{"prepend-icon":"mdi-account-group",value:"followers"},{default:o(()=>e[3]||(e[3]=[d("我的粉丝",-1)])),_:1,__:[3]}),s(n,{"prepend-icon":"mdi-account-cancel",value:"blocked"},{default:o(()=>e[4]||(e[4]=[d("拉黑用户",-1)])),_:1,__:[4]})]),_:1},8,["modelValue"]),s(I,{class:"pa-4"},{default:o(()=>[s(v,{modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=u=>l.tab=u)},{default:o(()=>[s(p,{value:"following"},{default:o(()=>[e[5]||(e[5]=i("h3",{class:"text-h5 mb-4"},"我的关注",-1)),e[6]||(e[6]=i("p",{class:"text-subtitle-1 mb-4"},"您正在关注的用户列表，可以随时取消关注",-1)),l.userInfo.id?(a(),r(y,{key:0,"show-all":!0,"user-id":l.userInfo.id},null,8,["user-id"])):(a(),r(m,{key:1,loading:!0,type:"list-item-three-line"}))]),_:1,__:[5,6]}),s(p,{value:"followers"},{default:o(()=>[e[7]||(e[7]=i("h3",{class:"text-h5 mb-4"},"我的粉丝",-1)),e[8]||(e[8]=i("p",{class:"text-subtitle-1 mb-4"},"关注您的用户列表，您可以选择关注回去",-1)),l.userInfo.id?(a(),r(V,{key:0,"show-all":!0,"user-id":l.userInfo.id},null,8,["user-id"])):(a(),r(m,{key:1,loading:!0,type:"list-item-three-line"}))]),_:1,__:[7,8]}),s(p,{value:"blocked"},{default:o(()=>[e[9]||(e[9]=i("h3",{class:"text-h5 mb-4"},"拉黑用户",-1)),e[10]||(e[10]=i("p",{class:"text-subtitle-1 mb-4"},"您拉黑的用户列表，这些用户无法关注您或与您互动",-1)),l.userInfo.id?(a(),r(k,{key:0,"show-all":!0,"user-id":l.userInfo.id},null,8,["user-id"])):(a(),r(m,{key:1,loading:!0,type:"list-item-three-line"}))]),_:1,__:[9,10]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const Y=h(q,[["render",C],["__scopeId","data-v-903dd3c8"]]);export{Y as default};
