import{d as l}from"./projectService-DwrysHzt.js";import{a as p}from"./user-B5ry4Xqq.js";import{_ as m}from"./43-lazyload-CBkwrR6M.js";import{_,o as d,c as u,w as a,e as f,R as g,S as y,a as e,P as c,O as I,ab as V,ac as j,L as i,T as h,ad as x}from"./index-BmoE2kT3.js";import{a as w,V as A}from"./VRow-Cw0GMX3k.js";const b={props:{projectIds:{type:Array,required:!0}},data(){return{projects:[],authorIds:[],authors:{}}},watch:{projectIds:{handler(){this.fetchProjects()},immediate:!0,deep:!0}},methods:{async fetchProjects(){const t=await l(this.projectIds);this.projects=t.map(r=>({...r,author:{display_name:"加载中..."}})),this.updateAuthorIds()},updateAuthorIds(){this.authorIds=[...new Set(this.projects.map(t=>t.authorid))],this.fetchAuthors()},async fetchAuthors(){const t=await p(this.authorIds),r={};t.forEach(o=>{r[o.id]=o}),this.authors=r,this.updateProjectAuthors()},updateProjectAuthors(){this.projects=this.projects.map(t=>({...t,author:this.authors[t.authorid]||{display_name:"未知用户"}}))}}};function C(t,r,o,P,n,k){return d(),u(A,null,{default:a(()=>[(d(!0),f(g,null,y(n.projects,s=>(d(),u(w,{key:s.id,cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2",xxl:"2"},{default:a(()=>[e(c,{rounded:"lg",border:""},{default:a(()=>[e(c,{to:`/${s.author.username}/${s.name}`,style:{"aspect-ratio":"4/3"},rounded:"lg"},{default:a(()=>[e(I,{src:"https://s4-1.wuyuan.1r.ink/scratch_slt/"+s.id,class:"align-end","lazy-src":m,height:"100%",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",cover:""},{default:a(()=>[e(V,null,{default:a(()=>[e(j,null,{default:a(()=>[i(h(s.title||"未缓存"),1)]),_:2},1024),e(x,null,{default:a(()=>[i(h(s.description||""),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})}const L=_(b,[["render",C]]);export{L as _};
