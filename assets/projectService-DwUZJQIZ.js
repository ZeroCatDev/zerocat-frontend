import{J as e}from"./index-Hv2CJ3E2.js";const i=t=>({id:t,title:"未知项目",description:"项目信息未缓存",authorid:0,type:"scratch",license:"unknow",state:"unknow",view_count:0,time:0,tags:[],source:"unknow"});async function p(t){if(Array.isArray(t))try{const{data:o}=await e.post("/project/batch",{projectIds:t});return o.data}catch{return t.map(n=>i(n))}else try{const{data:o}=await e.get(`/project/id/${t}`);return o}catch{return i(t)}}async function g(t,o){try{const{data:n}=await e.get(`/project/namespace/${t}/${o}`);return n}catch{return i(0)}}async function l(t){try{const{data:o}=await e.post(`/project/initlize?projectid=${t}`);return o}catch{return i(0)}}const y=async t=>(await e({url:`/project/branches?projectid=${t}`,method:"get"})).data,h=async(t,o)=>{console.log(`Fetching commits for projectId: ${t}`);const s=(await e({url:`/project/commits?projectid=${t}`,method:"get"})).data.data;console.log(`Fetched ${s.length} commits`);const m=c=>(console.log(`Finding commit by id: ${c}`),s.find(a=>a.id===c));return(c=>{console.log(`Building commit history starting from commitid: ${c}`);const a=[];let r=m(c);for(;r;){if(console.log(`Adding commit to history: ${r.id}`),a.push(r),!r.parent_commit_id){console.log(`No parent commit found for commitid: ${r.id}`);break}r=m(r.parent_commit_id)}return a})(o)};export{y as a,h as b,p as c,g,l as i};
